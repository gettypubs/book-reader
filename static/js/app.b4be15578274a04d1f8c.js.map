{"version":3,"sources":["webpack:///static/js/app.b4be15578274a04d1f8c.js","webpack:///./node_modules/vue-awesome/components/Icon.vue?bf0a","webpack:///./src/main.js","webpack:///./src/App.vue?3172","webpack:///App.vue","webpack:///./src/App.vue?c196","webpack:///./src/router/index.js","webpack:///./src/components/Main.vue?1848","webpack:///Main.vue","webpack:///./src/components/Reader.vue?dc1f","webpack:///Reader.vue","webpack:///./src/components/PDF.vue?59f9","webpack:///PDF.vue","webpack:///./src/components/Page.vue?eccc","webpack:///Page.vue","webpack:///./src/components/TextLayer.vue?5654","webpack:///TextLayer.vue","webpack:///./src/components/TextLayer.vue?167d","webpack:///./src/components/ImageLayer.vue?128d","webpack:///ImageLayer.vue","webpack:///./src/components/ImageLayer.vue?a633","webpack:///./src/components/Page.vue?063e","webpack:///./src/components/Search.vue","webpack:///Search.vue","webpack:///./src/components/Search.vue?4986","webpack:///./src/components/PDF.vue?2d51","webpack:///./src/components/Table.vue?fbca","webpack:///Table.vue","webpack:///Icon.vue","webpack:///./node_modules/vue-awesome/components/Icon.vue?ba09","webpack:///./src/components/Table.vue?2ab2","webpack:///./src/components/Grid.vue?ef26","webpack:///Grid.vue","webpack:///./src/components/Grid.vue?6809","webpack:///./src/components/Outline.vue?d620","webpack:///Outline.vue","webpack:///./src/components/Outline.vue?e541","webpack:///./src/components/Detail.vue?839d","webpack:///Detail.vue","webpack:///./src/components/Detail.vue?e141","webpack:///./src/components/Reader.vue?780d","webpack:///./src/components/Main.vue?40aa"],"names":["webpackJsonp","module","exports","__webpack_require__","injectStyle","ssrContext","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","a","name","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Main__","__WEBPACK_IMPORTED_MODULE_2__components_Main___default","use","routes","path","component","__WEBPACK_IMPORTED_MODULE_0__components_Reader__","__WEBPACK_IMPORTED_MODULE_0__components_Reader___default","Reader","data","console","log","$route","params","book","edition","page","image","url","__WEBPACK_IMPORTED_MODULE_1__components_PDF__","__WEBPACK_IMPORTED_MODULE_1__components_PDF___default","__WEBPACK_IMPORTED_MODULE_2__components_Table__","__WEBPACK_IMPORTED_MODULE_2__components_Table___default","__WEBPACK_IMPORTED_MODULE_3__components_Grid__","__WEBPACK_IMPORTED_MODULE_3__components_Grid___default","__WEBPACK_IMPORTED_MODULE_4__components_Outline__","__WEBPACK_IMPORTED_MODULE_4__components_Outline___default","__WEBPACK_IMPORTED_MODULE_5__components_Detail__","__WEBPACK_IMPORTED_MODULE_5__components_Detail___default","__WEBPACK_IMPORTED_MODULE_6_whatwg_fetch__","__WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon__","__WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon___default","__WEBPACK_IMPORTED_MODULE_22_buefy__","__WEBPACK_IMPORTED_MODULE_22_buefy___default","__WEBPACK_IMPORTED_MODULE_23_buefy_lib_buefy_css__","defaultIconPack","PDF","grid","tablegrid","icon","outline","detail","props","manifest-url","type","String","page-url","image-url","bounds","getBounds","manifest","images","displayedPage","spreads","showTable","showGrid","currentDetail","undefined","width","height","outlineOpen","query","matchCount","currentMatchIndex","zoomLevel","shownDetail","displayedDetail","activeTab","title","shortTitle","current","isModalActive","showSearch","created","fetchManifest","window","addEventListener","keyListener","bind","handleResize","beforeDestory","removeEventListener","watch","$refs","table","triggerLoad","pageUrl","loaded","parseInt","imageUrl","$router","push","methods","_this","fetch","manifestUrl","then","response","json","subtitle","author_as_it_appears","catch","err","error","pdfDocument","next","pdf","prev","e","keyCode","goto","dest","_this2","getPageIndex","pg","onImageSelected","onPageSelected","onImageClicked","objId","onDetailClosed","onDetailDisplayed","onFound","count","onMatch","index","onCurrentTitle","innerWidth","innerHeight","setSpreads","onOutlineReady","onPageChanged","pages","length","onTabChanged","_$refs","toggleTable","toggleGrid","nextMatch","prevMatch","zoomIn","Math","round","zoomOut","__WEBPACK_IMPORTED_MODULE_0__components_Page__","__WEBPACK_IMPORTED_MODULE_0__components_Page___default","__WEBPACK_IMPORTED_MODULE_1__components_Search__","__WEBPACK_IMPORTED_MODULE_1__components_Search___default","pdfjsLib","PDFJS","workerSrc","Page","Search","src","Number","default","Boolean","Function","zoom","numPages","scale","rotate","isLoading","viewportWidth","viewportHeight","displayedPages","displayedPagesNumbers","pageMatchesLength","pageMatches","matched","selectedMatch","updated","mounted","loadDocument","display","_spreads","$emit","clearMatches","container","getBoundingClientRect","scrollLeftDelta","scrollLeft","scrollWidth","scrollTopDelta","scrollTop","scrollHeight","_this3","getDocument","pagesCount","getOutline","processOutline","arguments","loadPage","pageIndex","_this4","Error","pageNumber","getPage","onPageLoad","onPageError","_this5","includes","$nextTick","updatedSelectedMatch","updateTextLayerMatches","afterDisplayed","handleViewport","viewport","onMatched","pageIdx","onSelected","selected","left","top","_this6","forEach","__WEBPACK_IMPORTED_MODULE_0__components_TextLayer__","__WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default","__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__","__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default","textlayer","imagelayer","onViewport","viewportScale","textContent","displayPage","displaying","getPageScale","pageScale","getViewport","canvas","canvasContext","getContext","scaled","imageCount","imageLayer","beginLayout","endLayout","appendImage","i","textLayer","clearTextLayerMatches","matchIdx","renderTimeout","matches","textDivs","getTextContent","onContent","destroyed","normalizeWhitespace","clearTextLayer","textLayerFrag","document","createDocumentFragment","textLayerRenderTask","cancel","renderTextLayer","timeout","promise","appendChild","convertMatches","renderMatches","firstChild","removeChild","_sentSelected","beginText","begin","className","divIdx","appendTextToDiv","offset","fromOffset","toOffset","div","content","bidiTexts","str","substring","node","createTextNode","span","createElement","items","prevEnd","isSelectedPage","selectedMatchIdx","infinity","i0","i1","match","end","isSelected","highlightSuffix","n0","n1","matchesLength","iIndex","queryLen","ret","m","len","clearedUntilDivIdx","max","ref","staticClass","style","Array","handleClick","_l","refInFor","on","click","$event","class","loading","_v","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__","CHARACTERS_TO_NORMALIZE","‘","’","‚","‛","“","”","„","‟","¼","½","¾","replace","join","normalizationRegex","RegExp","waitTimeout","phraseSearch","minQueryLength","pageContents","pendingFindMatches","active","pagesToSearch","extractTextPromises","extractText","reset","clearTimeout","findTimeout","setTimeout","find","prevQuery","calcFindMatch","normalize","text","ch","_prepareMatches","matchesWithLength","sort","b","matchLength","currentIndex","currentElem","nextElem","skipped","prevElem","calcFindPhraseMatch","pageContent","indexOf","calcFindWordMatch","queryArray","subquery","subqueryLen","caseSensitive","toLowerCase","getPageTextContent","startedTextExtraction","resolve","ii","extractTextCapability","textItems","strBuf","j","jj","centered","key","displayed","found","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__","__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon__","__WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon___default","preLoad","attempt","sortOrders","columns","sortKey","filterKey","gridColumns","computed","filteredData","order","filter","row","some","slice","filters","capitalize","charAt","toUpperCase","titlecase","_str","txt","substr","sortBy","nextTick","$Lazyload","lazyLoadHandler","icons","validator","val","util","warn","spin","inverse","flip","label","x","y","childrenWidth","childrenHeight","outerScale","normalizedScale","isNaN","clazz","fa-icon","fa-spin","fa-flip-horizontal","fa-flip-vertical","fa-inverse","box","ratio","_icon","fontSize","$children","child","register","paths","d","polygons","points","version","role","aria-label","viewBox","_t","_b","_e","polygon","raw","domProps","innerHTML","_s","directives","rawName","expression","input","target","composing","rel","href","bordered","striped","mobile-cards","paginated","per-page","pagination-simple","scopedSlots","_u","fn","tb","field","sortable","downsampled","asset","artwork_title","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","pageList","activeItem","processData","item","li","checkActive","handleLink","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","return","onClick","__WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__","imagesById","imagesByArtwork","imagesByArtist","imagesByCollection","imageRef","location","artworkUri","encodeURI","artist_name","artistUri","collection","collectionUri","nextDetail","prevDetail","artistLookup","uri","artist_uri","artistJson","artist_json","preventDefault","copyright","collection_uri","artwork_uri","relatedImage","thumbnail","page_label","results","placeholder","pageChanged","position","change","model","callback","$$v","onImageClick","onPageClick","is-active","pageSelected","closed"],"mappings":"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","file":"static/js/app.b4be15578274a04d1f8c.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(115)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(116),\n  /* template */\n  __webpack_require__(117),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(53);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 47 */,\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(49)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(51),\n  /* template */\n  __webpack_require__(52),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 50 */,\n/* 51 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 53 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Main__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Main',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/books/:book/editions/:edition',\n    name: 'Manifest',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/books/:book/editions/:edition/pages/:page',\n    name: 'PageLink',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/books/:book/editions/:edition/images/:image',\n    name: 'ImageLink',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }]\n}));\n\n/***/ }),\n/* 54 */,\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(56)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(57),\n  /* template */\n  __webpack_require__(156),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6710a481\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 57 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Reader__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'main',\n  components: {\n    'Reader': __WEBPACK_IMPORTED_MODULE_0__components_Reader___default.a\n  },\n  data: function data() {\n    console.log('route', this.$route.params.book, this.$route.params.edition, this.$route.params.page, this.$route.params.image);\n    return {\n      url: 'https://s3.amazonaws.com/pubs-fchasen/books/' + (this.$route.params.book || 711) + '/editions/' + (this.$route.params.edition || 884) + '/manifest.json',\n      page: this.$route.params.page,\n      image: this.$route.params.image\n    };\n  }\n});\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(59)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(60),\n  /* template */\n  __webpack_require__(155),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 60 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_PDF__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_PDF___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_PDF__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Table__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Table___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Table__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Grid__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Grid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Grid__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Outline__ = __webpack_require__(123);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Outline___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_Outline__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Detail__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Detail___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_Detail__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_whatwg_fetch__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_whatwg_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_whatwg_fetch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vue_awesome_icons_bars__ = __webpack_require__(140);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vue_awesome_icons_search__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_awesome_icons_columns__ = __webpack_require__(141);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_vue_awesome_icons_file_o__ = __webpack_require__(142);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vue_awesome_icons_table__ = __webpack_require__(143);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_vue_awesome_icons_th__ = __webpack_require__(144);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_vue_awesome_icons_chevron_right__ = __webpack_require__(145);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_vue_awesome_icons_chevron_left__ = __webpack_require__(146);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_vue_awesome_icons_close__ = __webpack_require__(147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_vue_awesome_icons_caret_right__ = __webpack_require__(148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_vue_awesome_icons_plus__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_vue_awesome_icons_minus__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_vue_awesome_icons_hand_paper_o__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_vue_awesome_icons_i_cursor__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_buefy__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_buefy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_buefy__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_buefy_lib_buefy_css__ = __webpack_require__(154);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_buefy_lib_buefy_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23_buefy_lib_buefy_css__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_22_buefy___default.a, {\n  defaultIconPack: 'fa'\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'reader',\n  components: {\n    'PDF': __WEBPACK_IMPORTED_MODULE_1__components_PDF___default.a,\n    'grid': __WEBPACK_IMPORTED_MODULE_3__components_Grid___default.a,\n    'tablegrid': __WEBPACK_IMPORTED_MODULE_2__components_Table___default.a,\n    'icon': __WEBPACK_IMPORTED_MODULE_21_vue_awesome_components_Icon___default.a,\n    'outline': __WEBPACK_IMPORTED_MODULE_4__components_Outline___default.a,\n    'detail': __WEBPACK_IMPORTED_MODULE_5__components_Detail___default.a\n  },\n  props: {\n    'manifest-url': {\n      type: String\n    },\n    'page-url': {\n      type: String\n    },\n    'image-url': {\n      type: String\n    }\n  },\n  data: function data() {\n    var bounds = this.getBounds();\n\n    return {\n      manifest: {},\n      images: [],\n      page: 0,\n      displayedPage: 0,\n      spreads: true,\n      showTable: false,\n      showGrid: false,\n      currentDetail: undefined,\n      width: bounds.width,\n      height: bounds.height,\n      outline: undefined,\n      outlineOpen: false,\n      query: '',\n      matchCount: undefined,\n      currentMatchIndex: undefined,\n      zoomLevel: 0.80,\n      shownDetail: undefined,\n      displayedDetail: undefined,\n      activeTab: 0,\n      title: '',\n      shortTitle: '',\n      current: '',\n      isModalActive: false,\n      showSearch: false\n    };\n  },\n  created: function created() {\n    this.fetchManifest();\n    window.addEventListener('keyup', this.keyListener.bind(this), false);\n    window.addEventListener('resize', this.handleResize.bind(this), false);\n    this.currentDetail = undefined;\n  },\n  beforeDestory: function beforeDestory() {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keyup', this.keyListener);\n  },\n\n  watch: {\n    showTable: function showTable() {\n      var table = this.$refs.table;\n\n      table.triggerLoad();\n    },\n    showGrid: function showGrid() {\n      var grid = this.$refs.grid;\n\n      grid.triggerLoad();\n    },\n    pageUrl: function pageUrl() {\n      if (this.loaded) {\n        this.page = parseInt(this.pageUrl);\n      }\n    },\n    imageUrl: function imageUrl() {\n      if (this.loaded) {\n        this.currentDetail = this.imageUrl;\n      }\n    },\n    displayedDetail: function displayedDetail() {\n      if (this.displayedDetail) {\n        this.$router.push({ name: 'ImageLink', params: { image: this.displayedDetail } });\n      } else {\n        this.$router.push({ name: 'Manifest' });\n      }\n    },\n    displayedPage: function displayedPage() {\n      if (this.displayedPage) {\n        this.$router.push({ name: 'PageLink', params: { page: this.displayedPage } });\n      } else {\n        this.$router.push({ name: 'Manifest' });\n      }\n    }\n  },\n  methods: {\n    fetchManifest: function fetchManifest() {\n      var _this = this;\n\n      return fetch(this.manifestUrl).then(function (response) {\n        return response.json();\n      }).then(function (manifest) {\n        _this.manifest = manifest;\n\n        _this.shortTitle = manifest.title;\n        _this.title = manifest.title;\n        if (manifest.subtitle) {\n          _this.title += ': ' + manifest.subtitle;\n        }\n\n        _this.title += ' – ' + manifest.author_as_it_appears;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    loaded: function loaded(pdfDocument) {\n      this.loaded = true;\n\n      this.pdfDocument = pdfDocument;\n\n      this.images = this.manifest.images;\n\n      if (this.imageUrl) {\n        this.currentDetail = this.imageUrl;\n      }\n\n      if (this.pageUrl) {\n        this.page = parseInt(this.pageUrl);\n      }\n    },\n    next: function next() {\n      var pdf = this.$refs.pdf;\n\n      pdf.next();\n    },\n    prev: function prev() {\n      var pdf = this.$refs.pdf;\n\n      pdf.prev();\n    },\n    keyListener: function keyListener(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === 37) {\n        this.prev();\n      } else if (keyCode === 39) {\n        this.next();\n      }\n    },\n    handleResize: function handleResize() {\n      var bounds = this.getBounds();\n      this.width = bounds.width;\n      this.height = bounds.height;\n    },\n    goto: function goto(dest) {\n      var _this2 = this;\n\n      var pdf = this.$refs.pdf;\n\n      this.outlineOpen = false;\n      return pdf.getPageIndex(dest[0]).then(function (pg) {\n        _this2.page = pg;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onImageSelected: function onImageSelected(image) {\n      this.currentDetail = image;\n      this.isModalActive = true;\n    },\n    onPageSelected: function onPageSelected(page) {\n      this.page = page - 1;\n      this.showGrid = false;\n      this.showTable = false;\n      this.currentDetail = undefined;\n    },\n    onImageClicked: function onImageClicked(image) {\n      this.currentDetail = image.objId;\n      this.isModalActive = true;\n    },\n    onDetailClosed: function onDetailClosed() {\n      this.currentDetail = undefined;\n    },\n    onDetailDisplayed: function onDetailDisplayed(detail) {\n      this.displayedDetail = detail;\n    },\n    onFound: function onFound(count) {\n      this.matchCount = count;\n    },\n    onMatch: function onMatch(index) {\n      this.currentMatchIndex = index + 1;\n    },\n    onCurrentTitle: function onCurrentTitle(title) {\n      this.current = title;\n\n      if (title === 'Cover') {\n        this.current = '';\n      }\n    },\n    getBounds: function getBounds() {\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      var header = 52;\n      return {\n        width: width,\n        height: height - header\n      };\n    },\n    setSpreads: function setSpreads(spreads) {\n      if (this.spreads !== spreads) {\n        this.spreads = spreads;\n      }\n    },\n    onOutlineReady: function onOutlineReady(outline) {\n      this.outline = outline;\n    },\n    onPageChanged: function onPageChanged(pages) {\n      this.displayedPage = pages[pages.length - 1];\n      this.page = -1;\n    },\n    onTabChanged: function onTabChanged(index) {\n      var _$refs = this.$refs,\n          grid = _$refs.grid,\n          table = _$refs.table;\n\n\n      if (index === 1) {\n        grid.triggerLoad();\n      }\n\n      if (index === 2) {\n        table.triggerLoad();\n      }\n    },\n    toggleTable: function toggleTable() {\n      this.showTable = !this.showTable;\n      this.showGrid = false;\n    },\n    toggleGrid: function toggleGrid() {\n      this.showGrid = !this.showGrid;\n      this.showTable = false;\n    },\n    nextMatch: function nextMatch() {\n      var pdf = this.$refs.pdf;\n\n      pdf.nextMatch();\n    },\n    prevMatch: function prevMatch() {\n      var pdf = this.$refs.pdf;\n\n      pdf.prevMatch();\n    },\n    zoomIn: function zoomIn() {\n      this.zoomLevel = Math.round(this.zoomLevel * 10 + 2) / 10;\n    },\n    zoomOut: function zoomOut() {\n      if (this.zoomLevel > 0.20) {\n        this.zoomLevel = Math.round(this.zoomLevel * 10 - 2) / 10;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(62)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(63),\n  /* template */\n  __webpack_require__(111),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-13a94fda\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 63 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Page__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Page___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Page__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Search__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Search___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Search__);\n\n\n\n\n\nvar pdfjsLib = __webpack_require__(10);\n\n\npdfjsLib.PDFJS.workerSrc = 'static/libs/pdfjs-dist/build/pdf.worker.js';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pdf',\n  components: {\n    'Page': __WEBPACK_IMPORTED_MODULE_0__components_Page___default.a,\n    'Search': __WEBPACK_IMPORTED_MODULE_1__components_Search___default.a\n  },\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number,\n      default: undefined\n    },\n    'height': {\n      type: Number,\n      default: undefined\n    },\n    'page': {\n      default: 0,\n      type: Number\n    },\n    'spreads': {\n      default: true,\n      type: Boolean\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onOutlineReady': {\n      default: undefined,\n      type: Function\n    },\n    'query': {\n      default: undefined,\n      type: String\n    },\n    'zoom': {\n      default: 1,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      pdfDocument: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      displayedPage: 0,\n      displayedPages: [],\n      displayedPagesNumbers: [],\n      outline: undefined,\n      pageMatchesLength: [],\n      pageMatches: [],\n      matched: [],\n      selectedMatch: {}\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.src) {\n      this.loadDocument(this.src).then(function () {\n        return _this.display(_this.page);\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n  },\n\n  watch: {\n    src: function src() {\n      var _this2 = this;\n\n      if (this.src) {\n        this.loadDocument(this.src).then(function () {\n          return _this2.display(_this2.page);\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }\n    },\n    page: function page(pg) {\n      if (typeof this.page !== 'undefined' && this.page > -1) {\n        this.display(this.page);\n      }\n    },\n    spreads: function spreads(_spreads) {\n      if (typeof this.displayedPage !== 'undefined') {\n        this.display(this.displayedPage);\n      }\n    },\n    displayedPage: function displayedPage() {\n      this.$emit('pageChanged', this.displayedPagesNumbers);\n    },\n    query: function query() {\n      if (this.query === '') {\n        this.clearMatches();\n      }\n    },\n    zoom: function zoom() {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      this.scrollLeftDelta = container.scrollLeft - (container.scrollWidth - bounds.width) / 2;\n      this.scrollTopDelta = container.scrollTop - (container.scrollHeight - bounds.height) / 2;\n    }\n  },\n  methods: {\n    loadDocument: function loadDocument(src) {\n      var _this3 = this;\n\n      console.log('src', src);\n      return pdfjsLib.getDocument(src).then(function (pdfDocument) {\n        var pagesCount = pdfDocument.numPages;\n\n        _this3.numPages = pagesCount;\n\n        _this3.pdfDocument = pdfDocument;\n\n        _this3.$emit('loaded', pdfDocument);\n\n        _this3.outline = pdfDocument.getOutline().then(function (outline) {\n          return _this3.processOutline(outline);\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    display: function display() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.page;\n\n      this.displayedPages = [];\n\n      if (page < 0) {\n        return;\n      }\n\n      if (this.spreads) {\n        if (page % 2 !== 0 || page === 0) {\n          this.displayedPage = page;\n        } else {\n          this.displayedPage = page - 1;\n        }\n\n        if (this.displayedPage > 0) {\n          this.loadPage(this.displayedPage);\n          this.loadPage(this.displayedPage + 1);\n          this.displayedPagesNumbers = [this.displayedPage, this.displayedPage + 1];\n        } else {\n          this.loadPage(this.displayedPage);\n          this.displayedPagesNumbers = [this.displayedPage];\n        }\n      } else {\n        this.displayedPage = page;\n        this.loadPage(this.displayedPage);\n\n        this.displayedPagesNumbers = [this.displayedPage];\n      }\n    },\n    next: function next() {\n      if (this.displayedPage === 0) {\n        this.displayedPage += 1;\n      } else {\n        this.displayedPage += this.spreads ? 2 : 1;\n      }\n      if (this.displayedPage < this.numPages) {\n        this.display(this.displayedPage);\n      } else {\n        this.displayedPage = this.numPages - (this.spreads ? 2 : 1);\n      }\n    },\n    prev: function prev() {\n      if (this.displayedPage > 0) {\n        if (this.displayedPage === 1) {\n          this.displayedPage -= 1;\n        } else {\n          this.displayedPage -= this.spreads ? 2 : 1;\n        }\n        this.display(this.displayedPage);\n      }\n    },\n    loadPage: function loadPage(pageIndex) {\n      var _this4 = this;\n\n      var pdfDocument = this.pdfDocument;\n\n\n      if (!pdfDocument) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      var pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdfDocument.numPages) {\n        pageNumber = pdfDocument.numPages;\n      }\n\n      return pdfDocument.getPage(pageNumber).then(function (page) {\n        return _this4.onPageLoad(page);\n      }).catch(function (page) {\n        return _this4.onPageError(page);\n      });\n    },\n    onPageLoad: function onPageLoad(page) {\n      var _this5 = this;\n\n      if (!this.displayedPagesNumbers.includes(page.pageIndex)) {\n        return;\n      }\n\n      this.displayedPages.push(page);\n\n      this.$nextTick(function () {\n        var pg = _this5.$refs['page_' + page.pageIndex][0];\n        pg.updatedSelectedMatch(_this5.selectedMatch);\n        pg.updateTextLayerMatches(_this5.query, _this5.pageMatches, _this5.pageMatchesLength);\n      });\n    },\n    afterDisplayed: function afterDisplayed() {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      container.scrollLeft = (container.scrollWidth - bounds.width) / 2 + this.scrollLeftDelta;\n      container.scrollTop = (container.scrollHeight - bounds.height) / 2 + this.scrollTopDelta;\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    handleViewport: function handleViewport(viewport) {\n      this.viewportWidth = viewport.width;\n      this.viewportHeight = viewport.height;\n    },\n    processOutline: function processOutline(outline) {\n      this.onOutlineReady && this.onOutlineReady(outline);\n      return outline;\n    },\n    getPageIndex: function getPageIndex(dest) {\n      return this.pdfDocument.getPageIndex(dest);\n    },\n    onMatched: function onMatched(matched, pageMatches, pageMatchesLength, count) {},\n    onFound: function onFound(query, matched, pageMatches, pageMatchesLength, count) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.matched = matched;\n      this.$emit('found', count);\n      if (this.matched && this.matched.length) {\n        this.currentMatchIndex = 0;\n        this.selectedMatch = this.matched[this.currentMatchIndex];\n        this.$emit('match', this.currentMatchIndex);\n\n        if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n          this.display(this.selectedMatch.pageIdx);\n        } else {\n          var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n          pg.updatedSelectedMatch(this.selectedMatch);\n          pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n        }\n      }\n    },\n    onSelected: function onSelected(selected) {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      container.scrollLeft = bounds.left + selected.left;\n      container.scrollTop = bounds.top + selected.top;\n    },\n    clearMatches: function clearMatches() {\n      var _this6 = this;\n\n      this.displayedPagesNumbers.forEach(function (pageIndex) {\n        var pg = _this6.$refs['page_' + pageIndex][0];\n        pg.updateTextLayerMatches('', [], null);\n      });\n    },\n    nextMatch: function nextMatch() {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex < this.matched.length - 1) {\n        this.currentMatchIndex += 1;\n      } else {\n        this.currentMatchIndex = 0;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    },\n    prevMatch: function prevMatch() {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex > 0) {\n        this.currentMatchIndex -= 1;\n      } else {\n        this.currentMatchIndex = this.matched.length - 1;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(65)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(66),\n  /* template */\n  __webpack_require__(76),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ca68b352\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 66 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TextLayer__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_TextLayer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__);\n\n\n\n\n\nvar pdfjsLib = __webpack_require__(10);\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'page',\n  components: {\n    'textlayer': __WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default.a,\n    'imagelayer': __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default.a\n  },\n  props: {\n    'scale': {\n      default: 1,\n      type: Number\n    },\n    'rotate': {\n      default: undefined,\n      type: Number\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      type: Number\n    },\n    'page': {\n      default: undefined,\n      type: Object\n    },\n    'onViewport': {\n      default: undefined,\n      type: Function\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onSelected': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data: function data() {\n    return {\n      pdf: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      viewportScale: 1,\n      viewport: undefined,\n      textContent: undefined,\n      images: [],\n      pageIndex: undefined\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.page) {\n      this.displayPage(this.page);\n    }\n  },\n\n  watch: {\n    page: function page() {\n      if (this.page) {\n        this.displayPage(this.page);\n      }\n    },\n    scale: function scale() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    width: function width() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    height: function height() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    pageMatches: function pageMatches() {}\n  },\n  methods: {\n    getPageScale: function getPageScale() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.page;\n      var scale = this.scale,\n          width = this.width,\n          height = this.height;\n\n      var pageScale = 1;\n\n      if (width < height) {\n        pageScale = width / page.getViewport(scale).width;\n      } else {\n        pageScale = height / page.getViewport(scale).height;\n      }\n\n      return scale * pageScale;\n    },\n    displayPage: function displayPage(page) {\n      var _this = this;\n\n      var canvas = this.$refs.canvas;\n\n      var canvasContext = canvas.getContext('2d');\n      var scale = this.scale;\n\n      var scaled = scale !== 1 ? scale : this.getPageScale(page);\n      var viewport = page.getViewport(scaled);\n      var images = this.images;\n      var imageCount = 0;\n      var imageLayer = {\n        beginLayout: function beginLayout() {},\n        endLayout: function endLayout() {},\n        appendImage: function appendImage(i) {\n          i.page = page.pageIndex;\n          i.index = imageCount;\n          images.push(i);\n          imageCount++;\n        }\n      };\n\n      this.pageIndex = page.pageIndex;\n      this.viewport = viewport;\n      this.viewportScale = scale;\n      this.viewportHeight = viewport.height;\n      this.viewportWidth = viewport.width;\n\n      this.onViewport && this.onViewport(viewport);\n\n      this.displaying = true;\n      page.render({ canvasContext: canvasContext, viewport: viewport, imageLayer: imageLayer }).then(function () {\n        _this.$emit('displayed', _this);\n        _this.displaying = false;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    updateTextLayerMatches: function updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.query = query;\n      this.pageMatchesLength = pageMatchesLength;\n      this.pageMatches = pageMatches;\n\n      if (pageMatches && pageMatches.length > this.pageIndex) {\n        this.$refs.textLayer.updateTextLayerMatches(query, pageMatches[this.pageIndex], pageMatchesLength ? pageMatchesLength[this.pageIndex] : null);\n      } else {\n        this.$refs.textLayer.clearTextLayerMatches();\n      }\n    },\n    updatedSelectedMatch: function updatedSelectedMatch(selectedMatch) {\n      this.selectedMatch = selectedMatch;\n      if (this.pageIndex === selectedMatch.pageIdx) {\n        this.$refs.textLayer.selectedMatch(selectedMatch.pageIdx, selectedMatch.matchIdx);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(68)\n  __webpack_require__(69)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(70),\n  /* template */\n  __webpack_require__(71),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-05d4520c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 70 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar pdfjsLib = __webpack_require__(10);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'textlayer',\n  props: {\n    'page': {\n      default: undefined\n    },\n    'viewport': {\n      default: undefined\n    },\n    'renderTimeout': {\n      default: 300,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      matches: [],\n      textDivs: [],\n      selected: {\n        pageIdx: -1,\n        matchIdx: -1\n      },\n      query: ''\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.page) {\n      this.getTextContent(this.page).then(function (textContent) {\n        return _this.onContent(textContent);\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n  },\n  destroyed: function destroyed() {},\n\n  watch: {\n    page: function page() {\n      var _this2 = this;\n\n      if (this.page) {\n        this.getTextContent(this.page).then(function (textContent) {\n          return _this2.onContent(textContent);\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }\n    },\n    viewport: function viewport() {\n      if (this.textContent) {\n        this.onContent(this.textContent);\n      }\n    }\n  },\n  methods: {\n    getTextContent: function getTextContent(page) {\n      return page.getTextContent({ normalizeWhitespace: true });\n    },\n    onContent: function onContent(textContent) {\n      var _this3 = this;\n\n      var textLayer = this.$refs.textLayer;\n\n\n      this.clearTextLayer();\n\n      this.textContent = textContent;\n\n      this.textDivs = [];\n      var textLayerFrag = document.createDocumentFragment();\n\n      if (this.textLayerRenderTask) {\n        this.textLayerRenderTask.cancel();\n        this.textLayerRenderTask = null;\n      }\n\n      this.textLayerRenderTask = pdfjsLib.renderTextLayer({\n        textContent: textContent,\n        container: textLayerFrag,\n        viewport: this.viewport,\n        textDivs: this.textDivs,\n        timeout: this.renderTimeout\n      });\n\n      this.textLayerRenderTask.promise.then(function () {\n        textLayer.appendChild(textLayerFrag);\n\n        if (_this3.pageMatches) {\n          _this3.matches = _this3.convertMatches(_this3.pageMatches, _this3.pageMatchesLength);\n          _this3.renderMatches(_this3.matches);\n        }\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    clearTextLayer: function clearTextLayer() {\n      var textLayer = this.$refs.textLayer;\n\n      while (textLayer.firstChild) {\n        textLayer.removeChild(textLayer.firstChild);\n      }\n    },\n    updateTextLayerMatches: function updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.query = query;\n      if (this.textContent) {\n        this.clearMatches();\n        this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n        this.renderMatches(this.matches);\n      }\n    },\n    clearTextLayerMatches: function clearTextLayerMatches() {\n      this.pageMatches = [];\n      this.pageMatchesLength = [];\n      this.query = '';\n      this.clearMatches();\n      this.selected = { pageIdx: -1, matchIdx: -1 };\n      this._sentSelected = false;\n    },\n    selectedMatch: function selectedMatch(pageIdx, matchIdx) {\n      this._sentSelected = false;\n      this.clearMatches();\n      this.selected = { pageIdx: pageIdx, matchIdx: matchIdx };\n      this.renderMatches(this.matches);\n    },\n    renderMatches: function renderMatches(matches) {\n      if (matches.length === 0) {\n        return;\n      }\n\n      var bidiTexts = this.textContent.items;\n      var textDivs = this.textDivs;\n      var prevEnd = null;\n      var pageIdx = this.page.pageIndex;\n      var isSelectedPage = this.selected.pageIdx === pageIdx;\n      var selectedMatchIdx = this.selected.matchIdx || -1;\n      var highlightAll = true;\n      var infinity = {\n        divIdx: -1,\n        offset: undefined\n      };\n\n      function beginText(begin, className) {\n        var divIdx = begin.divIdx;\n        textDivs[divIdx].textContent = '';\n        appendTextToDiv(divIdx, 0, begin.offset, className);\n      }\n\n      function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n        var div = textDivs[divIdx];\n        var content = bidiTexts[divIdx].str.substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n        if (className) {\n          var span = document.createElement('span');\n          span.className = className;\n          span.appendChild(node);\n          div.appendChild(span);\n          return;\n        }\n        div.appendChild(node);\n      }\n\n      var i0 = selectedMatchIdx;\n      var i1 = i0 + 1;\n      if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n      } else if (!isSelectedPage) {\n        return;\n      }\n\n      for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        var isSelected = isSelectedPage && match.matchIdx === selectedMatchIdx;\n        var highlightSuffix = isSelected ? ' selected' : '';\n\n        if (isSelected && !this._sentSelected) {\n          this.$emit('selected', textDivs[begin.divIdx].getBoundingClientRect());\n          this._sentSelected = true;\n        }\n\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n          if (prevEnd !== null) {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n          }\n\n          beginText(begin);\n        } else {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n          appendTextToDiv(begin.divIdx, begin.offset, end.offset, 'highlight' + highlightSuffix);\n        } else {\n          appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, 'highlight begin' + highlightSuffix);\n          for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n            textDivs[n0].className = 'highlight middle' + highlightSuffix;\n          }\n          beginText(end, 'highlight end' + highlightSuffix);\n        }\n        prevEnd = end;\n      }\n\n      if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n      }\n    },\n    convertMatches: function convertMatches(matches, matchesLength) {\n      var i = 0;\n      var iIndex = 0;\n      var bidiTexts = this.textContent.items;\n      var end = bidiTexts.length - 1;\n      var queryLen = this.query ? this.query.length : 0;\n      var ret = [];\n      if (!matches) {\n        return ret;\n      }\n      for (var m = 0, len = matches.length; m < len; m++) {\n        var matchIdx = matches[m];\n\n        while (i !== end && matchIdx >= iIndex + bidiTexts[i].str.length) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        if (i === bidiTexts.length) {\n          console.error('Could not find a matching mapping');\n        }\n\n        var match = {\n          matchIdx: matchIdx,\n          begin: {\n            divIdx: i,\n            offset: matchIdx - iIndex\n          }\n        };\n\n        if (matchesLength) {\n          matchIdx += matchesLength[m];\n        } else {\n          matchIdx += queryLen;\n        }\n\n        while (i !== end && matchIdx > iIndex + bidiTexts[i].str.length) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        match.end = {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        };\n        ret.push(match);\n      }\n\n      return ret;\n    },\n    clearMatches: function clearMatches() {\n      if (!this.textContent) {\n        return;\n      }\n\n      var matches = this.matches;\n      var textDivs = this.textDivs;\n      var bidiTexts = this.textContent.items;\n      var clearedUntilDivIdx = -1;\n\n      for (var i = 0, len = matches.length; i < len; i++) {\n        var match = matches[i];\n        var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n        for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n          var div = textDivs[n];\n          div.textContent = bidiTexts[n].str;\n          div.className = '';\n        }\n        clearedUntilDivIdx = match.end.divIdx + 1;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"textLayer\",\n    staticClass: \"textLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  })\n},staticRenderFns: []}\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(73)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(74),\n  /* template */\n  __webpack_require__(75),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-379170fe\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 74 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'imagelayer',\n  props: {\n    'images': {\n      default: [],\n      type: Array\n    },\n    'viewport': {\n      default: undefined,\n      type: Object\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.images) {}\n  },\n\n  watch: {\n    images: function images() {\n      if (this.images) {}\n    }\n  },\n  methods: {\n    handleClick: function handleClick(image) {\n      if (this.onImageClicked) {\n        this.onImageClicked(image);\n      }\n      this.$emit('imageClicked', image);\n    }\n  }\n});\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"imageLayer\",\n    staticClass: \"imageLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  }, _vm._l((_vm.images), function(image) {\n    return _c('div', {\n      ref: image.objId,\n      refInFor: true,\n      staticClass: \"imageLayerItem\",\n      style: ({\n        width: ((image.width) + \"px\"),\n        height: ((image.height) + \"px\"),\n        top: ((image.top-image.height) + \"px\"),\n        left: ((image.left) + \"px\")\n      }),\n      attrs: {\n        \"id\": image.objId\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleClick(image)\n        }\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"pageWrapper\",\n    class: {\n      loading: _vm.isLoading\n    },\n    style: ({\n      width: (_vm.viewportWidth + \"px\"),\n      height: (_vm.viewportHeight + \"px\")\n    })\n  }, [_c('canvas', {\n    ref: \"canvas\",\n    attrs: {\n      \"width\": (_vm.viewportWidth + \"px\"),\n      \"height\": (_vm.viewportHeight + \"px\")\n    }\n  }), _vm._v(\" \"), _c('textlayer', {\n    ref: \"textLayer\",\n    attrs: {\n      \"page\": _vm.page,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale\n    },\n    on: {\n      \"selected\": _vm.onSelected\n    }\n  }), _vm._v(\" \"), _c('imagelayer', {\n    attrs: {\n      \"images\": _vm.images,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale,\n      \"onImageClicked\": _vm.onImageClicked\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"annotationLayer\"\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(78),\n  /* template */\n  __webpack_require__(110),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_pdfjs_dist___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__);\n\n\n\n\n\n\nvar FIND_TIMEOUT = 250;\n\nvar CHARACTERS_TO_NORMALIZE = {\n  '\\u2018': '\\'',\n  '\\u2019': '\\'',\n  '\\u201A': '\\'',\n  '\\u201B': '\\'',\n  '\\u201C': '\"',\n  '\\u201D': '\"',\n  '\\u201E': '\"',\n  '\\u201F': '\"',\n  '\\xBC': '1/4',\n  '\\xBD': '1/2',\n  '\\xBE': '3/4' };\n\nvar replace = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default.a(CHARACTERS_TO_NORMALIZE).join('');\nvar normalizationRegex = new RegExp('[' + replace + ']', 'g');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'search',\n  props: {\n    'waitTimeout': {\n      default: 30,\n      type: Number\n    },\n    'pdfDocument': {\n      default: undefined\n    },\n    'query': {\n      default: '',\n      type: String\n    },\n    'phraseSearch': {\n      default: true,\n      type: Boolean\n    },\n    'minQueryLength': {\n      default: 3,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      matches: [],\n      textDivs: [],\n      pageContents: [],\n      pageMatches: [],\n      pageMatchesLength: null,\n      matchCount: 0,\n      pagesCount: 0,\n      pendingFindMatches: {},\n      active: false,\n      pagesToSearch: null,\n      extractTextPromises: [],\n      matched: []\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.pdfDocument) {\n      this.extractText();\n    }\n  },\n\n  watch: {\n    pdfDocument: function pdfDocument() {\n      if (this.pdfDocument) {\n        this.extractText();\n      }\n    },\n    query: function query() {\n      var _this = this;\n\n      if (this.query === '') {\n        this.reset();\n      }\n\n      clearTimeout(this.findTimeout);\n      this.findTimeout = setTimeout(function () {\n        if (_this.query.length > _this.minQueryLength) {\n          _this.find(_this.query);\n        }\n      }, FIND_TIMEOUT);\n    }\n  },\n  methods: {\n    reset: function reset() {\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n\n      this.$emit('matched', this.matched, this.pageMatchesLength, this.matchCount);\n      this.$emit('found', this.pageMatches, this.pageMatchesLength, this.matchCount);\n    },\n    find: function find(query) {\n      var _this2 = this;\n\n      var numPages = this.pagesCount;\n\n      if (this.prevQuery && this.prevQuery === query) {\n        return;\n      }\n      this.prevQuery = query;\n\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n      this.selected = {\n        pageIdx: -1,\n        matchIdx: -1\n      };\n\n      for (var i = 0; i < numPages; i++) {\n        if (!(i in this.pendingFindMatches)) {\n          this.pendingFindMatches[i] = true;\n          this.extractTextPromises[i].then(function (pageIdx) {\n            delete _this2.pendingFindMatches[pageIdx];\n            _this2.calcFindMatch(pageIdx);\n          });\n        }\n      }\n    },\n    normalize: function normalize(text) {\n      return text.replace(normalizationRegex, function (ch) {\n        return CHARACTERS_TO_NORMALIZE[ch];\n      });\n    },\n    _prepareMatches: function _prepareMatches(matchesWithLength, matches, matchesLength) {\n      function isSubTerm(matchesWithLength, currentIndex) {\n        var currentElem = matchesWithLength[currentIndex];\n        var nextElem = matchesWithLength[currentIndex + 1];\n\n        if (currentIndex < matchesWithLength.length - 1 && currentElem.match === nextElem.match) {\n          currentElem.skipped = true;\n          return true;\n        }\n\n        for (var i = currentIndex - 1; i >= 0; i--) {\n          var prevElem = matchesWithLength[i];\n          if (prevElem.skipped) {\n            continue;\n          }\n          if (prevElem.match + prevElem.matchLength < currentElem.match) {\n            break;\n          }\n          if (prevElem.match + prevElem.matchLength >= currentElem.match + currentElem.matchLength) {\n            currentElem.skipped = true;\n            return true;\n          }\n        }\n        return false;\n      }\n\n      matchesWithLength.sort(function (a, b) {\n        return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n      });\n      for (var i = 0, len = matchesWithLength.length; i < len; i++) {\n        if (isSubTerm(matchesWithLength, i)) {\n          continue;\n        }\n        matches.push(matchesWithLength[i].match);\n        matchesLength.push(matchesWithLength[i].matchLength);\n      }\n    },\n    calcFindPhraseMatch: function calcFindPhraseMatch(query, pageIndex, pageContent) {\n      var matches = [];\n      var queryLen = query.length;\n      var matchIdx = -queryLen;\n      while (true) {\n        matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n        if (matchIdx === -1) {\n          break;\n        }\n        matches.push(matchIdx);\n      }\n      this.pageMatches[pageIndex] = matches;\n    },\n    calcFindWordMatch: function calcFindWordMatch(query, pageIndex, pageContent) {\n      var matchesWithLength = [];\n\n      var queryArray = query.match(/\\S+/g);\n      for (var i = 0, len = queryArray.length; i < len; i++) {\n        var subquery = queryArray[i];\n        var subqueryLen = subquery.length;\n        var matchIdx = -subqueryLen;\n        while (true) {\n          matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n          if (matchIdx === -1) {\n            break;\n          }\n\n          matchesWithLength.push({\n            match: matchIdx,\n            matchLength: subqueryLen,\n            skipped: false\n          });\n        }\n      }\n\n      if (!this.pageMatchesLength) {\n        this.pageMatchesLength = [];\n      }\n      this.pageMatchesLength[pageIndex] = [];\n      this.pageMatches[pageIndex] = [];\n\n      this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex], this.pageMatchesLength[pageIndex]);\n    },\n    calcFindMatch: function calcFindMatch(pageIndex) {\n      var _this3 = this;\n\n      var pageContent = this.normalize(this.pageContents[pageIndex]);\n      var query = this.normalize(this.query);\n      var caseSensitive = this.caseSensitive;\n      var phraseSearch = this.phraseSearch;\n      var queryLen = query.length;\n\n      if (queryLen === 0) {\n        return;\n      }\n\n      if (!caseSensitive) {\n        pageContent = pageContent.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      if (phraseSearch) {\n        this.calcFindPhraseMatch(query, pageIndex, pageContent);\n      } else {\n        this.calcFindWordMatch(query, pageIndex, pageContent);\n      }\n\n      if (pageIndex in this.pageMatches && this.pageMatches[pageIndex].length > 0) {\n        this.matchCount += this.pageMatches[pageIndex].length;\n\n        this.pageMatches[pageIndex].forEach(function (match) {\n          _this3.matched.push({\n            matchIdx: match,\n            pageIdx: pageIndex\n          });\n          _this3.$emit('matched', _this3.query, _this3.matched, _this3.pageMatches[pageIndex], _this3.pageMatchesLength ? _this3.pageMatchesLength[pageIndex] : null, _this3.matchCount);\n        });\n      }\n\n      if (this.pageMatches.length === this.pagesCount) {\n        this.$emit('found', this.query, this.matched, this.pageMatches, this.pageMatchesLength, this.matchCount);\n      }\n    },\n    getPageTextContent: function getPageTextContent(pageIndex) {\n      return this.pdfDocument.getPage(pageIndex + 1).then(function (page) {\n        return page.getTextContent({\n          normalizeWhitespace: true\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    extractText: function extractText() {\n      var _this4 = this;\n\n      if (this.startedTextExtraction) {\n        return;\n      }\n      this.startedTextExtraction = true;\n      this.pageContents.length = 0;\n      this.pagesCount = this.pdfDocument.numPages - 1;\n\n      var promise = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve();\n\n      var _loop = function _loop(i, ii) {\n        var extractTextCapability = __WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__[\"createPromiseCapability\"]();\n        _this4.extractTextPromises[i] = extractTextCapability.promise;\n\n        promise = promise.then(function () {\n          return _this4.getPageTextContent(i).then(function (textContent) {\n            var textItems = textContent.items;\n            var strBuf = [];\n\n            for (var j = 0, jj = textItems.length; j < jj; j++) {\n              strBuf.push(textItems[j].str);\n            }\n\n            _this4.pageContents[i] = strBuf.join('');\n            extractTextCapability.resolve(i);\n          });\n        });\n      };\n\n      for (var i = 0, ii = this.pagesCount; i < ii; i++) {\n        _loop(i, ii);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: 'container',\n    staticClass: \"pageContainer\",\n    class: {\n      loading: _vm.isLoading, centered: (!_vm.spreads || _vm.zoom <= 1)\n    },\n    style: ({\n      width: (_vm.width + \"px\"),\n      height: ((_vm.height ? _vm.height : _vm.viewportHeight) + \"px\")\n    })\n  }, [_vm._l((_vm.displayedPages), function(page) {\n    return _c('div', {\n      key: page.pageIndex,\n      staticClass: \"page\"\n    }, [_c('page', {\n      ref: 'page_' + page.pageIndex,\n      refInFor: true,\n      attrs: {\n        \"page\": page,\n        \"width\": _vm.spreads ? _vm.width / 2 : _vm.width,\n        \"height\": _vm.height,\n        \"scale\": _vm.zoom,\n        \"onViewport\": _vm.handleViewport,\n        \"onImageClicked\": _vm.onImageClicked,\n        \"onSelected\": _vm.onSelected\n      },\n      on: {\n        \"displayed\": _vm.afterDisplayed\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('search', {\n    attrs: {\n      \"pdfDocument\": _vm.pdfDocument,\n      \"query\": _vm.query\n    },\n    on: {\n      \"matched\": this.onMatched,\n      \"found\": this.onFound\n    }\n  })], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(113)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(114),\n  /* template */\n  __webpack_require__(118),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1613fcb6\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 114 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_awesome_icons_search__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon__);\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default.a, {\n  preLoad: 1.3,\n\n  attempt: 1\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'table',\n  components: {\n    'icon': __WEBPACK_IMPORTED_MODULE_4_vue_awesome_components_Icon___default.a\n  },\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data: function data() {\n    var sortOrders = {};\n    this.columns = ['thumbnail', 'page', 'artwork_title', 'artist', 'collection'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1;\n    });\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n\n      gridColumns: []\n    };\n  },\n\n  computed: {\n    filteredData: function filteredData() {\n      var sortKey = this.sortKey;\n      var filterKey = this.filterKey && this.filterKey.toLowerCase();\n      var order = this.sortOrders[sortKey] || 1;\n      var data = this.data;\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default.a(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1;\n          });\n        });\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey];\n          b = b[sortKey];\n          return (a === b ? 0 : a > b ? 1 : -1) * order;\n        });\n      }\n      return data;\n    }\n  },\n  filters: {\n    capitalize: function capitalize(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    titlecase: function titlecase(_str) {\n      var str;\n      str = _str.replace(/_/g, ' ');\n      str = str.replace(/([^\\W_]+[^\\s-]*) */g, function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n\n      return str;\n    }\n  },\n  methods: {\n    sortBy: function sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n    },\n    triggerLoad: function triggerLoad() {\n      __WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  },\n  updated: function updated() {}\n});\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 116 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n\n\n\n\nvar icons = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator: function validator(val) {\n        if (val) {\n          if (!(val in icons)) {\n            __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].util.warn('Invalid prop: prop \"icon\" is referring to an unregistered icon \"' + val + '\".' + '\\nPlesase make sure you have imported this icon before using it.', this);\n            return false;\n          }\n          return true;\n        }\n        return null;\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    flip: {\n      validator: function validator(val) {\n        return val === 'horizontal' || val === 'vertical';\n      }\n    },\n    label: String\n  },\n  data: function data() {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    };\n  },\n\n  computed: {\n    normalizedScale: function normalizedScale() {\n      var scale = this.scale;\n      scale = typeof scale === 'undefined' ? 1 : Number(scale);\n      if (isNaN(scale) || scale <= 0) {\n        __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].util.warn('Invalid prop: prop \"scale\" should be a number over 0.', this);\n        return this.outerScale;\n      }\n      return scale * this.outerScale;\n    },\n    clazz: function clazz() {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse\n      };\n    },\n    icon: function icon() {\n      if (this.name) {\n        return icons[this.name];\n      }\n      return null;\n    },\n    box: function box() {\n      if (this.icon) {\n        return '0 0 ' + this.icon.width + ' ' + this.icon.height;\n      }\n      return '0 0 ' + this.width + ' ' + this.height;\n    },\n    ratio: function ratio() {\n      if (!this.icon) {\n        return 1;\n      }\n      var _icon = this.icon,\n          width = _icon.width,\n          height = _icon.height;\n\n      return Math.max(width, height) / 16;\n    },\n    width: function width() {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0;\n    },\n    height: function height() {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0;\n    },\n    style: function style() {\n      if (this.normalizedScale === 1) {\n        return false;\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      };\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.icon) {\n      return;\n    }\n    this.$children.forEach(function (child) {\n      child.outerScale = _this.normalizedScale;\n    });\n    var width = 0;\n    var height = 0;\n    this.$children.forEach(function (child) {\n      width = Math.max(width, child.width);\n      height = Math.max(height, child.height);\n    });\n    this.childrenWidth = width;\n    this.childrenHeight = height;\n    this.$children.forEach(function (child) {\n      child.x = (width - child.width) / 2;\n      child.y = (height - child.height) / 2;\n    });\n  },\n  register: function register(data) {\n    for (var name in data) {\n      var icon = data[name];\n\n      if (!icon.paths) {\n        icon.paths = [];\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d });\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = [];\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points });\n      }\n\n      icons[name] = icon;\n    }\n  },\n\n  icons: icons\n});\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    class: _vm.clazz,\n    style: (_vm.style),\n    attrs: {\n      \"version\": \"1.1\",\n      \"role\": _vm.label ? 'img' : 'presentation',\n      \"aria-label\": _vm.label,\n      \"x\": _vm.x,\n      \"y\": _vm.y,\n      \"width\": _vm.width,\n      \"height\": _vm.height,\n      \"viewBox\": _vm.box\n    }\n  }, [_vm._t(\"default\", [(_vm.icon && _vm.icon.paths) ? _vm._l((_vm.icon.paths), function(path) {\n    return _c('path', _vm._b({}, 'path', path))\n  }) : _vm._e(), _vm._v(\" \"), (_vm.icon && _vm.icon.polygons) ? _vm._l((_vm.icon.polygons), function(polygon) {\n    return _c('polygon', _vm._b({}, 'polygon', polygon))\n  }) : _vm._e(), _vm._v(\"\\b\\n    \"), (_vm.icon && _vm.icon.raw) ? [_c('g', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.icon.raw)\n    }\n  })] : _vm._e()])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"nav section_nav\"\n  }, [_c('div', {\n    staticClass: \"nav-right\"\n  }, [_c('div', {\n    staticClass: \"nav-item\"\n  }, [_c('p', {\n    staticClass: \"control has-icons-right\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filterKey),\n      expression: \"filterKey\"\n    }],\n    staticClass: \"input has-icons-right\",\n    attrs: {\n      \"name\": \"query\"\n    },\n    domProps: {\n      \"value\": (_vm.filterKey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.filterKey = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon is-small is-right\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"Search\"\n    }\n  })], 1)])])])]), _vm._v(\" \"), _c('link', {\n    attrs: {\n      \"rel\": \"stylesheet\",\n      \"href\": \"//fonts.googleapis.com/icon?family=Material+Icons\"\n    }\n  }), _vm._v(\" \"), _c('b-table', {\n    attrs: {\n      \"data\": _vm.filteredData,\n      \"bordered\": true,\n      \"striped\": true,\n      \"mobile-cards\": true,\n      \"paginated\": true,\n      \"per-page\": 8,\n      \"pagination-simple\": true\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(tb) {\n        return [_c('b-table-column', {\n          attrs: {\n            \"field\": \"thumbnail\",\n            \"label\": \"\"\n          }\n        }, [_c('a', {\n          staticClass: \"img_link\",\n          on: {\n            \"click\": function($event) {\n              _vm.$emit('onImageClick', tb.row)\n            }\n          }\n        }, [_c('img', {\n          directives: [{\n            name: \"lazy\",\n            rawName: \"v-lazy\",\n            value: (tb.row['thumbnail']),\n            expression: \"tb.row['thumbnail']\"\n          }]\n        })])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"page\",\n            \"label\": \"Page\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": \"#\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.$emit('onPageClick', tb.row.page)\n            }\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['page_label'] || tb.row['page']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"artwork\",\n            \"label\": \"Artwork\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['artwork_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['artwork_title']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"artist\",\n            \"label\": \"Artist\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['artist_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['artist_name']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"collection\",\n            \"label\": \"Collection\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['collection_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['collection']) + \"\\n            \")])])]\n      }\n    }])\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(120)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(121),\n  /* template */\n  __webpack_require__(122),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 121 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(6);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default.a);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'grid',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data: function data() {\n    var sortOrders = {};\n    this.columns = ['thumbnail'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1;\n    });\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n\n      gridColumns: []\n    };\n  },\n\n  computed: {\n    filteredData: function filteredData() {\n      var sortKey = this.sortKey;\n      var filterKey = this.filterKey && this.filterKey.toLowerCase();\n      var order = this.sortOrders[sortKey] || 1;\n      var data = this.data;\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default.a(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1;\n          });\n        });\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey];\n          b = b[sortKey];\n          return (a === b ? 0 : a > b ? 1 : -1) * order;\n        });\n      }\n      return data;\n    }\n  },\n  methods: {\n    sortBy: function sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n    },\n    triggerLoad: function triggerLoad() {\n      __WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  }\n});\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container card_container\"\n  }, _vm._l((_vm.filteredData), function(image) {\n    return _c('div', {\n      staticClass: \"card card_wrapper\"\n    }, [_c('div', {\n      staticClass: \"card-image\"\n    }, [_c('figure', {\n      staticClass: \"image\"\n    }, [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onClick', image)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (image.downsampled || image.asset),\n        expression: \"image.downsampled || image.asset\"\n      }],\n      staticClass: \"downsampled\"\n    })])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"card-footer\"\n    }, [_c('div', {\n      staticClass: \"card-footer-item\"\n    }, [_c('span', [_vm._v(_vm._s(image.artwork_title))])])])])\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(124)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(125),\n  /* template */\n  __webpack_require__(135),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-8a4749ac\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 125 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'outline',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    },\n    'page': {\n      type: Number,\n      default: undefined\n    },\n    'pdf': {\n      type: Object,\n      default: undefined\n    }\n  },\n  data: function data() {\n    return {\n      pageList: [],\n      activeItem: undefined\n    };\n  },\n  mounted: function mounted() {\n    if (this.data) {\n      this.processData();\n    }\n  },\n\n  methods: {\n    processData: function processData() {\n      var _this = this;\n\n      this.pageList = [];\n      this.data.forEach(function (item, i) {\n        var li = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default.a({}, item);\n        _this.pageList.push(li);\n        _this.pdf.getPageIndex(item.dest[0]).then(function (pg) {\n          li.page = pg;\n\n          if (i === _this.data.length - 1) {\n            _this.checkActive();\n          }\n        });\n      });\n    },\n    handleLink: function handleLink(item) {\n      this.$emit('onClick', item.dest);\n    },\n    checkActive: function checkActive() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default.a(this.pageList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (item.page > this.page) {\n            this.$emit('current', this.activeItem.title);\n            break;\n          } else {\n            this.activeItem = item;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    data: function data() {\n      this.processData();\n    },\n    page: function page() {\n      this.checkActive();\n    }\n  }\n});\n\n/***/ }),\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.pageList), function(item) {\n    return _c('li', [_c('a', {\n      staticClass: \"outline_link\",\n      class: {\n        active: item === _vm.activeItem\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleLink(item)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(item.title || '') + \"\\n      \"), (item.items.length) ? _c('outline', {\n      attrs: {\n        \"data\": item.items\n      },\n      on: {\n        \"onClick\": _vm.handleLink\n      }\n    }) : _vm._e()], 1)])\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(137)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(138),\n  /* template */\n  __webpack_require__(139),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6a1981ce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 138 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_whatwg_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_whatwg_fetch__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'Detail',\n  components: {},\n  props: {\n    'image': {},\n    'manifest': {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      images: [],\n      imagesById: {},\n      imagesByArtwork: {},\n      imagesByArtist: {},\n      imagesByCollection: {},\n      currentDetail: undefined\n    };\n  },\n  created: function created() {\n    if (this.manifest) {\n      this.loaded();\n    }\n    if (this.image) {\n      var imageRef = void 0;\n      if (typeof this.image === 'string') {\n        imageRef = this.image;\n      } else {\n        imageRef = this.imageRef(this.image);\n      }\n      this.currentDetail = this.imagesById[imageRef];\n    } else {\n      this.currentDetail = undefined;\n    }\n  },\n\n  watch: {\n    manifest: function manifest() {\n      this.loaded();\n    },\n    image: function image() {\n      var imageRef = void 0;\n      if (this.image) {\n        if (typeof this.image === 'string') {\n          imageRef = this.image;\n        } else {\n          imageRef = this.imageRef(this.image);\n        }\n        this.currentDetail = this.imagesById[imageRef];\n      } else {\n        this.currentDetail = undefined;\n      }\n    },\n    currentDetail: function currentDetail() {\n      var imageRef = void 0;\n      if (this.currentDetail) {\n        imageRef = this.imageRef(this.currentDetail);\n      }\n      this.$emit('displayed', imageRef);\n    }\n  },\n  methods: {\n    imageRef: function imageRef(image) {\n      return 'img_p' + (image.page - 1) + '_' + image.location;\n    },\n    reset: function reset() {\n      this.images = [];\n      this.imagesById = {};\n      this.imagesByArtwork = {};\n      this.imagesByArtist = {};\n      this.imagesByCollection = {};\n    },\n    loaded: function loaded() {\n      var _this = this;\n\n      if (!this.manifest || !this.manifest.images) {\n        return;\n      }\n      this.images = this.manifest.images;\n\n      this.images.forEach(function (image) {\n        var ref = _this.imageRef(image);\n        _this.imagesById[ref] = image;\n\n        if (image.artwork_title) {\n          var artworkUri = encodeURI(image.artwork_title);\n          if (!_this.imagesByArtwork[artworkUri]) {\n            _this.imagesByArtwork[artworkUri] = [];\n          }\n          _this.imagesByArtwork[artworkUri].push(image);\n        }\n\n        if (image.artist_name) {\n          var artistUri = encodeURI(image.artist_name);\n          if (!_this.imagesByArtist[artistUri]) {\n            _this.imagesByArtist[artistUri] = [];\n          }\n          _this.imagesByArtist[artistUri].push(image);\n        }\n\n        if (image.collection) {\n          var collectionUri = encodeURI(image.collection);\n          if (!_this.imagesByCollection[collectionUri]) {\n            _this.imagesByCollection[collectionUri] = [];\n          }\n          _this.imagesByCollection[collectionUri].push(image);\n        }\n      });\n    },\n    onPageSelected: function onPageSelected(page) {\n      this.$emit('pageSelected', page);\n      this.currentDetail = undefined;\n    },\n    nextDetail: function nextDetail() {\n      var index = this.images.indexOf(this.currentDetail);\n      if (index + 1 < this.images.length) {\n        this.currentDetail = this.images[index + 1];\n      }\n    },\n    prevDetail: function prevDetail() {\n      var index = this.images.indexOf(this.currentDetail);\n      if (index - 1 >= 0) {\n        this.currentDetail = this.images[index - 1];\n      }\n    },\n    onDetailClosed: function onDetailClosed() {\n      this.currentDetail = undefined;\n      this.$emit('closed');\n    },\n    artistLookup: function artistLookup(e) {\n      var _this2 = this;\n\n      var uri = this.currentDetail.artist_uri;\n      if (uri.indexOf('.json') === uri.length - 5) {\n        fetch(uri).then(function (response) {\n          return response.json();\n        }).then(function (artistJson) {\n          _this2.currentDetail.artist_json = artistJson;\n          console.log(artistJson);\n        }).catch(function (err) {\n          return console.error(err);\n        });\n\n        e.preventDefault();\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.currentDetail) ? _c('section', {\n    staticClass: \"box\"\n  }, [_c('div', {\n    staticClass: \"image_detail\"\n  }, [(!_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.asset\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.downsampled\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.collection_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.collection))])])]), _vm._v(\" \"), (_vm.currentDetail.artwork_title) ? _c('div', {\n    staticClass: \"image_info\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.currentDetail.artwork_title))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artwork_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artwork_uri))])]), _vm._v(\" \"), (this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(relatedImage.page_label || relatedImage.page))])])]) : _vm._e()\n  }))]) : _vm._e(), _vm._v(\" \"), _c('h2', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artist_uri\n    },\n    on: {\n      \"click\": _vm.artistLookup\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artist_name))])]), _vm._v(\" \"), (this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage && (_vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)] && _vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].indexOf(relatedImage) === -1)) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(relatedImage.page_label || relatedImage.page))])])]) : _vm._e()\n  }))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_view\",\n    on: {\n      \"click\": function($event) {\n        _vm.onPageSelected(_vm.currentDetail.page);\n      }\n    }\n  }, [_vm._v(\"View in Book\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"prevDetail\"\n    },\n    on: {\n      \"click\": this.prevDetail\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"nextDetail\"\n    },\n    on: {\n      \"click\": this.nextDetail\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": _vm.onDetailClosed\n    }\n  }, [_vm._v(\"Close\")])]) : _vm._e()\n},staticRenderFns: []}\n\n/***/ }),\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"nav fixed\"\n  }, [_c('div', {\n    staticClass: \"nav-left\"\n  }, [_c('a', {\n    staticClass: \"nav-item\"\n  }, [_c('span', {\n    staticClass: \"icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSearch = !_vm.showSearch\n      }\n    }\n  }, [(!_vm.showSearch) ? _c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"search\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showSearch) ? _c('icon', {\n    attrs: {\n      \"name\": \"close\",\n      \"title\": \"close\"\n    }\n  }) : _vm._e()], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-center\"\n  }, [(!_vm.showSearch) ? _c('div', {\n    staticClass: \"nav-item\"\n  }, [_c('div', {\n    staticClass: \"nav-item arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": this.prev\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    attrs: {\n      \"name\": \"chevron-left\",\n      \"title\": \"Prev\"\n    }\n  })], 1)]), _vm._v(\" \"), (!_vm.current) ? _c('span', [_vm._v(_vm._s(_vm.title))]) : _vm._e(), _vm._v(\" \"), (_vm.current) ? _c('span', [_vm._v(\"\\n           \" + _vm._s(_vm.shortTitle)), _c('icon', {\n    staticClass: \"navbar-breadcrumb\",\n    attrs: {\n      \"name\": \"caret-right\"\n    }\n  }), _vm._v(_vm._s(_vm.current) + \"\\n        \")], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-item arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": this.next\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    attrs: {\n      \"name\": \"chevron-right\",\n      \"title\": \"Next\"\n    }\n  })], 1)])]) : _vm._e(), _vm._v(\" \"), (_vm.showSearch) ? _c('div', {\n    staticClass: \"nav-item\"\n  }, [(_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"prevMatch\"\n    },\n    on: {\n      \"click\": _vm.prevMatch\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"chevron-left\",\n      \"title\": \"Prev Match\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('p', {\n    staticClass: \"control\"\n  }, [(_vm.matchCount) ? _c('span', {\n    staticClass: \"found\"\n  }, [_vm._v(_vm._s(_vm.currentMatchIndex) + \" of \" + _vm._s(_vm.matchCount))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"nextMatch\"\n    },\n    on: {\n      \"click\": _vm.nextMatch\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"chevron-right\",\n      \"title\": \"Next Match\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('p', {\n    staticClass: \"control has-icons-right\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    staticClass: \"input has-icons-right\",\n    attrs: {\n      \"name\": \"query\",\n      \"results\": \"5\",\n      \"placeholder\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon is-small is-right\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"Search\"\n    }\n  })], 1)])]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-right\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    staticClass: \"nav-item has-addons\"\n  }, [_c('p', {\n    staticClass: \"control\"\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomOut\"\n    },\n    on: {\n      \"click\": _vm.zoomOut\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"minus\",\n      \"title\": \"Zoom Out\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control zoom\"\n  }, [_c('input', {\n    staticClass: \"input is-white is-small\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": Math.round(_vm.zoomLevel * 100) + '%'\n    }\n  })]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomIn\"\n    },\n    on: {\n      \"click\": _vm.zoomIn\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"plus\",\n      \"title\": \"Zoom In\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [(_vm.spreads) ? _c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(false);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"file-o\",\n      \"title\": \"Single\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), (!_vm.spreads) ? _c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(true);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"columns\",\n      \"title\": \"Spread\"\n    }\n  })], 1)]) : _vm._e()])]), _vm._v(\" \"), _c('a', {\n    staticClass: \"nav-item\",\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = !_vm.outlineOpen;\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"icon\"\n  }, [(!_vm.outlineOpen) ? _c('icon', {\n    attrs: {\n      \"name\": \"bars\",\n      \"title\": \"Open Navigation\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.outlineOpen) ? _c('icon', {\n    attrs: {\n      \"name\": \"close\",\n      \"title\": \"Close Navigation\"\n    }\n  }) : _vm._e()], 1)])])]), _vm._v(\" \"), _c('section', {\n    staticClass: \"main\"\n  }, [_c('PDF', {\n    ref: \"pdf\",\n    attrs: {\n      \"id\": \"pdf\",\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page,\n      \"width\": this.width,\n      \"height\": this.height,\n      \"spreads\": _vm.spreads,\n      \"onImageClicked\": this.onImageClicked,\n      \"onOutlineReady\": this.onOutlineReady,\n      \"query\": _vm.query,\n      \"zoom\": _vm.zoomLevel\n    },\n    on: {\n      \"loaded\": _vm.loaded,\n      \"pageChanged\": this.onPageChanged,\n      \"found\": this.onFound,\n      \"match\": this.onMatch\n    }\n  })], 1), _vm._v(\" \"), _c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.outlineOpen),\n      expression: \"outlineOpen\"\n    }],\n    staticClass: \"navigation\"\n  }, [_c('div', {\n    staticClass: \"container\"\n  }, [_c('b-tabs', {\n    attrs: {\n      \"position\": \"is-centered\"\n    },\n    on: {\n      \"change\": _vm.onTabChanged\n    },\n    model: {\n      value: (_vm.activeTab),\n      callback: function($$v) {\n        _vm.activeTab = $$v\n      },\n      expression: \"activeTab\"\n    }\n  }, [_c('b-tab-item', {\n    attrs: {\n      \"label\": \"Outline\"\n    }\n  }, [_c('outline', {\n    attrs: {\n      \"data\": _vm.outline,\n      \"pdf\": _vm.$refs.pdf,\n      \"page\": _vm.displayedPage\n    },\n    on: {\n      \"onClick\": this.goto,\n      \"current\": this.onCurrentTitle\n    }\n  })], 1), _vm._v(\" \"), _c('b-tab-item', {\n    attrs: {\n      \"label\": \"Artworks\"\n    }\n  }, [_c('grid', {\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"grid\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onClick\": this.onImageSelected\n    }\n  })], 1), _vm._v(\" \"), _c('b-tab-item', {\n    attrs: {\n      \"label\": \"Table\"\n    }\n  }, [_c('tablegrid', {\n    ref: \"table\",\n    attrs: {\n      \"id\": \"table\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onImageClick\": this.onImageSelected,\n      \"onPageClick\": this.onPageSelected\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\",\n    class: {\n      'is-active': _vm.isModalActive\n    }\n  }, [_c('div', {\n    staticClass: \"modal-background\",\n    on: {\n      \"click\": function($event) {\n        _vm.isModalActive = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal-content\"\n  }, [_c('detail', {\n    attrs: {\n      \"image\": _vm.currentDetail,\n      \"manifest\": _vm.manifest\n    },\n    on: {\n      \"pageSelected\": this.onPageSelected,\n      \"closed\": this.onDetailClosed,\n      \"displayed\": this.onDetailDisplayed\n    }\n  })], 1), _vm._v(\" \"), _c('button', {\n    staticClass: \"modal-close\",\n    on: {\n      \"click\": function($event) {\n        _vm.isModalActive = false\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url,\n      \"page-url\": _vm.page,\n      \"image-url\": _vm.image\n    }\n  })\n},staticRenderFns: []}\n\n/***/ })\n],[46]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b4be15578274a04d1f8c.js","function injectStyle (ssrContext) {\n  require(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d3a0930\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./Icon.vue\")\n}\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./Icon.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d3a0930\\\"}!../../vue-loader/lib/selector?type=template&index=0!./Icon.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-awesome/components/Icon.vue\n// module id = 0\n// module chunks = 2","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b1e10760\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b1e10760\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 48\n// module chunks = 2","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\nbody {\n  margin: 0;\n  padding: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?06535e7f","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b1e10760\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 52\n// module chunks = 2","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  // mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'Main',\n      component: Main\n    },\n    {\n      path: '/books/:book/editions/:edition',\n      name: 'Manifest',\n      component: Main\n    },\n    {\n      path: '/books/:book/editions/:edition/pages/:page',\n      name: 'PageLink',\n      component: Main\n    },\n    {\n      path: '/books/:book/editions/:edition/images/:image',\n      name: 'ImageLink',\n      component: Main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6710a481\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6710a481\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6710a481\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = 55\n// module chunks = 2","<template>\n  <Reader :manifest-url=\"url\" :page-url=\"page\" :image-url=\"image\"/>\n</template>\n\n<script>\nimport Reader from '@/components/Reader'\n\nexport default {\n  name: 'main',\n  components: {\n    'Reader': Reader\n  },\n  data () {\n    console.log('route', this.$route.params.book, this.$route.params.edition, this.$route.params.page, this.$route.params.image);\n    return {\n      url: `https://s3.amazonaws.com/pubs-fchasen/books/${this.$route.params.book || 711}/editions/${this.$route.params.edition || 884}/manifest.json`,\n      page: this.$route.params.page,\n      image: this.$route.params.image\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Main.vue?b3607ef8","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0974f68b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Reader.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Reader.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0974f68b\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Reader.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Reader.vue\n// module id = 58\n// module chunks = 2","<template>\n  <div>\n\n    <nav class=\"nav fixed\">\n      <div class=\"nav-left\">\n\n        <!-- <a class=\"nav-item\" href=\"http://www.getty.edu/\" target=\"_blank\" title=\"The Getty\">\n          <img src=\"../assets/getty_logo.png\" alt=\"Getty Logo\" class=\"logo\">\n        </a> -->\n\n        <a class=\"nav-item\">\n          <span class=\"icon\" @click=\"showSearch = !showSearch\">\n            <icon v-if=\"!showSearch\" name=\"search\" title=\"search\"></icon>\n            <icon v-if=\"showSearch\" name=\"close\" title=\"close\"></icon>\n          </span>\n        </a>\n\n\n\n      </div>\n\n      <div class=\"nav-center\">\n\n        <div class=\"nav-item\" v-if=\"!showSearch\">\n          <div id=\"prev\" class=\"nav-item arrow\" @click=\"this.prev\">\n            <span class=\"icon is-small\">\n              <icon name=\"chevron-left\" title=\"Prev\" v-show=\"!outlineOpen\"></icon>\n            </span>\n          </div>\n          <span v-if=\"!current\">{{ title }}</span>\n          <span v-if=\"current\">\n             {{ shortTitle}}<icon class=\"navbar-breadcrumb\" name=\"caret-right\"></icon>{{ current }}\n          </span>\n          <div id=\"next\" class=\"nav-item arrow\" @click=\"this.next\">\n            <span class=\"icon is-small\">\n              <icon name=\"chevron-right\" title=\"Next\" v-show=\"!outlineOpen\"></icon>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"nav-item\" v-if=\"showSearch\">\n          <a id=\"prevMatch\" @click=\"prevMatch\" v-if=\"matchCount\">\n            <span class=\"icon is-small\">\n              <icon name=\"chevron-left\" title=\"Prev Match\"></icon>\n            </span>\n          </a>\n          <p class=\"control\" v-if=\"matchCount\">\n            <span class=\"found\" v-if=\"matchCount\">{{currentMatchIndex}} of {{matchCount}}</span>\n          </p>\n          <a id=\"nextMatch\" @click=\"nextMatch\" v-if=\"matchCount\">\n            <span class=\"icon is-small\">\n              <icon name=\"chevron-right\" title=\"Next Match\"></icon>\n            </span>\n          </a>\n\n          <p class=\"control has-icons-right\">\n            <input class=\"input has-icons-right\" name=\"query\" v-model=\"query\" results=\"5\" placeholder=\"search\">\n            <span class=\"icon is-small is-right\">\n              <icon name=\"search\" title=\"Search\"></icon>\n            </span>\n          </p>\n        </div>\n\n      </div>\n\n      <div class=\"nav-right\">\n\n        <div class=\"nav-item has-addons\" v-show=\"!outlineOpen\">\n          <p class=\"control\">\n            <a id=\"zoomOut\" @click=\"zoomOut\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"minus\" title=\"Zoom Out\"></icon>\n              </span>\n            </a>\n          </p>\n          <p class=\"control zoom\">\n            <input class=\"input is-white is-small\" type=\"text\" :value=\"Math.round(zoomLevel * 100)+'%'\">\n          </p>\n          <p class=\"control\">\n            <a id=\"zoomIn\" @click=\"zoomIn\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"plus\" title=\"Zoom In\"></icon>\n              </span>\n            </a>\n          </p>\n          <p class=\"control\">\n            <a v-if=\"spreads\" @click=\"setSpreads(false); showGrid = false; showTable = false;\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"file-o\" title=\"Single\"></icon>\n              </span>\n            </a>\n            <a v-if=\"!spreads\" @click=\"setSpreads(true); showGrid = false; showTable = false;\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"columns\" title=\"Spread\"></icon>\n              </span>\n            </a>\n          </p>\n          <!-- <p class=\"control\">\n            <a v-if=\"false\" @click=\"\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"i-cursor\" title=\"Cursor\"></icon>\n              </span>\n            </a>\n            <a v-if=\"true\" @click=\"\">\n              <span class=\"button is-white is-small\">\n                <icon name=\"hand-paper-o\" title=\"Hand\"></icon>\n              </span>\n            </a>\n          </p> -->\n        </div>\n\n        <a class=\"nav-item\" @click=\"outlineOpen = !outlineOpen; showGrid = false; showTable = false;\">\n          <span class=\"icon\">\n            <icon v-if=\"!outlineOpen\" name=\"bars\" title=\"Open Navigation\"></icon>\n            <icon v-if=\"outlineOpen\" name=\"close\" title=\"Close Navigation\"></icon>\n          </span>\n        </a>\n\n      </div>\n      <!-- <div class=\"nav-right\">\n        <div class=\"nav-item\">\n          <a id=\"zoomOut\" @click=\"zoomOut\">-</a>\n          <span id=\"zoomLevel\" v-if=\"zoomLevel\">{{Math.round(zoomLevel * 100)}}%</span>\n          <a id=\"zoomIn\" @click=\"zoomIn\">+</a>\n        </div>\n        <div class=\"nav-item\">\n          Book:\n          <a id=\"artwork-nav-single\" @click=\"setSpreads(false); showGrid = false; showTable = false;\">\n            <span class=\"icon is-small\">\n              <icon name=\"file-o\" title=\"Single\" style=\"transform: rotate(180deg) scaleX(-1); height: .95em\"></icon>\n            </span>\n          </a>\n           |\n          <a id=\"artwork-nav-spread\" @click=\"setSpreads(true); showGrid = false; showTable = false;\">\n            <span class=\"icon is-small\">\n              <icon name=\"columns\" title=\"Spread\"></icon>\n            </span>\n          </a>\n        </div>\n        <div class=\"nav-item\">\n          Artwork:\n          <a id=\"artwork-nav-table\" @click=\"toggleTable\">\n            <span class=\"icon is-small\">\n              <icon name=\"table\" title=\"Table\"></icon>\n            </span>\n          </a>\n           |\n          <a id=\"artwork-nav-grid\" @click=\"toggleGrid\">\n            <span class=\"icon is-small\">\n              <icon name=\"th\" title=\"Grid\"></icon>\n            </span>\n          </a>\n        </div>\n      </div> -->\n\n\n    </nav>\n\n    <section class=\"main\">\n      <PDF id=\"pdf\" ref=\"pdf\"\n          :src=\"this.manifest.pdf\"\n          :page=\"page\"\n          @loaded=\"loaded\"\n          :width=\"this.width\"\n          :height=\"this.height\"\n          :spreads=\"spreads\"\n          :onImageClicked=\"this.onImageClicked\"\n          :onOutlineReady=\"this.onOutlineReady\"\n          @pageChanged=\"this.onPageChanged\"\n          @found=\"this.onFound\"\n          @match=\"this.onMatch\"\n          :query=\"query\"\n          :zoom=\"zoomLevel\"\n        />\n    </section>\n\n    <section class=\"navigation\" v-show=\"outlineOpen\">\n      <div class=\"container\">\n        <b-tabs position=\"is-centered\" v-model=\"activeTab\" @change=\"onTabChanged\">\n          <b-tab-item label=\"Outline\">\n            <outline :data=\"outline\" :pdf=\"$refs.pdf\" :page=\"displayedPage\" @onClick=\"this.goto\" @current=\"this.onCurrentTitle\"/>\n          </b-tab-item>\n          <b-tab-item label=\"Artworks\">\n            <grid id=\"grid\" ref=\"grid\" :data=\"images\" @onClick=\"this.onImageSelected\" />\n          </b-tab-item>\n          <b-tab-item label=\"Table\">\n            <tablegrid id=\"table\" ref=\"table\" :data=\"images\" @onImageClick=\"this.onImageSelected\" @onPageClick=\"this.onPageSelected\" />\n          </b-tab-item>\n        </b-tabs>\n      </div>\n    </section>\n\n    <!-- <section id=\"outline\" v-show=\"outlineOpen\">\n      <h2>Outline</h2>\n      <outline :data=\"outline\" :pdf=\"$refs.pdf\" :page=\"displayedPage\" @onClick=\"this.goto\" @current=\"this.onCurrentTitle\"/>\n      <a class=\"detail_close\" @click=\"outlineOpen = false\">Close</a>\n    </section> -->\n\n    <div class=\"modal\" :class=\"{'is-active': isModalActive}\">\n      <div class=\"modal-background\" @click=\"isModalActive = false\"></div>\n      <div class=\"modal-content\">\n        <detail :image=\"currentDetail\" :manifest=\"manifest\" @pageSelected=\"this.onPageSelected\" @closed=\"this.onDetailClosed\" @displayed=\"this.onDetailDisplayed\"/>\n      </div>\n      <button class=\"modal-close\" @click=\"isModalActive = false\"></button>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport Vue from 'vue'\nimport PDF from '@/components/PDF'\nimport Table from '@/components/Table'\nimport Grid from '@/components/Grid'\nimport Outline from '@/components/Outline'\nimport Detail from '@/components/Detail'\nimport 'whatwg-fetch'\n\n// Icons\nimport 'vue-awesome/icons/bars'\nimport 'vue-awesome/icons/search'\nimport 'vue-awesome/icons/columns'\nimport 'vue-awesome/icons/file-o'\nimport 'vue-awesome/icons/table'\nimport 'vue-awesome/icons/th'\nimport 'vue-awesome/icons/chevron-right'\nimport 'vue-awesome/icons/chevron-left'\nimport 'vue-awesome/icons/close'\nimport 'vue-awesome/icons/caret-right'\nimport 'vue-awesome/icons/plus'\nimport 'vue-awesome/icons/minus'\nimport 'vue-awesome/icons/hand-paper-o'\nimport 'vue-awesome/icons/i-cursor'\n\nimport Icon from 'vue-awesome/components/Icon'\nimport Buefy from 'buefy';\nimport 'buefy/lib/buefy.css';\n\nVue.use(Buefy, {\n  defaultIconPack: 'fa'\n})\nexport default {\n  name: 'reader',\n  components: {\n    'PDF': PDF,\n    'grid': Grid,\n    'tablegrid': Table,\n    'icon': Icon,\n    'outline': Outline,\n    'detail': Detail\n  },\n  props: {\n    'manifest-url': {\n      type: String\n    },\n    'page-url': {\n      type: String\n    },\n    'image-url': {\n      type: String\n    }\n  },\n  data () {\n    let bounds = this.getBounds();\n\n    return {\n      manifest: {},\n      images: [],\n      page: 0,\n      displayedPage: 0,\n      spreads: true,\n      showTable: false,\n      showGrid: false,\n      currentDetail: undefined,\n      width: bounds.width,\n      height: bounds.height,\n      outline: undefined,\n      outlineOpen: false,\n      query: '',\n      matchCount: undefined,\n      currentMatchIndex: undefined,\n      zoomLevel: 0.80,\n      shownDetail: undefined,\n      displayedDetail: undefined,\n      activeTab: 0,\n      title: '',\n      shortTitle: '',\n      current: '',\n      isModalActive: false,\n      showSearch: false\n    }\n  },\n  created () {\n    this.fetchManifest();\n    window.addEventListener('keyup', this.keyListener.bind(this), false);\n    window.addEventListener('resize', this.handleResize.bind(this), false);\n    this.currentDetail = undefined;\n  },\n  beforeDestory () {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keyup', this.keyListener);\n  },\n  watch: {\n    showTable () {\n      const { table } = this.$refs;\n      table.triggerLoad();\n    },\n    showGrid () {\n      const { grid } = this.$refs;\n      grid.triggerLoad();\n    },\n    pageUrl () {\n      if (this.loaded) {\n        this.page = parseInt(this.pageUrl);\n      }\n    },\n    imageUrl () {\n      if (this.loaded) {\n        this.currentDetail = this.imageUrl;\n      }\n    },\n    displayedDetail () {\n      if (this.displayedDetail) {\n        this.$router.push({ name: 'ImageLink', params: { image: this.displayedDetail } });\n      } else {\n        this.$router.push({ name: 'Manifest' });\n      }\n    },\n    displayedPage () {\n      if (this.displayedPage) {\n        this.$router.push({ name: 'PageLink', params: { page: this.displayedPage } });\n      } else {\n        this.$router.push({ name: 'Manifest' });\n      }\n    },\n  },\n  methods: {\n    fetchManifest () {\n      return fetch(this.manifestUrl)\n        .then((response) => {\n          return response.json()\n        })\n        .then((manifest) => {\n          this.manifest = manifest;\n\n          this.shortTitle = manifest.title;\n          this.title = manifest.title;\n          if (manifest.subtitle) {\n            this.title += ': ' + manifest.subtitle;\n          }\n\n          this.title += ' – ' + manifest.author_as_it_appears;\n        }).catch((err) => console.error(err));\n    },\n    loaded (pdfDocument) {\n      this.loaded = true;\n\n      this.pdfDocument = pdfDocument;\n      // Wait for PDF to load\n      this.images = this.manifest.images;\n\n      if (this.imageUrl) {\n        this.currentDetail = this.imageUrl;\n      }\n\n      if (this.pageUrl) {\n        this.page = parseInt(this.pageUrl);\n      }\n    },\n    next () {\n      const { pdf } = this.$refs;\n      pdf.next();\n    },\n    prev () {\n      const { pdf } = this.$refs;\n      pdf.prev();\n    },\n    keyListener (e) {\n      const { keyCode } = e;\n      if (keyCode === 37) {\n        this.prev();\n      } else if (keyCode === 39) {\n        this.next();\n      }\n    },\n    handleResize () {\n      let bounds = this.getBounds();\n      this.width = bounds.width;\n      this.height = bounds.height;\n    },\n    goto (dest) {\n      const { pdf } = this.$refs;\n      this.outlineOpen = false;\n      return pdf.getPageIndex(dest[0]).then((pg) => {\n        this.page = pg;\n      }).catch((err) => console.error(err));\n    },\n    onImageSelected (image) {\n      // this.page = (image.page - 1);\n      this.currentDetail = image;\n      this.isModalActive = true;\n    },\n    onPageSelected (page) {\n      this.page = (page - 1);\n      this.showGrid = false;\n      this.showTable = false;\n      this.currentDetail = undefined;\n    },\n    onImageClicked (image) {\n      this.currentDetail = image.objId;\n      this.isModalActive = true;\n    },\n    onDetailClosed () {\n      this.currentDetail = undefined;\n    },\n    onDetailDisplayed (detail) {\n      this.displayedDetail = detail;\n    },\n    onFound (count) {\n      this.matchCount = count;\n    },\n    onMatch (index) {\n      this.currentMatchIndex = index + 1;\n    },\n    onCurrentTitle (title) {\n      this.current = title;\n\n      if (title === 'Cover') {\n        this.current = '';\n      }\n    },\n    getBounds () {\n      let width = window.innerWidth;\n      let height = window.innerHeight;\n      let header = 52;\n      return {\n        width: width,\n        height: height - header\n      };\n    },\n    setSpreads (spreads) {\n      if (this.spreads !== spreads) {\n        this.spreads = spreads;\n      }\n    },\n    onOutlineReady (outline) {\n      this.outline = outline;\n    },\n    onPageChanged (pages) {\n      this.displayedPage = pages[pages.length - 1];\n      this.page = -1; // reset\n    },\n    onTabChanged (index) {\n      const { grid, table } = this.$refs;\n\n      if (index === 1) {\n        grid.triggerLoad();\n      }\n\n      if (index === 2) {\n        table.triggerLoad();\n      }\n    },\n    toggleTable () {\n      this.showTable = !this.showTable;\n      this.showGrid = false;\n    },\n    toggleGrid () {\n      this.showGrid = !this.showGrid;\n      this.showTable = false;\n    },\n    nextMatch () {\n      const { pdf } = this.$refs;\n      pdf.nextMatch();\n    },\n    prevMatch () {\n      const { pdf } = this.$refs;\n      pdf.prevMatch();\n    },\n    zoomIn () {\n      // Handle https://en.wikipedia.org/wiki/IEEE_floating_point\n      this.zoomLevel = Math.round(this.zoomLevel * 10 + 2) / 10;\n    },\n    zoomOut () {\n      if (this.zoomLevel > 0.20) {\n        this.zoomLevel = Math.round(this.zoomLevel * 10 - 2) / 10;\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n.nav.fixed {\n  top: 0;\n  left: 0;\n  width: 100%;\n  border-bottom: 1px solid #dbdbdb;\n  z-index: 15;\n}\n\n.nav.section_nav {\n  background-color: whitesmoke;\n\n}\n\n.navigation {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  margin-bottom: 0;\n  padding: 60px 40px 0 40px;\n  background-color: whitesmoke;\n  overflow: auto;\n}\n\n.main {\n  background-color: #757575;\n}\n\n.icon.is-small svg {\n  height: 1em;\n}\n\n.zoom {\n  width: 45px;\n}\n\n/*h1, h2, h3 {\n  font-weight: normal;\n  display: inline;\n  font-size: 16px;\n}\n\na {\n  color: #42b983;\n}\n\n#prev {\n  left: 40px;\n}\n\n#next {\n  right: 40px;\n}\n\n.arrow {\n  position: absolute;\n  top: 50vh;\n  margin-top: -32px;\n  font-size: 64px;\n  color: #E2E2E2;\n  font-family: arial, sans-serif;\n  font-weight: bold;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.arrow:hover {\n  color: #777;\n}\n\n.arrow:active {\n  color: #000;\n}\n\n#page-wrap {\n  background: #D3D3D3;\n}\n\n#page-wrap > header {\n  padding: 15px;\n  -webkit-transition: opacity 1s;\n  transition: opacity 0.8s;\n  opacity: 0.3;\n  height: 24px;\n  overflow: hidden;\n}\n\n#page-wrap > header:hover {\n  opacity: 1;\n}\n\n#main {\n  position: relative;\n  width: calc(100vw - 80px);\n  min-height: calc(100vh - 54px);\n  margin: 0;\n  padding: 0 40px;\n  background: #D3D3D3;\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n}\n\n#pdf {\n  margin: 40px auto;\n}\n\n#images {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background: #D3D3D3;\n}\n\n#grid {\n  margin: 0 auto;\n}\n\n#table {\n  margin: 0 auto;\n}\n\n#nav {\n  display: flex;\n  flex-direction: row;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n#nav li {\n  margin: 0 6px;\n  color: #696969;\n}\n\n#nav li a {\n  cursor: pointer;\n  color: #696969;\n  display: inline-block;\n}\n\n#nav li a:active {\n  color: #151515;\n}\n\n#nav li a:active .fa-icon {\n  margin-bottom: -4px;\n}\n\n#title-nav {\n  flex-grow: 100;\n}\n\n.fa-icon {\n  width: auto;\n  height: 1em;\n  margin-bottom: -3px;\n}\n*/\n#detail {\n  z-index: 50;\n}\n\n#outline {\n  position: absolute;\n  top: 60px;\n  left: 20px;\n  width: calc(100vw - 120px);\n  height: calc(100vh - 160px);\n  padding: 40px;\n  background: #333333;\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  /*z-index: 50;*/\n  overflow: auto;\n}\n\n#outline h2 {\n  display: block;\n  color: #fff;\n}\n\n#outline ul {\n  list-style: none;\n}\n\n#outline a.outline_link {\n  color: #eee;\n}\n\n.navbar-breadcrumb {\n  margin: 0 0.7em;\n  height: .7em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Reader.vue?163b2ade","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13a94fda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PDF.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PDF.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13a94fda\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PDF.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-13a94fda\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PDF.vue\n// module id = 61\n// module chunks = 2","<template>\n  <div :ref=\"'container'\" class=\"pageContainer\" :class=\"{ loading: isLoading, centered: (!spreads || zoom <= 1) }\" :style=\"{ width: `${width}px`, height: `${height ? height : viewportHeight }px` }\" >\n    <div class=\"page\" v-for=\"page in displayedPages\" :key=\"page.pageIndex\">\n      <page\n        :ref=\"'page_'+page.pageIndex\"\n        :page=\"page\"\n        :width=\"spreads ? width / 2 : width\"\n        :height=\"height\"\n        :scale=\"zoom\"\n        :onViewport=\"handleViewport\"\n        :onImageClicked=\"onImageClicked\"\n        :onSelected=\"onSelected\"\n        @displayed=\"afterDisplayed\"\n      />\n    </div>\n    <search :pdfDocument=\"pdfDocument\" :query=\"query\" @matched=\"this.onMatched\" @found=\"this.onFound\"/>\n  </div>\n</template>\n\n<script>\nimport Page from '@/components/Page'\nimport Search from '@/components/Search'\n\nconst pdfjsLib = require('pdfjs-dist');\n// require('pdfjs-dist/lib/shared/compatibility.js');\n\npdfjsLib.PDFJS.workerSrc = 'static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'pdf',\n  components: {\n    'Page': Page,\n    'Search': Search\n  },\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number,\n      default: undefined\n    },\n    'height': {\n      type: Number,\n      default: undefined\n    },\n    'page': {\n      default: 0,\n      type: Number\n    },\n    'spreads': {\n      default: true,\n      type: Boolean\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onOutlineReady': {\n      default: undefined,\n      type: Function\n    },\n    'query': {\n      default: undefined,\n      type: String\n    },\n    'zoom': {\n      default: 1,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      pdfDocument: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      displayedPage: 0,\n      displayedPages: [],\n      displayedPagesNumbers: [],\n      outline: undefined,\n      pageMatchesLength: [],\n      pageMatches: [],\n      matched: [],\n      selectedMatch: {}\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.src) {\n      this.loadDocument(this.src)\n        .then(() => this.display(this.page))\n        .catch((err) => console.error(err));\n    }\n  },\n  watch: {\n    src () {\n      if (this.src) {\n        this.loadDocument(this.src)\n          .then(() => this.display(this.page))\n          .catch((err) => console.error(err));\n      }\n    },\n    page (pg) {\n      if (typeof this.page !== 'undefined' && this.page > -1) {\n        this.display(this.page);\n      }\n    },\n    spreads (spreads) {\n      if (typeof this.displayedPage !== 'undefined') {\n        this.display(this.displayedPage);\n      }\n    },\n    displayedPage () {\n      this.$emit('pageChanged', this.displayedPagesNumbers);\n    },\n    query () {\n      if (this.query === '') {\n        // this.findController.executeCommand('find', {query: this.query});\n        this.clearMatches();\n      }\n    },\n    zoom () {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      this.scrollLeftDelta = (container.scrollLeft - ((container.scrollWidth - bounds.width) / 2));\n      this.scrollTopDelta = (container.scrollTop - ((container.scrollHeight - bounds.height) / 2));\n    }\n  },\n  methods: {\n    loadDocument (src) {\n      console.log('src', src);\n      return pdfjsLib.getDocument(src)\n        .then((pdfDocument) => {\n          // Document loaded, retrieving the page.\n          var pagesCount = pdfDocument.numPages;\n          // var noCover = settings.cover === false;\n          this.numPages = pagesCount;\n\n          this.pdfDocument = pdfDocument;\n\n          this.$emit('loaded', pdfDocument);\n\n          this.outline = pdfDocument.getOutline().then((outline) => {\n            return this.processOutline(outline);\n          });\n        })\n        .catch((err) => console.error(err));\n    },\n    display (page = this.page) {\n      this.displayedPages = []; // clear\n\n      if (page < 0) {\n        return;\n      }\n\n      if (this.spreads) {\n        if (page % 2 !== 0 || page === 0) {\n          this.displayedPage = page;\n        } else {\n          this.displayedPage = page - 1;\n        }\n\n        if (this.displayedPage > 0) {\n          this.loadPage(this.displayedPage) // left\n          this.loadPage(this.displayedPage + 1) // right\n          this.displayedPagesNumbers = [this.displayedPage, this.displayedPage + 1];\n        } else {\n          this.loadPage(this.displayedPage) // cover\n          this.displayedPagesNumbers = [this.displayedPage];\n        }\n      } else {\n        this.displayedPage = page;\n        this.loadPage(this.displayedPage);\n\n        this.displayedPagesNumbers = [this.displayedPage];\n      }\n    },\n    next () {\n      if (this.displayedPage === 0) {\n        this.displayedPage += 1;\n      } else {\n        this.displayedPage += this.spreads ? 2 : 1;\n      }\n      if (this.displayedPage < this.numPages) {\n        this.display(this.displayedPage);\n      } else {\n        this.displayedPage = this.numPages - (this.spreads ? 2 : 1);\n      }\n    },\n    prev () {\n      if (this.displayedPage > 0) {\n        if (this.displayedPage === 1) {\n          this.displayedPage -= 1;\n        } else {\n          this.displayedPage -= this.spreads ? 2 : 1;\n        }\n        this.display(this.displayedPage);\n      }\n    },\n    loadPage (pageIndex) {\n      const { pdfDocument } = this;\n\n      if (!pdfDocument) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      let pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdfDocument.numPages) {\n        pageNumber = pdfDocument.numPages;\n      }\n\n      return pdfDocument.getPage(pageNumber)\n        .then((page) => this.onPageLoad(page))\n        .catch((page) => this.onPageError(page));\n    },\n    onPageLoad (page) {\n      if (!this.displayedPagesNumbers.includes(page.pageIndex)) {\n        return;\n      }\n\n      this.displayedPages.push(page);\n\n      this.$nextTick(() => {\n        let pg = this.$refs[`page_${page.pageIndex}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n        pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n      });\n    },\n    afterDisplayed () {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      container.scrollLeft = (container.scrollWidth - bounds.width) / 2 + this.scrollLeftDelta;\n      container.scrollTop = (container.scrollHeight - bounds.height) / 2 + this.scrollTopDelta;\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    handleViewport (viewport) {\n      this.viewportWidth = viewport.width;\n      this.viewportHeight = viewport.height;\n    },\n    processOutline (outline) {\n      this.onOutlineReady && this.onOutlineReady(outline);\n      return outline;\n    },\n    getPageIndex (dest) {\n      return this.pdfDocument.getPageIndex(dest);\n    },\n    onMatched (matched, pageMatches, pageMatchesLength, count) {\n      // per page\n    },\n    onFound (query, matched, pageMatches, pageMatchesLength, count) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.matched = matched;\n      this.$emit('found', count);\n      if (this.matched && this.matched.length) {\n        this.currentMatchIndex = 0;\n        this.selectedMatch = this.matched[this.currentMatchIndex];\n        this.$emit('match', this.currentMatchIndex);\n\n        if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n          this.display(this.selectedMatch.pageIdx);\n        } else {\n          let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n          pg.updatedSelectedMatch(this.selectedMatch);\n          pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n        }\n      }\n    },\n    onSelected (selected) {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      container.scrollLeft = bounds.left + selected.left;\n      container.scrollTop = bounds.top + selected.top;\n    },\n    clearMatches () {\n      this.displayedPagesNumbers.forEach((pageIndex) => {\n        let pg = this.$refs[`page_${pageIndex}`][0];\n        pg.updateTextLayerMatches('', [], null);\n      });\n    },\n    nextMatch () {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex < this.matched.length - 1) {\n        this.currentMatchIndex += 1;\n      } else {\n        this.currentMatchIndex = 0;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    },\n    prevMatch () {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex > 0) {\n        this.currentMatchIndex -= 1;\n      } else {\n        this.currentMatchIndex = this.matched.length - 1;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading {\n  /*background: #eee url('../assets/loading-icon.gif') center no-repeat;*/\n}\n\n.pageContainer {\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow: auto;\n}\n\n.pageContainer.centered {\n  justify-content: center;\n  align-items: center;\n}\n\n.page {\n  flex: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PDF.vue?5493c29c","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca68b352\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca68b352\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ca68b352\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Page.vue\n// module id = 64\n// module chunks = 2","<template>\n  <div class=\"pageWrapper\" :class=\"{ loading: isLoading }\" :style=\"{ width: `${viewportWidth}px`, height: `${viewportHeight}px` }\">\n    <canvas ref=\"canvas\" :width=\"`${viewportWidth}px`\" :height=\"`${viewportHeight}px`\"/>\n    <textlayer :page=\"page\" :viewport=\"viewport\" :scale=\"scale\" @selected=\"onSelected\" ref=\"textLayer\"></textlayer>\n    <imagelayer :images=\"images\" :viewport=\"viewport\" :scale=\"scale\" :onImageClicked=\"onImageClicked\"></imagelayer>\n    <div ref=\"annotationLayer\"></div>\n  </div>\n</template>\n\n<script>\nimport TextLayer from '@/components/TextLayer'\nimport ImageLayer from '@/components/ImageLayer'\n\nconst pdfjsLib = require('pdfjs-dist');\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'page',\n  components: {\n    'textlayer': TextLayer,\n    'imagelayer': ImageLayer\n  },\n  props: {\n    'scale': {\n      default: 1,\n      type: Number\n    },\n    'rotate': {\n      default: undefined,\n      type: Number\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      type: Number\n    },\n    'page': {\n      default: undefined,\n      type: Object\n    },\n    'onViewport': {\n      default: undefined,\n      type: Function\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onSelected': {\n      default: undefined,\n      type: Function\n    }\n    // 'pageMatchesLength': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'pageMatches': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'selectedMatch': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'query': {\n    //   default: undefined,\n    //   type: String\n    // }\n  },\n  data () {\n    return {\n      pdf: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      viewportScale: 1,\n      viewport: undefined,\n      textContent: undefined,\n      images: [],\n      pageIndex: undefined\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.page) {\n      this.displayPage(this.page);\n    }\n\n    // if (this.pageMatches && this.pageMatchesLength) {\n    //   // For some reason changes to the array isn't picked up, so sent as an object.\n    //   const {pageMatches} = this.pageMatches;\n    //   const {pageMatchesLength} = this.pageMatchesLength;\n    //\n    //   if (this.pageIndex in pageMatches) {\n    //     this.$refs.textLayer.updateTextLayerMatches(this.query, pageMatchesLength ? pageMatchesLength[this.pageIndex] : null, pageMatches[this.pageIndex]);\n    //   } else {\n    //     this.$refs.textLayer.clearTextLayerMatches();\n    //   }\n    // }\n    //\n    // if (this.pageIndex === this.selectedMatch.pageIdx) {\n    //   this.$refs.textLayer.selectedMatch(this.selectedMatch.pageIdx, this.selectedMatch.matchIdx);\n    // }\n  },\n  watch: {\n    page () {\n      if (this.page) {\n        this.displayPage(this.page);\n      }\n    },\n    scale () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    width () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    height () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    pageMatches () {\n      // if (this.pageMatches && this.pageMatchesLength) {\n      //   // For some reason changes to the array isn't picked up, so sent as an object.\n      //   const {pageMatches} = this.pageMatches;\n      //   const {pageMatchesLength} = this.pageMatchesLength;\n      //\n      //   if (this.pageIndex in pageMatches) {\n      //     this.$refs.textLayer.updateTextLayerMatches(this.query, pageMatchesLength ? pageMatchesLength[this.pageIndex] : null, pageMatches[this.pageIndex]);\n      //   } else {\n      //     this.$refs.textLayer.clearTextLayerMatches();\n      //   }\n      // }\n    }\n    // selectedMatch () {\n    //   if (this.pageIndex === this.selectedMatch.pageIdx) {\n    //     this.$refs.textLayer.selectedMatch(this.selectedMatch.pageIdx, this.selectedMatch.matchIdx);\n    //   }\n    // }\n  },\n  methods: {\n    getPageScale (page = this.page) {\n      const { scale, width, height } = this;\n\n      // Be default, we'll render page at 100% * scale width.\n      let pageScale = 1;\n\n      // If width is defined, calculate the scale of the page so it could be of desired width.\n      if (width < height) {\n        pageScale = width / page.getViewport(scale).width;\n      } else {\n        pageScale = height / page.getViewport(scale).height;\n      }\n\n      // console.log('pageScale', pageScale, width, height);\n\n      return scale * pageScale;\n    },\n    displayPage (page) {\n      // const scale = this.getPageScale(page);\n      const { canvas } = this.$refs;\n      const canvasContext = canvas.getContext('2d');\n      const { scale } = this;\n      const scaled = scale !== 1 ? scale : this.getPageScale(page);\n      const viewport = page.getViewport(scaled);\n      let images = this.images;\n      let imageCount = 0;\n      const imageLayer = {\n        beginLayout () { },\n        endLayout () { },\n        appendImage (i) {\n          i.page = page.pageIndex;\n          i.index = imageCount;\n          images.push(i);\n          imageCount++;\n        }\n      };\n\n      this.pageIndex = page.pageIndex;\n      this.viewport = viewport;\n      this.viewportScale = scale;\n      this.viewportHeight = viewport.height;\n      this.viewportWidth = viewport.width;\n\n      this.onViewport && this.onViewport(viewport);\n\n      this.displaying = true;\n      page.render({ canvasContext, viewport, imageLayer })\n        .then(() => {\n          this.$emit('displayed', this);\n          this.displaying = false;\n        })\n        .catch((err) => console.error(err));\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    updateTextLayerMatches (query, pageMatches, pageMatchesLength) {\n      this.query = query;\n      this.pageMatchesLength = pageMatchesLength;\n      this.pageMatches = pageMatches;\n\n      if (pageMatches && pageMatches.length > this.pageIndex) {\n        this.$refs.textLayer.updateTextLayerMatches(query, pageMatches[this.pageIndex], pageMatchesLength ? pageMatchesLength[this.pageIndex] : null);\n      } else {\n        this.$refs.textLayer.clearTextLayerMatches();\n      }\n    },\n    updatedSelectedMatch (selectedMatch) {\n      this.selectedMatch = selectedMatch;\n      if (this.pageIndex === selectedMatch.pageIdx) {\n        this.$refs.textLayer.selectedMatch(selectedMatch.pageIdx, selectedMatch.matchIdx);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading {\n  /*background: #eee url('../assets/loading-icon.gif') center no-repeat;*/\n}\ncanvas {\n  /*background-color: #eee;*/\n}\n\n.pageWrapper {\n  direction: ltr;\n  position: relative;\n  overflow: visible;\n  margin: 0 auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Page.vue?0c8f858d","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05d4520c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextLayer.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05d4520c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./TextLayer.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextLayer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05d4520c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextLayer.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-05d4520c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextLayer.vue\n// module id = 67\n// module chunks = 2","<template>\n  <div ref=\"textLayer\" :style=\"{ width: `${viewport ? viewport.width : 0}px`, height: `${viewport ? viewport.height : 0}px` }\" class=\"textLayer\"></div>\n</template>\n\n\n<script>\nconst pdfjsLib = require('pdfjs-dist');\n// pdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'textlayer',\n  props: {\n    'page': {\n      default: undefined\n    },\n    'viewport': {\n      default: undefined\n    },\n    'renderTimeout': {\n      default: 300,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      matches: [],\n      textDivs: [],\n      selected: {\n        pageIdx: -1,\n        matchIdx: -1\n      },\n      query: ''\n    }\n  },\n  updated () {\n\n  },\n  mounted () {\n    if (this.page) {\n      this.getTextContent(this.page)\n        .then((textContent) => this.onContent(textContent))\n        .catch((err) => console.error(err));\n    }\n  },\n  destroyed () {\n\n  },\n  watch: {\n    page () {\n      if (this.page) {\n        this.getTextContent(this.page)\n          .then((textContent) => this.onContent(textContent))\n          .catch((err) => console.error(err));\n      }\n    },\n    viewport () {\n      if (this.textContent) {\n        this.onContent(this.textContent);\n      }\n    }\n  },\n  methods: {\n    getTextContent (page) {\n      return page.getTextContent({ normalizeWhitespace: true });\n    },\n    onContent (textContent) {\n      const { textLayer } = this.$refs;\n\n      this.clearTextLayer();\n\n      this.textContent = textContent;\n\n      this.textDivs = [];\n      let textLayerFrag = document.createDocumentFragment();\n\n      if (this.textLayerRenderTask) {\n        this.textLayerRenderTask.cancel();\n        this.textLayerRenderTask = null;\n      }\n\n      this.textLayerRenderTask = pdfjsLib.renderTextLayer({\n        textContent: textContent,\n        container: textLayerFrag,\n        viewport: this.viewport,\n        textDivs: this.textDivs,\n        timeout: this.renderTimeout\n      });\n\n      this.textLayerRenderTask.promise.then(() => {\n        textLayer.appendChild(textLayerFrag);\n\n        if (this.pageMatches) {\n          this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n          this.renderMatches(this.matches);\n        }\n      }).catch((err) => console.error(err));\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    clearTextLayer () {\n      const { textLayer } = this.$refs;\n      while (textLayer.firstChild) {\n        textLayer.removeChild(textLayer.firstChild);\n      }\n    },\n    updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.query = query;\n      if (this.textContent) {\n        this.clearMatches();\n        this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n        this.renderMatches(this.matches);\n      }\n    },\n    clearTextLayerMatches() {\n      this.pageMatches = [];\n      this.pageMatchesLength = [];\n      this.query = '';\n      this.clearMatches();\n      this.selected = {pageIdx: -1, matchIdx: -1};\n      this._sentSelected = false;\n    },\n    selectedMatch(pageIdx, matchIdx) {\n      this._sentSelected = false;\n      this.clearMatches();\n      this.selected = {pageIdx, matchIdx};\n      this.renderMatches(this.matches);\n    },\n    renderMatches(matches) {\n      // Early exit if there is nothing to render.\n      if (matches.length === 0) {\n        return;\n      }\n\n      var bidiTexts = this.textContent.items;\n      var textDivs = this.textDivs;\n      var prevEnd = null;\n      var pageIdx = this.page.pageIndex;\n      var isSelectedPage = this.selected.pageIdx === pageIdx;\n      var selectedMatchIdx = this.selected.matchIdx || -1;\n      var highlightAll = true;\n      var infinity = {\n        divIdx: -1,\n        offset: undefined,\n      };\n\n      function beginText(begin, className) {\n        var divIdx = begin.divIdx;\n        textDivs[divIdx].textContent = '';\n        appendTextToDiv(divIdx, 0, begin.offset, className);\n      }\n\n      function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n        var div = textDivs[divIdx];\n        var content = bidiTexts[divIdx].str.substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n        if (className) {\n          var span = document.createElement('span');\n          span.className = className;\n          span.appendChild(node);\n          div.appendChild(span);\n          return;\n        }\n        div.appendChild(node);\n      }\n\n      var i0 = selectedMatchIdx;\n      var i1 = i0 + 1;\n      if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n      } else if (!isSelectedPage) {\n        // Not highlighting all and this isn't the selected page, so do nothing.\n        return;\n      }\n\n      for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        var isSelected = (isSelectedPage && match.matchIdx === selectedMatchIdx);\n        var highlightSuffix = (isSelected ? ' selected' : '');\n\n        if (isSelected && !this._sentSelected) {\n          this.$emit('selected', textDivs[begin.divIdx].getBoundingClientRect());\n          this._sentSelected = true;\n        }\n\n        // Match inside new div.\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n          // If there was a previous div, then add the text at the end.\n          if (prevEnd !== null) {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n          }\n          // Clear the divs and set the content until the starting point.\n          beginText(begin);\n        } else {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n          appendTextToDiv(begin.divIdx, begin.offset, end.offset, 'highlight' + highlightSuffix);\n        } else {\n          appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, 'highlight begin' + highlightSuffix);\n          for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n            textDivs[n0].className = 'highlight middle' + highlightSuffix;\n          }\n          beginText(end, 'highlight end' + highlightSuffix);\n        }\n        prevEnd = end;\n      }\n\n      if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n      }\n    },\n    convertMatches (matches, matchesLength) {\n      var i = 0;\n      var iIndex = 0;\n      var bidiTexts = this.textContent.items;\n      var end = bidiTexts.length - 1;\n      var queryLen = this.query ? this.query.length : 0;\n      var ret = [];\n      if (!matches) {\n        return ret;\n      }\n      for (var m = 0, len = matches.length; m < len; m++) {\n        // Calculate the start position.\n        var matchIdx = matches[m];\n\n        // Loop over the divIdxs.\n        while (i !== end && matchIdx >= (iIndex + bidiTexts[i].str.length)) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        if (i === bidiTexts.length) {\n          console.error('Could not find a matching mapping');\n        }\n\n        var match = {\n          matchIdx: matchIdx,\n          begin: {\n            divIdx: i,\n            offset: matchIdx - iIndex\n          },\n        };\n\n        // Calculate the end position.\n        if (matchesLength) { // multiterm search\n          matchIdx += matchesLength[m];\n        } else { // phrase search\n          matchIdx += queryLen;\n        }\n\n        // Somewhat the same array as above, but use > instead of >= to get\n        // the end position right.\n        while (i !== end && matchIdx > (iIndex + bidiTexts[i].str.length)) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        match.end = {\n          divIdx: i,\n          offset: matchIdx - iIndex,\n        };\n        ret.push(match);\n      }\n\n      return ret;\n    },\n    clearMatches () {\n      if (!this.textContent) {\n        return;\n      }\n      // Clear all matches.\n      var matches = this.matches;\n      var textDivs = this.textDivs;\n      var bidiTexts = this.textContent.items;\n      var clearedUntilDivIdx = -1;\n\n      // Clear all current matches.\n      for (var i = 0, len = matches.length; i < len; i++) {\n        var match = matches[i];\n        var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n        for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n          var div = textDivs[n];\n          div.textContent = bidiTexts[n].str;\n          div.className = '';\n        }\n        clearedUntilDivIdx = match.end.divIdx + 1;\n      }\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n.textLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n}\n</style>\n\n<style>\n.textLayer > div {\n    color: transparent;\n    position: absolute;\n    white-space: pre;\n    cursor: text;\n    -webkit-transform-origin: 0% 0%;\n    -moz-transform-origin: 0% 0%;\n    -o-transform-origin: 0% 0%;\n    -ms-transform-origin: 0% 0%;\n    transform-origin: 0% 0%;\n}\n\n.textLayer .highlight {\n    margin: -1px;\n    padding: 1px;\n    background-color: rgb(180, 0, 170);\n    border-radius: 4px;\n}\n\n.textLayer .highlight.selected {\n    background-color: rgb(0, 100, 0);\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// TextLayer.vue?6b119d5e","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"textLayer\",\n    staticClass: \"textLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05d4520c\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextLayer.vue\n// module id = 71\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-379170fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageLayer.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageLayer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-379170fe\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageLayer.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-379170fe\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageLayer.vue\n// module id = 72\n// module chunks = 2","<template>\n  <div ref=\"imageLayer\"\n        :style=\"{ width: `${viewport ? viewport.width : 0}px`, height: `${viewport ? viewport.height : 0}px` }\"\n        class=\"imageLayer\">\n    <div v-for=\"image in images\" class=\"imageLayerItem\"\n         :ref=\"image.objId\"\n         :id=\"image.objId\"\n         :style=\"{ width: `${image.width}px`, height: `${image.height}px`, top: `${image.top-image.height}px`, left: `${image.left}px`}\"\n         @click=\"handleClick(image)\">\n\n    </div>\n  </div>\n</template>\n\n\n<script>\n// const pdfjsLib = require('pdfjs-dist');\n// pdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'imagelayer',\n  props: {\n    'images': {\n      default: [],\n      type: Array\n    },\n    'viewport': {\n      default: undefined,\n      type: Object\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data () {\n    return {\n\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.images) {\n      // console.log('images', this.images);\n    }\n  },\n  watch: {\n    images () {\n      if (this.images) {\n        // console.log('images', this.images);\n      }\n    }\n  },\n  methods: {\n    handleClick (image) {\n      if (this.onImageClicked) {\n        this.onImageClicked(image);\n      }\n      this.$emit('imageClicked', image);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.imageLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  pointer-events: none;\n}\n.imageLayerItem {\n  position: absolute;\n  pointer-events: all;\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ImageLayer.vue?2ab7e818","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"imageLayer\",\n    staticClass: \"imageLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  }, _vm._l((_vm.images), function(image) {\n    return _c('div', {\n      ref: image.objId,\n      refInFor: true,\n      staticClass: \"imageLayerItem\",\n      style: ({\n        width: ((image.width) + \"px\"),\n        height: ((image.height) + \"px\"),\n        top: ((image.top-image.height) + \"px\"),\n        left: ((image.left) + \"px\")\n      }),\n      attrs: {\n        \"id\": image.objId\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleClick(image)\n        }\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-379170fe\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageLayer.vue\n// module id = 75\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"pageWrapper\",\n    class: {\n      loading: _vm.isLoading\n    },\n    style: ({\n      width: (_vm.viewportWidth + \"px\"),\n      height: (_vm.viewportHeight + \"px\")\n    })\n  }, [_c('canvas', {\n    ref: \"canvas\",\n    attrs: {\n      \"width\": (_vm.viewportWidth + \"px\"),\n      \"height\": (_vm.viewportHeight + \"px\")\n    }\n  }), _vm._v(\" \"), _c('textlayer', {\n    ref: \"textLayer\",\n    attrs: {\n      \"page\": _vm.page,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale\n    },\n    on: {\n      \"selected\": _vm.onSelected\n    }\n  }), _vm._v(\" \"), _c('imagelayer', {\n    attrs: {\n      \"images\": _vm.images,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale,\n      \"onImageClicked\": _vm.onImageClicked\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"annotationLayer\"\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ca68b352\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Page.vue\n// module id = 76\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4341ee20\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search.vue\n// module id = 77\n// module chunks = 2","<template>\n</template>\n\n<script>\nimport { createPromiseCapability } from 'pdfjs-dist';\n\nconst FIND_TIMEOUT = 250; // ms\n\nconst CHARACTERS_TO_NORMALIZE = {\n  '\\u2018': '\\'', // Left single quotation mark\n  '\\u2019': '\\'', // Right single quotation mark\n  '\\u201A': '\\'', // Single low-9 quotation mark\n  '\\u201B': '\\'', // Single high-reversed-9 quotation mark\n  '\\u201C': '\"', // Left double quotation mark\n  '\\u201D': '\"', // Right double quotation mark\n  '\\u201E': '\"', // Double low-9 quotation mark\n  '\\u201F': '\"', // Double high-reversed-9 quotation mark\n  '\\u00BC': '1/4', // Vulgar fraction one quarter\n  '\\u00BD': '1/2', // Vulgar fraction one half\n  '\\u00BE': '3/4', // Vulgar fraction three quarters\n};\n\n// Compile the regular expression for text normalization once.\nconst replace = Object.keys(CHARACTERS_TO_NORMALIZE).join('');\nconst normalizationRegex = new RegExp('[' + replace + ']', 'g');\n\nexport default {\n  name: 'search',\n  props: {\n    'waitTimeout': {\n      default: 30,\n      type: Number\n    },\n    'pdfDocument': {\n      default: undefined\n    },\n    'query': {\n      default: '',\n      type: String\n    },\n    'phraseSearch': {\n      default: true,\n      type: Boolean\n    },\n    'minQueryLength': {\n      default: 3,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      matches: [],\n      textDivs: [],\n      pageContents: [],\n      pageMatches: [],\n      pageMatchesLength: null,\n      matchCount: 0,\n      pagesCount: 0,\n      pendingFindMatches: {},\n      active: false,\n      pagesToSearch: null,\n      extractTextPromises: [],\n      matched: []\n    }\n  },\n  updated () {\n\n  },\n  mounted () {\n    if (this.pdfDocument) {\n      this.extractText();\n    }\n  },\n  watch: {\n    pdfDocument () {\n      if (this.pdfDocument) {\n        this.extractText();\n      }\n    },\n    query () {\n      if (this.query === '') {\n        this.reset();\n      }\n\n      clearTimeout(this.findTimeout);\n      this.findTimeout = setTimeout(() => {\n        if (this.query.length > this.minQueryLength) {\n          this.find(this.query);\n        }\n      }, FIND_TIMEOUT);\n    }\n  },\n  methods: {\n    reset () {\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n\n      this.$emit('matched', this.matched, this.pageMatchesLength, this.matchCount);\n      this.$emit('found', this.pageMatches, this.pageMatchesLength, this.matchCount);\n    },\n\n    find(query) {\n      let numPages = this.pagesCount;\n\n      if (this.prevQuery && this.prevQuery === query) {\n        return; // unchanged\n      }\n      this.prevQuery = query;\n\n      // Reset\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n      this.selected = {\n        pageIdx: -1,\n        matchIdx: -1\n      };\n\n      for (let i = 0; i < numPages; i++) {\n        // Wipe out any previously highlighted matches.\n        // this.updatePage(i);\n\n        // Start finding the matches as soon as the text is extracted.\n        if (!(i in this.pendingFindMatches)) {\n          this.pendingFindMatches[i] = true;\n          this.extractTextPromises[i].then((pageIdx) => {\n            delete this.pendingFindMatches[pageIdx];\n            this.calcFindMatch(pageIdx);\n          });\n        }\n      }\n    },\n\n    normalize(text) {\n      return text.replace(normalizationRegex, function (ch) {\n        return CHARACTERS_TO_NORMALIZE[ch];\n      });\n    },\n\n    /**\n     * Helper for multi-term search that fills the `matchesWithLength` array\n     * and handles cases where one search term includes another search term (for\n     * example, \"tamed tame\" or \"this is\"). It looks for intersecting terms in\n     * the `matches` and keeps elements with a longer match length.\n     */\n    _prepareMatches (matchesWithLength, matches, matchesLength) {\n      function isSubTerm(matchesWithLength, currentIndex) {\n        let currentElem = matchesWithLength[currentIndex];\n        let nextElem = matchesWithLength[currentIndex + 1];\n\n        // Check for cases like \"TAMEd TAME\".\n        if (currentIndex < matchesWithLength.length - 1 &&\n            currentElem.match === nextElem.match) {\n          currentElem.skipped = true;\n          return true;\n        }\n\n        // Check for cases like \"thIS IS\".\n        for (let i = currentIndex - 1; i >= 0; i--) {\n          let prevElem = matchesWithLength[i];\n          if (prevElem.skipped) {\n            continue;\n          }\n          if (prevElem.match + prevElem.matchLength < currentElem.match) {\n            break;\n          }\n          if (prevElem.match + prevElem.matchLength >=\n              currentElem.match + currentElem.matchLength) {\n            currentElem.skipped = true;\n            return true;\n          }\n        }\n        return false;\n      }\n\n      // Sort the array of `{ match: <match>, matchLength: <matchLength> }`\n      // objects on increasing index first and on the length otherwise.\n      matchesWithLength.sort(function(a, b) {\n        return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n      });\n      for (let i = 0, len = matchesWithLength.length; i < len; i++) {\n        if (isSubTerm(matchesWithLength, i)) {\n          continue;\n        }\n        matches.push(matchesWithLength[i].match);\n        matchesLength.push(matchesWithLength[i].matchLength);\n      }\n    },\n\n    calcFindPhraseMatch (query, pageIndex, pageContent) {\n      let matches = [];\n      let queryLen = query.length;\n      let matchIdx = -queryLen;\n      while (true) {\n        matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n        if (matchIdx === -1) {\n          break;\n        }\n        matches.push(matchIdx);\n      }\n      this.pageMatches[pageIndex] = matches;\n    },\n\n    calcFindWordMatch (query, pageIndex, pageContent) {\n      let matchesWithLength = [];\n      // Divide the query into pieces and search for text in each piece.\n      let queryArray = query.match(/\\S+/g);\n      for (let i = 0, len = queryArray.length; i < len; i++) {\n        let subquery = queryArray[i];\n        let subqueryLen = subquery.length;\n        let matchIdx = -subqueryLen;\n        while (true) {\n          matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n          if (matchIdx === -1) {\n            break;\n          }\n          // Other searches do not, so we store the length.\n          matchesWithLength.push({\n            match: matchIdx,\n            matchLength: subqueryLen,\n            skipped: false,\n          });\n        }\n      }\n\n      // Prepare arrays for storing the matches.\n      if (!this.pageMatchesLength) {\n        this.pageMatchesLength = [];\n      }\n      this.pageMatchesLength[pageIndex] = [];\n      this.pageMatches[pageIndex] = [];\n\n      // Sort `matchesWithLength`, remove intersecting terms and put the result\n      // into the two arrays.\n      this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex],\n        this.pageMatchesLength[pageIndex]);\n    },\n\n    calcFindMatch (pageIndex) {\n      let pageContent = this.normalize(this.pageContents[pageIndex]);\n      let query = this.normalize(this.query);\n      let caseSensitive = this.caseSensitive;\n      let phraseSearch = this.phraseSearch;\n      let queryLen = query.length;\n\n      if (queryLen === 0) {\n        // Do nothing: the matches should be wiped out already.\n        return;\n      }\n\n      if (!caseSensitive) {\n        pageContent = pageContent.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      if (phraseSearch) {\n        this.calcFindPhraseMatch(query, pageIndex, pageContent);\n      } else {\n        this.calcFindWordMatch(query, pageIndex, pageContent);\n      }\n\n      // this.updatePage(pageIndex);\n      // this.updateMatches();\n\n      // Update the match count.\n      if (pageIndex in this.pageMatches && this.pageMatches[pageIndex].length > 0) {\n        this.matchCount += this.pageMatches[pageIndex].length;\n\n        this.pageMatches[pageIndex].forEach((match) => {\n          this.matched.push({\n            matchIdx: match,\n            pageIdx: pageIndex\n          });\n          this.$emit('matched', this.query, this.matched, this.pageMatches[pageIndex], this.pageMatchesLength ? this.pageMatchesLength[pageIndex] : null, this.matchCount);\n        });\n      }\n\n      if (this.pageMatches.length === this.pagesCount) {\n        this.$emit('found', this.query, this.matched, this.pageMatches, this.pageMatchesLength, this.matchCount);\n      }\n    },\n\n    getPageTextContent (pageIndex) {\n      return this.pdfDocument.getPage(pageIndex + 1).then(function (page) {\n        return page.getTextContent({\n          normalizeWhitespace: true,\n        });\n      }).catch((err) => console.error(err));\n    },\n\n    extractText () {\n      if (this.startedTextExtraction) {\n        return;\n      }\n      this.startedTextExtraction = true;\n      this.pageContents.length = 0;\n      this.pagesCount = this.pdfDocument.numPages - 1;\n\n      let promise = Promise.resolve();\n      for (let i = 0, ii = this.pagesCount; i < ii; i++) {\n        let extractTextCapability = createPromiseCapability();\n        this.extractTextPromises[i] = extractTextCapability.promise;\n\n        promise = promise.then(() => {\n          return this.getPageTextContent(i).then((textContent) => {\n            let textItems = textContent.items;\n            let strBuf = [];\n\n            for (let j = 0, jj = textItems.length; j < jj; j++) {\n              strBuf.push(textItems[j].str);\n            }\n            // Store the pageContent as a string.\n            this.pageContents[i] = strBuf.join('');\n            extractTextCapability.resolve(i);\n          });\n        });\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Search.vue?3b883a08","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4341ee20\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search.vue\n// module id = 110\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: 'container',\n    staticClass: \"pageContainer\",\n    class: {\n      loading: _vm.isLoading, centered: (!_vm.spreads || _vm.zoom <= 1)\n    },\n    style: ({\n      width: (_vm.width + \"px\"),\n      height: ((_vm.height ? _vm.height : _vm.viewportHeight) + \"px\")\n    })\n  }, [_vm._l((_vm.displayedPages), function(page) {\n    return _c('div', {\n      key: page.pageIndex,\n      staticClass: \"page\"\n    }, [_c('page', {\n      ref: 'page_' + page.pageIndex,\n      refInFor: true,\n      attrs: {\n        \"page\": page,\n        \"width\": _vm.spreads ? _vm.width / 2 : _vm.width,\n        \"height\": _vm.height,\n        \"scale\": _vm.zoom,\n        \"onViewport\": _vm.handleViewport,\n        \"onImageClicked\": _vm.onImageClicked,\n        \"onSelected\": _vm.onSelected\n      },\n      on: {\n        \"displayed\": _vm.afterDisplayed\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('search', {\n    attrs: {\n      \"pdfDocument\": _vm.pdfDocument,\n      \"query\": _vm.query\n    },\n    on: {\n      \"matched\": this.onMatched,\n      \"found\": this.onFound\n    }\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13a94fda\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PDF.vue\n// module id = 111\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1613fcb6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Table.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Table.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1613fcb6\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Table.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1613fcb6\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Table.vue\n// module id = 112\n// module chunks = 2","<template>\n  <div>\n    <nav class=\"nav section_nav\">\n      <div class=\"nav-right\">\n        <div class=\"nav-item\">\n          <p class=\"control has-icons-right\">\n            <input class=\"input has-icons-right\" name=\"query\" v-model=\"filterKey\">\n            <span class=\"icon is-small is-right\">\n              <icon name=\"search\" title=\"Search\"></icon>\n            </span>\n          </p>\n        </div>\n      </div>\n    </nav>\n\n    <link rel=\"stylesheet\" href=\"//fonts.googleapis.com/icon?family=Material+Icons\">\n\n    <b-table\n      :data=\"filteredData\"\n      :bordered=\"true\"\n      :striped=\"true\"\n      :mobile-cards=\"true\"\n      :paginated=\"true\"\n      :per-page=\"8\"\n      :pagination-simple=\"true\"\n      >\n        <template scope=\"tb\">\n            <b-table-column field=\"thumbnail\" label=\"\" >\n              <a class=\"img_link\" @click=\"$emit('onImageClick', tb.row)\">\n                <img v-lazy=\"tb.row['thumbnail']\" />\n              </a>\n            </b-table-column>\n\n            <b-table-column field=\"page\" label=\"Page\" sortable>\n              <a href=\"#\" @click=\"$emit('onPageClick', tb.row.page)\">\n                {{ tb.row['page_label'] || tb.row['page'] }}\n              </a>\n            </b-table-column>\n\n            <b-table-column field=\"artwork\" label=\"Artwork\" sortable>\n              <a :href=\"tb.row['artwork_uri']\" target=\"_blank\" >\n                {{ tb.row['artwork_title'] }}\n              </a>\n            </b-table-column>\n\n            <b-table-column field=\"artist\" label=\"Artist\" sortable>\n              <a :href=\"tb.row['artist_uri']\" target=\"_blank\" >\n                {{ tb.row['artist_name'] }}\n              </a>\n            </b-table-column>\n\n            <b-table-column field=\"collection\" label=\"Collection\" sortable>\n              <a :href=\"tb.row['collection_uri']\" target=\"_blank\" >\n                {{ tb.row['collection'] }}\n              </a>\n            </b-table-column>\n        </template>\n    </b-table>\n  </div>\n</template>\n\n<script>\nimport VueLazyload from 'vue-lazyload'\nimport Vue from 'vue'\nimport 'vue-awesome/icons/search'\n\nimport Icon from 'vue-awesome/components/Icon'\n\nVue.use(VueLazyload, {\n  preLoad: 1.3,\n  // error: 'dist/error.png',\n  // loading: 'dist/loading.gif',\n  attempt: 1\n})\n\nexport default {\n  name: 'table',\n  components: {\n    'icon': Icon\n  },\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data () {\n    var sortOrders = {}\n    this.columns = ['thumbnail', 'page', 'artwork_title', 'artist', 'collection'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1\n    })\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n      // searchQuery: '',\n      gridColumns: []\n    }\n  },\n  computed: {\n    filteredData: function () {\n      var sortKey = this.sortKey\n      var filterKey = this.filterKey && this.filterKey.toLowerCase()\n      var order = this.sortOrders[sortKey] || 1\n      var data = this.data\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return Object.keys(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1\n          })\n        })\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey]\n          b = b[sortKey]\n          return (a === b ? 0 : a > b ? 1 : -1) * order\n        })\n      }\n      return data\n    }\n  },\n  filters: {\n    capitalize: function (str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    titlecase: function (_str) {\n      var str;\n      str = _str.replace(/_/g, ' ');\n      str = str.replace(/([^\\W_]+[^\\s-]*) */g, (txt) => {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n\n      return str;\n    }\n  },\n  methods: {\n    sortBy: function (key) {\n      this.sortKey = key\n      this.sortOrders[key] = this.sortOrders[key] * -1\n    },\n    triggerLoad: function () {\n      Vue.nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  },\n  updated () {\n\n  }\n}\n</script>\n\n<style scoped>\n\ntable {\n  /*border: 2px solid #cecece;\n  border-radius: 3px;\n  background-color: #fff;\n  width: 80vw;\n  margin: 24px auto;*/\n}\n\nth {\n  background-color: #cecece;\n  color: #000;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ntd {\n  background-color: #f9f9f9;\n  min-width: 140px;\n}\n\nth, td {\n  /*min-width: 220px;*/\n  padding: 10px 40px;\n  border: 2px solid #cecece;\n}\n\nth.active {\n  color: #fff;\n}\n\nth.active .arrow {\n  opacity: 1;\n}\n\n.arrow {\n  display: inline-block;\n  vertical-align: middle;\n  width: 0;\n  height: 0;\n  margin-left: 5px;\n  opacity: 0.66;\n}\n\n.arrow.asc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid #fff;\n}\n\n.arrow.dsc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid #fff;\n}\n\n.img_link {\n  cursor: pointer;\n}\n\n.img_link:hover {\n  opacity: 0.8;\n}\n\n.img_link:active {\n  opacity: 0.5;\n}\n\n.img_link img {\n  max-width: 100px;\n  max-height: 100px;\n}\n\n#search {\n  text-align: center;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Table.vue?2c0054c8","<template>\n  <svg version=\"1.1\" :class=\"clazz\" :role=\"label ? 'img' : 'presentation'\" :aria-label=\"label\" :x=\"x\" :y=\"y\" :width=\"width\" :height=\"height\" :viewBox=\"box\" :style=\"style\">\n    <slot>\n      <template v-if=\"icon && icon.paths\">\n        <path v-for=\"path in icon.paths\" v-bind=\"path\"/>\n      </template>\n      <template v-if=\"icon && icon.polygons\">\n        <polygon v-for=\"polygon in icon.polygons\" v-bind=\"polygon\"/>\n      </template>\b\n      <template v-if=\"icon && icon.raw\"><g v-html=\"icon.raw\"></g></template>\n    </slot>\n  </svg>\n</template>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\nimport Vue from 'vue'\n\nlet icons = {}\n\nexport default {\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator (val) {\n        if (val) {\n          if (!(val in icons)) {\n            Vue.util.warn(`Invalid prop: prop \"icon\" is referring to an unregistered icon \"${val}\".` +\n              `\\nPlesase make sure you have imported this icon before using it.`, this)\n            return false\n          }\n          return true\n        }\n        return null\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    flip: {\n      validator (val) {\n        return val === 'horizontal' || val === 'vertical'\n      }\n    },\n    label: String\n  },\n  data () {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    }\n  },\n  computed: {\n    normalizedScale () {\n      let scale = this.scale\n      scale = typeof scale === 'undefined' ? 1 : Number(scale)\n      if (isNaN(scale) || scale <= 0) {\n        Vue.util.warn(`Invalid prop: prop \"scale\" should be a number over 0.`, this)\n        return this.outerScale\n      }\n      return scale * this.outerScale\n    },\n    clazz () {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse\n      }\n    },\n    icon () {\n      if (this.name) {\n        return icons[this.name]\n      }\n      return null\n    },\n    box () {\n      if (this.icon) {\n        return `0 0 ${this.icon.width} ${this.icon.height}`\n      }\n      return `0 0 ${this.width} ${this.height}`\n    },\n    ratio () {\n      if (!this.icon) {\n        return 1\n      }\n      let { width, height } = this.icon\n      return Math.max(width, height) / 16\n    },\n    width () {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0\n    },\n    height () {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0\n    },\n    style () {\n      if (this.normalizedScale === 1) {\n        return false\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      }\n    }\n  },\n  mounted () {\n    if (this.icon) {\n      return\n    }\n    this.$children.forEach(child => {\n      child.outerScale = this.normalizedScale\n    })\n    let width = 0\n    let height = 0\n    this.$children.forEach(child => {\n      width = Math.max(width, child.width)\n      height = Math.max(height, child.height)\n    })\n    this.childrenWidth = width\n    this.childrenHeight = height\n    this.$children.forEach(child => {\n      child.x = (width - child.width) / 2\n      child.y = (height - child.height) / 2\n    })\n  },\n  register (data) {\n    for (let name in data) {\n      let icon = data[name]\n\n      if (!icon.paths) {\n        icon.paths = []\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d })\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = []\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points })\n      }\n\n      icons[name] = icon\n    }\n  },\n  icons\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Icon.vue?8a3472bc","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    class: _vm.clazz,\n    style: (_vm.style),\n    attrs: {\n      \"version\": \"1.1\",\n      \"role\": _vm.label ? 'img' : 'presentation',\n      \"aria-label\": _vm.label,\n      \"x\": _vm.x,\n      \"y\": _vm.y,\n      \"width\": _vm.width,\n      \"height\": _vm.height,\n      \"viewBox\": _vm.box\n    }\n  }, [_vm._t(\"default\", [(_vm.icon && _vm.icon.paths) ? _vm._l((_vm.icon.paths), function(path) {\n    return _c('path', _vm._b({}, 'path', path))\n  }) : _vm._e(), _vm._v(\" \"), (_vm.icon && _vm.icon.polygons) ? _vm._l((_vm.icon.polygons), function(polygon) {\n    return _c('polygon', _vm._b({}, 'polygon', polygon))\n  }) : _vm._e(), _vm._v(\"\\b\\n    \"), (_vm.icon && _vm.icon.raw) ? [_c('g', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.icon.raw)\n    }\n  })] : _vm._e()])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d3a0930\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-awesome/components/Icon.vue\n// module id = 117\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"nav section_nav\"\n  }, [_c('div', {\n    staticClass: \"nav-right\"\n  }, [_c('div', {\n    staticClass: \"nav-item\"\n  }, [_c('p', {\n    staticClass: \"control has-icons-right\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filterKey),\n      expression: \"filterKey\"\n    }],\n    staticClass: \"input has-icons-right\",\n    attrs: {\n      \"name\": \"query\"\n    },\n    domProps: {\n      \"value\": (_vm.filterKey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.filterKey = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon is-small is-right\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"Search\"\n    }\n  })], 1)])])])]), _vm._v(\" \"), _c('link', {\n    attrs: {\n      \"rel\": \"stylesheet\",\n      \"href\": \"//fonts.googleapis.com/icon?family=Material+Icons\"\n    }\n  }), _vm._v(\" \"), _c('b-table', {\n    attrs: {\n      \"data\": _vm.filteredData,\n      \"bordered\": true,\n      \"striped\": true,\n      \"mobile-cards\": true,\n      \"paginated\": true,\n      \"per-page\": 8,\n      \"pagination-simple\": true\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(tb) {\n        return [_c('b-table-column', {\n          attrs: {\n            \"field\": \"thumbnail\",\n            \"label\": \"\"\n          }\n        }, [_c('a', {\n          staticClass: \"img_link\",\n          on: {\n            \"click\": function($event) {\n              _vm.$emit('onImageClick', tb.row)\n            }\n          }\n        }, [_c('img', {\n          directives: [{\n            name: \"lazy\",\n            rawName: \"v-lazy\",\n            value: (tb.row['thumbnail']),\n            expression: \"tb.row['thumbnail']\"\n          }]\n        })])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"page\",\n            \"label\": \"Page\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": \"#\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.$emit('onPageClick', tb.row.page)\n            }\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['page_label'] || tb.row['page']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"artwork\",\n            \"label\": \"Artwork\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['artwork_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['artwork_title']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"artist\",\n            \"label\": \"Artist\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['artist_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['artist_name']) + \"\\n            \")])]), _vm._v(\" \"), _c('b-table-column', {\n          attrs: {\n            \"field\": \"collection\",\n            \"label\": \"Collection\",\n            \"sortable\": \"\"\n          }\n        }, [_c('a', {\n          attrs: {\n            \"href\": tb.row['collection_uri'],\n            \"target\": \"_blank\"\n          }\n        }, [_vm._v(\"\\n              \" + _vm._s(tb.row['collection']) + \"\\n            \")])])]\n      }\n    }])\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1613fcb6\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Table.vue\n// module id = 118\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a869b8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Grid.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Grid.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a869b8e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Grid.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Grid.vue\n// module id = 119\n// module chunks = 2","<template>\n  <div class=\"container card_container\">\n      <div class=\"card card_wrapper\" v-for=\"image in filteredData\">\n        <div class=\"card-image\">\n          <figure class=\"image\">\n            <a class=\"img_link\" @click=\"$emit('onClick', image)\">\n              <img class=\"downsampled\" v-lazy=\"image.downsampled || image.asset\" />\n            </a>\n          </figure>\n        </div>\n        <div class=\"card-footer\">\n          <div class=\"card-footer-item\">\n            <span>{{ image.artwork_title }}</span>\n          </div>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport VueLazyload from 'vue-lazyload'\nimport Vue from 'vue'\n\nVue.use(VueLazyload);\n\nexport default {\n  name: 'grid',\n  components: {\n\n  },\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data () {\n    var sortOrders = {}\n    this.columns = ['thumbnail'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1\n    })\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n      // searchQuery: '',\n      gridColumns: []\n    }\n  },\n  computed: {\n    filteredData: function () {\n      var sortKey = this.sortKey\n      var filterKey = this.filterKey && this.filterKey.toLowerCase()\n      var order = this.sortOrders[sortKey] || 1\n      var data = this.data\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return Object.keys(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1\n          })\n        })\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey]\n          b = b[sortKey]\n          return (a === b ? 0 : a > b ? 1 : -1) * order\n        })\n      }\n      return data\n    }\n  },\n  methods: {\n    sortBy: function (key) {\n      this.sortKey = key\n      this.sortOrders[key] = this.sortOrders[key] * -1\n    },\n    triggerLoad: function () {\n      Vue.nextTick(this.$Lazyload.lazyLoadHandler)\n    }\n  }\n}\n</script>\n\n<style>\n.img_link {\n  cursor: pointer;\n}\n\n.img_link:hover {\n  opacity: 0.8;\n}\n\n.img_link:active {\n  opacity: 0.5;\n}\n\n.image .img_link img {\n  object-fit: cover;\n  max-width: none;\n  width: 100%;\n  height: 100%;\n}\n\n.card-image figure {\n  width: 200px;\n  height: 200px;\n  overflow: hidden;\n  display: block;\n}\n\n.card {\n  width: 200px;\n}\n\n.card_container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.card_wrapper {\n  margin: 12px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Grid.vue?7f8ec994","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container card_container\"\n  }, _vm._l((_vm.filteredData), function(image) {\n    return _c('div', {\n      staticClass: \"card card_wrapper\"\n    }, [_c('div', {\n      staticClass: \"card-image\"\n    }, [_c('figure', {\n      staticClass: \"image\"\n    }, [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onClick', image)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (image.downsampled || image.asset),\n        expression: \"image.downsampled || image.asset\"\n      }],\n      staticClass: \"downsampled\"\n    })])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"card-footer\"\n    }, [_c('div', {\n      staticClass: \"card-footer-item\"\n    }, [_c('span', [_vm._v(_vm._s(image.artwork_title))])])])])\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a869b8e\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Grid.vue\n// module id = 122\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a4749ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Outline.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Outline.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a4749ac\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Outline.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-8a4749ac\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Outline.vue\n// module id = 123\n// module chunks = 2","<template>\n  <ul>\n    <li v-for=\"item in pageList\">\n      <a class=\"outline_link\" :class=\"{ active: item === activeItem }\" @click=\"handleLink(item)\">\n        {{ item.title || '' }}\n        <outline v-if=\"item.items.length\" :data=\"item.items\" @onClick=\"handleLink\"/>\n      </a>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'outline',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    },\n    'page': {\n      type: Number,\n      default: undefined\n    },\n    'pdf': {\n      type: Object,\n      default: undefined\n    }\n  },\n  data () {\n    return {\n      pageList: [],\n      activeItem: undefined\n    };\n  },\n  mounted () {\n    if (this.data) {\n      this.processData();\n    }\n  },\n  methods: {\n    processData () {\n      this.pageList = [];\n      this.data.forEach((item, i) => {\n        let li = Object.assign({}, item);\n        this.pageList.push(li);\n        this.pdf.getPageIndex(item.dest[0]).then((pg) => {\n          li.page = pg;\n\n          if (i === this.data.length - 1) {\n            this.checkActive();\n          }\n        });\n      });\n    },\n    handleLink (item) {\n      this.$emit('onClick', item.dest);\n    },\n    checkActive () {\n      for (let item of this.pageList) {\n        if (item.page > this.page) {\n          this.$emit('current', this.activeItem.title);\n          break;\n        } else {\n          this.activeItem = item;\n        }\n      }\n    }\n  },\n  watch: {\n    data () {\n      this.processData();\n    },\n    page () {\n      this.checkActive();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\nul {\n  /*border-top: 1px solid #ccc;*/\n  padding: 0 20px;\n}\n\nli {\n  margin: 12px;\n}\n\nli a {\n  cursor: pointer;\n  color: #4c4c4c;\n}\n\nli a:active, li a.active {\n  color: #000;\n  text-decoration: underline;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Outline.vue?094893c9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.pageList), function(item) {\n    return _c('li', [_c('a', {\n      staticClass: \"outline_link\",\n      class: {\n        active: item === _vm.activeItem\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleLink(item)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(item.title || '') + \"\\n      \"), (item.items.length) ? _c('outline', {\n      attrs: {\n        \"data\": item.items\n      },\n      on: {\n        \"onClick\": _vm.handleLink\n      }\n    }) : _vm._e()], 1)])\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a4749ac\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Outline.vue\n// module id = 135\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a1981ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a1981ce\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6a1981ce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Detail.vue\n// module id = 136\n// module chunks = 2","<template>\n  <section class=\"box\" v-if=\"currentDetail\">\n    <div class=\"image_detail\">\n      <img :src=\"currentDetail.asset\" v-if=\"!currentDetail.copyright\" />\n      <img :src=\"currentDetail.downsampled\" v-if=\"currentDetail.copyright\" />\n      <p><a :href=\"currentDetail.collection_uri\">{{currentDetail.collection}}</a></p>\n    </div>\n    <div class=\"image_info\" v-if=\"currentDetail.artwork_title\">\n      <h1>{{currentDetail.artwork_title}}</h1>\n\n      <h4><a :href=\"currentDetail.artwork_uri\">{{currentDetail.artwork_uri}}</a></h4>\n      <aside v-if=\"this.imagesByArtwork[encodeURI(currentDetail.artwork_title)].length > 1\">\n        <h5>Also in this book</h5>\n        <ul class=\"related_images\">\n          <li v-for=\"relatedImage in this.imagesByArtwork[encodeURI(currentDetail.artwork_title)]\" v-if=\"currentDetail != relatedImage\">\n            <a class=\"related_img_link\" @click=\"currentDetail = relatedImage\">\n              <img :src=\"relatedImage.thumbnail\" />\n              <span>{{ relatedImage.page_label || relatedImage.page }}</span>\n            </a>\n          </li>\n        </ul>\n      </aside>\n\n      <h2>\n        <a :href=\"currentDetail.artist_uri\" @click=\"artistLookup\">{{currentDetail.artist_name}}</a>\n      </h2>\n      <aside v-if=\"this.imagesByArtist[encodeURI(currentDetail.artist_name)].length > 1\">\n        <h5>Also in this book</h5>\n        <ul class=\"related_images\">\n          <li v-for=\"relatedImage in this.imagesByArtist[encodeURI(currentDetail.artist_name)]\"\n              v-if=\"currentDetail != relatedImage && (imagesByArtwork[encodeURI(currentDetail.artwork_title)] && imagesByArtwork[encodeURI(currentDetail.artwork_title)].indexOf(relatedImage) === -1)\">\n            <a class=\"related_img_link\" @click=\"currentDetail = relatedImage\">\n              <img :src=\"relatedImage.thumbnail\" />\n              <span>{{ relatedImage.page_label || relatedImage.page }}</span>\n            </a>\n          </li>\n        </ul>\n      </aside>\n\n    </div>\n    <a class=\"detail_view\" @click=\"onPageSelected(currentDetail.page);\">View in Book</a>\n    <div id=\"prevDetail\" class=\"detail_arrow\" @click=\"this.prevDetail\">‹</div>\n    <div id=\"nextDetail\" class=\"detail_arrow\" @click=\"this.nextDetail\">›</div>\n    <a class=\"detail_close\" @click=\"onDetailClosed\">Close</a>\n  </section>\n</template>\n\n<script>\nimport 'whatwg-fetch'\n\nexport default {\n  name: 'Detail',\n  components: {\n\n  },\n  props: {\n    'image': {\n    },\n    'manifest': {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      images: [],\n      imagesById: {},\n      imagesByArtwork: {},\n      imagesByArtist: {},\n      imagesByCollection: {},\n      currentDetail: undefined\n    }\n  },\n  created () {\n    if (this.manifest) {\n      this.loaded();\n    }\n    if (this.image) {\n      let imageRef;\n      if (typeof this.image === 'string') {\n        imageRef = this.image;\n      } else {\n        imageRef = this.imageRef(this.image);\n      }\n      this.currentDetail = this.imagesById[imageRef];\n    } else {\n      this.currentDetail = undefined;\n    }\n  },\n  watch: {\n    manifest () {\n      this.loaded();\n    },\n    image () {\n      let imageRef;\n      if (this.image) {\n        if (typeof this.image === 'string') {\n          imageRef = this.image;\n        } else {\n          imageRef = this.imageRef(this.image);\n        }\n        this.currentDetail = this.imagesById[imageRef];\n      } else {\n        this.currentDetail = undefined;\n      }\n    },\n    currentDetail () {\n      let imageRef;\n      if (this.currentDetail) {\n        imageRef = this.imageRef(this.currentDetail);\n      }\n      this.$emit('displayed', imageRef);\n    }\n  },\n  methods: {\n    imageRef (image) {\n      return `img_p${image.page - 1}_${image.location}`;\n    },\n    reset () {\n      this.images = [];\n      this.imagesById = {};\n      this.imagesByArtwork = {};\n      this.imagesByArtist = {};\n      this.imagesByCollection = {};\n    },\n    loaded () {\n      if (!this.manifest || !this.manifest.images) {\n        return;\n      }\n      this.images = this.manifest.images;\n\n      this.images.forEach((image) => {\n        let ref = this.imageRef(image);\n        this.imagesById[ref] = image;\n\n        if (image.artwork_title) {\n          let artworkUri = encodeURI(image.artwork_title);\n          if (!this.imagesByArtwork[artworkUri]) {\n            this.imagesByArtwork[artworkUri] = [];\n          }\n          this.imagesByArtwork[artworkUri].push(image);\n        }\n\n        if (image.artist_name) {\n          let artistUri = encodeURI(image.artist_name);\n          if (!this.imagesByArtist[artistUri]) {\n            this.imagesByArtist[artistUri] = [];\n          }\n          this.imagesByArtist[artistUri].push(image);\n        }\n\n        if (image.collection) {\n          let collectionUri = encodeURI(image.collection);\n          if (!this.imagesByCollection[collectionUri]) {\n            this.imagesByCollection[collectionUri] = [];\n          }\n          this.imagesByCollection[collectionUri].push(image);\n        }\n      });\n    },\n    onPageSelected (page) {\n      this.$emit('pageSelected', page);\n      this.currentDetail = undefined;\n    },\n    nextDetail () {\n      const index = this.images.indexOf(this.currentDetail);\n      if (index + 1 < this.images.length) {\n        this.currentDetail = this.images[index + 1];\n      }\n    },\n    prevDetail () {\n      const index = this.images.indexOf(this.currentDetail);\n      if (index - 1 >= 0) {\n        this.currentDetail = this.images[index - 1];\n      }\n    },\n    onDetailClosed () {\n      this.currentDetail = undefined;\n      this.$emit('closed');\n    },\n    artistLookup (e) {\n      let uri = this.currentDetail.artist_uri;\n      if (uri.indexOf('.json') === uri.length - 5) {\n        fetch(uri)\n          .then((response) => {\n            return response.json()\n          })\n          .then((artistJson) => {\n            this.currentDetail.artist_json = artistJson;\n            console.log(artistJson);\n          })\n          .catch((err) => console.error(err));\n\n        e.preventDefault();\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n\n.related_images {\n  list-style: none;\n  padding: 0;\n}\n\n.related_images li {\n  display: inline-block;\n  margin-right: 12px;\n}\n\n.related_images img {\n  display: block;\n}\n\n.related_images span {\n  display: block;\n  text-align: center;\n}\n\n.related_images li a {\n  cursor: pointer;\n}\n\n.detail_arrow {\n  position: absolute;\n  top: 50%;\n  margin-top: -32px;\n  font-size: 64px;\n  color: #E2E2E2;\n  font-family: arial, sans-serif;\n  font-weight: bold;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n#prevDetail {\n  left: 8px;\n}\n\n#nextDetail {\n  right: 8px;\n}\n\n.image_detail img {\n\n  max-width: 50vw;\n  max-height: calc(100vh - 152px);\n}\n\n.image_info {\n  color: #eee;\n  margin-left: 40px;\n  min-width: 40vw;\n}\n\n.image_info h1 {\n  font-size: 34px;\n  font-weight: bold;\n}\n\n.image_info h2 {\n  font-size: 24px;\n}\n\n.image_info h3 {\n  font-size: 24px;\n}\n\n.image_info h4 {\n  margin: 0 0 40px 0;\n}\n\n.detail_close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n}\n\n.detail_view {\n  position: absolute;\n  top: 0;\n  right: 50px;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n}\n\nh1, h2, h3 {\n  font-weight: normal;\n  display: inline;\n  font-size: 16px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Detail.vue?ad0a673a","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.currentDetail) ? _c('section', {\n    staticClass: \"box\"\n  }, [_c('div', {\n    staticClass: \"image_detail\"\n  }, [(!_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.asset\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.downsampled\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.collection_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.collection))])])]), _vm._v(\" \"), (_vm.currentDetail.artwork_title) ? _c('div', {\n    staticClass: \"image_info\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.currentDetail.artwork_title))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artwork_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artwork_uri))])]), _vm._v(\" \"), (this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(relatedImage.page_label || relatedImage.page))])])]) : _vm._e()\n  }))]) : _vm._e(), _vm._v(\" \"), _c('h2', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artist_uri\n    },\n    on: {\n      \"click\": _vm.artistLookup\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artist_name))])]), _vm._v(\" \"), (this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage && (_vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)] && _vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].indexOf(relatedImage) === -1)) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(relatedImage.page_label || relatedImage.page))])])]) : _vm._e()\n  }))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_view\",\n    on: {\n      \"click\": function($event) {\n        _vm.onPageSelected(_vm.currentDetail.page);\n      }\n    }\n  }, [_vm._v(\"View in Book\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"prevDetail\"\n    },\n    on: {\n      \"click\": this.prevDetail\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"nextDetail\"\n    },\n    on: {\n      \"click\": this.nextDetail\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": _vm.onDetailClosed\n    }\n  }, [_vm._v(\"Close\")])]) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a1981ce\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Detail.vue\n// module id = 139\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('nav', {\n    staticClass: \"nav fixed\"\n  }, [_c('div', {\n    staticClass: \"nav-left\"\n  }, [_c('a', {\n    staticClass: \"nav-item\"\n  }, [_c('span', {\n    staticClass: \"icon\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSearch = !_vm.showSearch\n      }\n    }\n  }, [(!_vm.showSearch) ? _c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"search\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showSearch) ? _c('icon', {\n    attrs: {\n      \"name\": \"close\",\n      \"title\": \"close\"\n    }\n  }) : _vm._e()], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-center\"\n  }, [(!_vm.showSearch) ? _c('div', {\n    staticClass: \"nav-item\"\n  }, [_c('div', {\n    staticClass: \"nav-item arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": this.prev\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    attrs: {\n      \"name\": \"chevron-left\",\n      \"title\": \"Prev\"\n    }\n  })], 1)]), _vm._v(\" \"), (!_vm.current) ? _c('span', [_vm._v(_vm._s(_vm.title))]) : _vm._e(), _vm._v(\" \"), (_vm.current) ? _c('span', [_vm._v(\"\\n           \" + _vm._s(_vm.shortTitle)), _c('icon', {\n    staticClass: \"navbar-breadcrumb\",\n    attrs: {\n      \"name\": \"caret-right\"\n    }\n  }), _vm._v(_vm._s(_vm.current) + \"\\n        \")], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-item arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": this.next\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    attrs: {\n      \"name\": \"chevron-right\",\n      \"title\": \"Next\"\n    }\n  })], 1)])]) : _vm._e(), _vm._v(\" \"), (_vm.showSearch) ? _c('div', {\n    staticClass: \"nav-item\"\n  }, [(_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"prevMatch\"\n    },\n    on: {\n      \"click\": _vm.prevMatch\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"chevron-left\",\n      \"title\": \"Prev Match\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('p', {\n    staticClass: \"control\"\n  }, [(_vm.matchCount) ? _c('span', {\n    staticClass: \"found\"\n  }, [_vm._v(_vm._s(_vm.currentMatchIndex) + \" of \" + _vm._s(_vm.matchCount))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"nextMatch\"\n    },\n    on: {\n      \"click\": _vm.nextMatch\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"chevron-right\",\n      \"title\": \"Next Match\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('p', {\n    staticClass: \"control has-icons-right\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    staticClass: \"input has-icons-right\",\n    attrs: {\n      \"name\": \"query\",\n      \"results\": \"5\",\n      \"placeholder\": \"search\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon is-small is-right\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"search\",\n      \"title\": \"Search\"\n    }\n  })], 1)])]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-right\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.outlineOpen),\n      expression: \"!outlineOpen\"\n    }],\n    staticClass: \"nav-item has-addons\"\n  }, [_c('p', {\n    staticClass: \"control\"\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomOut\"\n    },\n    on: {\n      \"click\": _vm.zoomOut\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"minus\",\n      \"title\": \"Zoom Out\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control zoom\"\n  }, [_c('input', {\n    staticClass: \"input is-white is-small\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": Math.round(_vm.zoomLevel * 100) + '%'\n    }\n  })]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomIn\"\n    },\n    on: {\n      \"click\": _vm.zoomIn\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"plus\",\n      \"title\": \"Zoom In\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [(_vm.spreads) ? _c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(false);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"file-o\",\n      \"title\": \"Single\"\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), (!_vm.spreads) ? _c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(true);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"button is-white is-small\"\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"columns\",\n      \"title\": \"Spread\"\n    }\n  })], 1)]) : _vm._e()])]), _vm._v(\" \"), _c('a', {\n    staticClass: \"nav-item\",\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = !_vm.outlineOpen;\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('span', {\n    staticClass: \"icon\"\n  }, [(!_vm.outlineOpen) ? _c('icon', {\n    attrs: {\n      \"name\": \"bars\",\n      \"title\": \"Open Navigation\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.outlineOpen) ? _c('icon', {\n    attrs: {\n      \"name\": \"close\",\n      \"title\": \"Close Navigation\"\n    }\n  }) : _vm._e()], 1)])])]), _vm._v(\" \"), _c('section', {\n    staticClass: \"main\"\n  }, [_c('PDF', {\n    ref: \"pdf\",\n    attrs: {\n      \"id\": \"pdf\",\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page,\n      \"width\": this.width,\n      \"height\": this.height,\n      \"spreads\": _vm.spreads,\n      \"onImageClicked\": this.onImageClicked,\n      \"onOutlineReady\": this.onOutlineReady,\n      \"query\": _vm.query,\n      \"zoom\": _vm.zoomLevel\n    },\n    on: {\n      \"loaded\": _vm.loaded,\n      \"pageChanged\": this.onPageChanged,\n      \"found\": this.onFound,\n      \"match\": this.onMatch\n    }\n  })], 1), _vm._v(\" \"), _c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.outlineOpen),\n      expression: \"outlineOpen\"\n    }],\n    staticClass: \"navigation\"\n  }, [_c('div', {\n    staticClass: \"container\"\n  }, [_c('b-tabs', {\n    attrs: {\n      \"position\": \"is-centered\"\n    },\n    on: {\n      \"change\": _vm.onTabChanged\n    },\n    model: {\n      value: (_vm.activeTab),\n      callback: function($$v) {\n        _vm.activeTab = $$v\n      },\n      expression: \"activeTab\"\n    }\n  }, [_c('b-tab-item', {\n    attrs: {\n      \"label\": \"Outline\"\n    }\n  }, [_c('outline', {\n    attrs: {\n      \"data\": _vm.outline,\n      \"pdf\": _vm.$refs.pdf,\n      \"page\": _vm.displayedPage\n    },\n    on: {\n      \"onClick\": this.goto,\n      \"current\": this.onCurrentTitle\n    }\n  })], 1), _vm._v(\" \"), _c('b-tab-item', {\n    attrs: {\n      \"label\": \"Artworks\"\n    }\n  }, [_c('grid', {\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"grid\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onClick\": this.onImageSelected\n    }\n  })], 1), _vm._v(\" \"), _c('b-tab-item', {\n    attrs: {\n      \"label\": \"Table\"\n    }\n  }, [_c('tablegrid', {\n    ref: \"table\",\n    attrs: {\n      \"id\": \"table\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onImageClick\": this.onImageSelected,\n      \"onPageClick\": this.onPageSelected\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal\",\n    class: {\n      'is-active': _vm.isModalActive\n    }\n  }, [_c('div', {\n    staticClass: \"modal-background\",\n    on: {\n      \"click\": function($event) {\n        _vm.isModalActive = false\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"modal-content\"\n  }, [_c('detail', {\n    attrs: {\n      \"image\": _vm.currentDetail,\n      \"manifest\": _vm.manifest\n    },\n    on: {\n      \"pageSelected\": this.onPageSelected,\n      \"closed\": this.onDetailClosed,\n      \"displayed\": this.onDetailDisplayed\n    }\n  })], 1), _vm._v(\" \"), _c('button', {\n    staticClass: \"modal-close\",\n    on: {\n      \"click\": function($event) {\n        _vm.isModalActive = false\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0974f68b\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Reader.vue\n// module id = 155\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url,\n      \"page-url\": _vm.page,\n      \"image-url\": _vm.image\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6710a481\"}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = 156\n// module chunks = 2"],"sourceRoot":""}