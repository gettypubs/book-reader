{"version":3,"sources":["webpack:///static/js/app.e24ff3bad61014b70f8d.js","webpack:///./~/vue-awesome/components/Icon.vue?bd18","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///Icon.vue","webpack:///App.vue","webpack:///Grid.vue","webpack:///ImageLayer.vue","webpack:///Main.vue","webpack:///Outline.vue","webpack:///PDF.vue","webpack:///Page.vue","webpack:///Reader.vue","webpack:///Search.vue","webpack:///Table.vue","webpack:///TextLayer.vue","webpack:///./src/components/Grid.vue?40af","webpack:///./src/components/ImageLayer.vue?d2df","webpack:///./src/components/Main.vue?9d89","webpack:///./src/components/Outline.vue?2f83","webpack:///./src/components/PDF.vue?2841","webpack:///./src/components/Page.vue?31ac","webpack:///./src/components/Reader.vue?d3aa","webpack:///./src/components/Search.vue","webpack:///./src/components/Table.vue?209d","webpack:///./src/components/TextLayer.vue?8459","webpack:///./src/components/Main.vue?cfa6","webpack:///./src/components/Grid.vue?3e84","webpack:///./src/components/Page.vue?3bea","webpack:///./src/components/Search.vue?406d","webpack:///./src/components/Table.vue?d7da","webpack:///./src/components/TextLayer.vue?7598","webpack:///./src/components/Reader.vue?36f2","webpack:///./src/App.vue?5b81","webpack:///./src/components/ImageLayer.vue?cb97","webpack:///./~/vue-awesome/components/Icon.vue?5d3b","webpack:///./src/components/Outline.vue?9823","webpack:///./src/components/PDF.vue?59e4"],"names":["webpackJsonp","module","exports","__webpack_require__","Component","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Main__","__WEBPACK_IMPORTED_MODULE_2__components_Main___default","n","use","routes","path","name","component","a","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","icons","props","type","String","validator","val","util","warn","this","scale","Number","spin","Boolean","inverse","flip","label","data","x","y","childrenWidth","childrenHeight","outerScale","computed","normalizedScale","isNaN","clazz","fa-icon","fa-spin","fa-flip-horizontal","fa-flip-vertical","fa-inverse","icon","box","width","height","ratio","_icon","Math","max","style","fontSize","mounted","_this","$children","forEach","child","register","paths","d","push","polygons","points","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__","__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default","__WEBPACK_IMPORTED_MODULE_2_vue__","Array","sortOrders","columns","key","sortKey","filterKey","gridColumns","filteredData","toLowerCase","order","filter","row","some","indexOf","slice","sort","b","methods","sortBy","triggerLoad","nextTick","$Lazyload","lazyLoadHandler","images","default","viewport","undefined","onImageClicked","Function","updated","watch","handleClick","image","$emit","__WEBPACK_IMPORTED_MODULE_0__components_Reader__","__WEBPACK_IMPORTED_MODULE_0__components_Reader___default","Reader","console","log","$route","params","book","edition","url","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","page","pdf","pageList","activeItem","processData","item","i","li","getPageIndex","dest","then","pg","length","checkActive","handleLink","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","err","return","__WEBPACK_IMPORTED_MODULE_0__components_Page__","__WEBPACK_IMPORTED_MODULE_0__components_Page___default","__WEBPACK_IMPORTED_MODULE_1__components_Search__","__WEBPACK_IMPORTED_MODULE_1__components_Search___default","pdfjsLib","PDFJS","workerSrc","Page","Search","src","spreads","onOutlineReady","query","zoom","pdfDocument","numPages","rotate","isLoading","viewportWidth","viewportHeight","displayedPage","displayedPages","displayedPagesNumbers","outline","pageMatchesLength","pageMatches","matched","selectedMatch","loadDocument","display","catch","error","_this2","_spreads","clearMatches","container","$refs","bounds","getBoundingClientRect","scrollLeftDelta","scrollLeft","scrollWidth","scrollTopDelta","scrollTop","scrollHeight","_this3","getDocument","pagesCount","getOutline","processOutline","arguments","loadPage","prev","pageIndex","_this4","Error","pageNumber","getPage","onPageLoad","onPageError","_this5","includes","$nextTick","updatedSelectedMatch","updateTextLayerMatches","afterDisplayed","handleViewport","onMatched","count","onFound","currentMatchIndex","pageIdx","onSelected","selected","left","top","_this6","nextMatch","prevMatch","__WEBPACK_IMPORTED_MODULE_0__components_TextLayer__","__WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default","__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__","__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default","textlayer","imagelayer","onViewport","viewportScale","textContent","displayPage","displaying","getPageScale","pageScale","getViewport","canvas","canvasContext","getContext","scaled","imageCount","imageLayer","beginLayout","endLayout","appendImage","index","render","textLayer","clearTextLayerMatches","matchIdx","__WEBPACK_IMPORTED_MODULE_0__components_PDF__","__WEBPACK_IMPORTED_MODULE_0__components_PDF___default","__WEBPACK_IMPORTED_MODULE_1__components_Table__","__WEBPACK_IMPORTED_MODULE_1__components_Table___default","__WEBPACK_IMPORTED_MODULE_2__components_Grid__","__WEBPACK_IMPORTED_MODULE_2__components_Grid___default","__WEBPACK_IMPORTED_MODULE_3__components_Outline__","__WEBPACK_IMPORTED_MODULE_3__components_Outline___default","__WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__","__WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon__","__WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon___default","PDF","grid","tablegrid","getBounds","manifest","imagesById","imagesByArtwork","imagesByArtist","imagesByCollection","showTable","showGrid","currentDetail","outlineOpen","matchCount","zoomLevel","created","fetchManifest","window","addEventListener","keyListener","bind","handleResize","beforeDestory","removeEventListener","table","fetch","manifestUrl","response","json","loaded","location","artwork_title","artworkUri","encodeURI","artist_name","artistUri","collection","collectionUri","e","keyCode","goto","onImageSelected","onPageSelected","objId","onMatch","innerWidth","innerHeight","setSpreads","onPageChanged","pages","toggleTable","toggleGrid","nextDetail","prevDetail","zoomIn","round","zoomOut","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__","CHARACTERS_TO_NORMALIZE","‘","’","‚","‛","“","”","„","‟","¼","½","¾","replace","join","normalizationRegex","RegExp","waitTimeout","phraseSearch","minQueryLength","matches","textDivs","pageContents","pendingFindMatches","active","pagesToSearch","extractTextPromises","extractText","reset","clearTimeout","findTimeout","setTimeout","find","prevQuery","calcFindMatch","normalize","text","ch","_prepareMatches","matchesWithLength","matchesLength","match","matchLength","len","currentIndex","currentElem","nextElem","skipped","prevElem","calcFindPhraseMatch","pageContent","queryLen","calcFindWordMatch","queryArray","subquery","subqueryLen","caseSensitive","getPageTextContent","getTextContent","normalizeWhitespace","startedTextExtraction","promise","resolve","ii","extractTextCapability","textItems","items","strBuf","j","jj","str","preLoad","attempt","filters","capitalize","charAt","toUpperCase","titlecase","_str","txt","substr","renderTimeout","onContent","destroyed","clearTextLayer","textLayerFrag","document","createDocumentFragment","textLayerRenderTask","cancel","renderTextLayer","timeout","appendChild","convertMatches","renderMatches","firstChild","removeChild","_sentSelected","beginText","begin","className","divIdx","appendTextToDiv","offset","fromOffset","toOffset","div","content","bidiTexts","substring","node","createTextNode","span","createElement","prevEnd","isSelectedPage","selectedMatchIdx","infinity","i0","i1","end","isSelected","highlightSuffix","n0","n1","iIndex","ret","m","clearedUntilDivIdx","_vm","_h","$createElement","_self","_c","attrs","manifest-url","staticRenderFns","_l","staticClass","on","click","$event","directives","rawName","expression","_v","_s","page_label","class","loading","ref","id","domProps","input","target","composing","_f","entry","href","title","results","_e","subtitle","author_as_it_appears","staticStyle","transform","pageChanged","found","onClick","onImageClick","onPageClick","copyright","asset","downsampled","collection_uri","artwork_uri","relatedImage","thumbnail","artist_uri","version","role","aria-label","viewBox","_t","_b","polygon","raw","innerHTML","centered","refInFor","displayed"],"mappings":"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","file":"static/js/app.e24ff3bad61014b70f8d.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(108)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(47),\n  /* template */\n  __webpack_require__(136),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Main__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Main',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/books/:book/editions/:edition',\n    name: 'Manifest',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/books/:book/editions/:edition/images/:image',\n    name: 'ImageLink',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }]\n}));\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(106)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(48),\n  /* template */\n  __webpack_require__(134),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 45 */,\n/* 46 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(43);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 47 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(7);\n\n\n\n\nvar icons = {};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator: function validator(val) {\n        if (val) {\n          if (!(val in icons)) {\n            __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].util.warn('Invalid prop: prop \"icon\" is referring to an unregistered icon \"' + val + '\".' + '\\nPlesase make sure you have imported this icon before using it.', this);\n            return false;\n          }\n          return true;\n        }\n        return null;\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    flip: {\n      validator: function validator(val) {\n        return val === 'horizontal' || val === 'vertical';\n      }\n    },\n    label: String\n  },\n  data: function data() {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    };\n  },\n\n  computed: {\n    normalizedScale: function normalizedScale() {\n      var scale = this.scale;\n      scale = typeof scale === 'undefined' ? 1 : Number(scale);\n      if (isNaN(scale) || scale <= 0) {\n        __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].util.warn('Invalid prop: prop \"scale\" should be a number over 0.', this);\n        return this.outerScale;\n      }\n      return scale * this.outerScale;\n    },\n    clazz: function clazz() {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse\n      };\n    },\n    icon: function icon() {\n      if (this.name) {\n        return icons[this.name];\n      }\n      return null;\n    },\n    box: function box() {\n      if (this.icon) {\n        return '0 0 ' + this.icon.width + ' ' + this.icon.height;\n      }\n      return '0 0 ' + this.width + ' ' + this.height;\n    },\n    ratio: function ratio() {\n      if (!this.icon) {\n        return 1;\n      }\n      var _icon = this.icon,\n          width = _icon.width,\n          height = _icon.height;\n\n      return Math.max(width, height) / 16;\n    },\n    width: function width() {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0;\n    },\n    height: function height() {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0;\n    },\n    style: function style() {\n      if (this.normalizedScale === 1) {\n        return false;\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      };\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.icon) {\n      return;\n    }\n    this.$children.forEach(function (child) {\n      child.outerScale = _this.normalizedScale;\n    });\n    var width = 0;\n    var height = 0;\n    this.$children.forEach(function (child) {\n      width = Math.max(width, child.width);\n      height = Math.max(height, child.height);\n    });\n    this.childrenWidth = width;\n    this.childrenHeight = height;\n    this.$children.forEach(function (child) {\n      child.x = (width - child.width) / 2;\n      child.y = (height - child.height) / 2;\n    });\n  },\n  register: function register(data) {\n    for (var name in data) {\n      var icon = data[name];\n\n      if (!icon.paths) {\n        icon.paths = [];\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d });\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = [];\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points });\n      }\n\n      icons[name] = icon;\n    }\n  },\n\n  icons: icons\n});\n\n/***/ }),\n/* 48 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 49 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(7);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default.a);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'grid',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data: function data() {\n    var sortOrders = {};\n    this.columns = ['thumbnail'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1;\n    });\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n\n      gridColumns: []\n    };\n  },\n\n  computed: {\n    filteredData: function filteredData() {\n      var sortKey = this.sortKey;\n      var filterKey = this.filterKey && this.filterKey.toLowerCase();\n      var order = this.sortOrders[sortKey] || 1;\n      var data = this.data;\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1;\n          });\n        });\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey];\n          b = b[sortKey];\n          return (a === b ? 0 : a > b ? 1 : -1) * order;\n        });\n      }\n      return data;\n    }\n  },\n  methods: {\n    sortBy: function sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n    },\n    triggerLoad: function triggerLoad() {\n      __WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  }\n});\n\n/***/ }),\n/* 50 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'imagelayer',\n  props: {\n    'images': {\n      default: [],\n      type: Array\n    },\n    'viewport': {\n      default: undefined,\n      type: Object\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.images) {}\n  },\n\n  watch: {\n    images: function images() {\n      if (this.images) {}\n    }\n  },\n  methods: {\n    handleClick: function handleClick(image) {\n      if (this.onImageClicked) {\n        this.onImageClicked(image);\n      }\n      this.$emit('imageClicked', image);\n    }\n  }\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader__ = __webpack_require__(123);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Reader__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'main',\n  components: {\n    'Reader': __WEBPACK_IMPORTED_MODULE_0__components_Reader___default.a\n  },\n  data: function data() {\n    console.log(this.$route.params.book, this.$route.params.edition);\n    return {\n      url: 'https://s3.amazonaws.com/pubs-fchasen/books/' + (this.$route.params.book || 711) + '/editions/' + (this.$route.params.edition || 884) + '/manifest.json'\n    };\n  }\n});\n\n/***/ }),\n/* 52 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'outline',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    },\n    'page': {\n      type: Number,\n      default: undefined\n    },\n    'pdf': {\n      type: Object,\n      default: undefined\n    }\n  },\n  data: function data() {\n    return {\n      pageList: [],\n      activeItem: undefined\n    };\n  },\n  mounted: function mounted() {\n    if (this.data) {\n      this.processData();\n    }\n  },\n\n  methods: {\n    processData: function processData() {\n      var _this = this;\n\n      this.pageList = [];\n      this.data.forEach(function (item, i) {\n        var li = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, item);\n        _this.pageList.push(li);\n        _this.pdf.getPageIndex(item.dest[0]).then(function (pg) {\n          li.page = pg;\n\n          if (i === _this.data.length - 1) {\n            _this.checkActive();\n          }\n        });\n      });\n    },\n    handleLink: function handleLink(item) {\n      this.$emit('onClick', item.dest);\n    },\n    checkActive: function checkActive() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.pageList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (item.page > this.page) {\n            break;\n          } else {\n            this.activeItem = item;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    data: function data() {\n      this.processData();\n    },\n    page: function page() {\n      this.checkActive();\n    }\n  }\n});\n\n/***/ }),\n/* 53 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Page__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Page___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Page__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Search__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Search___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Search__);\n\n\n\n\n\nvar pdfjsLib = __webpack_require__(17);\n\n\npdfjsLib.PDFJS.workerSrc = 'static/libs/pdfjs-dist/build/pdf.worker.js';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pdf',\n  components: {\n    'Page': __WEBPACK_IMPORTED_MODULE_0__components_Page___default.a,\n    'Search': __WEBPACK_IMPORTED_MODULE_1__components_Search___default.a\n  },\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number,\n      default: undefined\n    },\n    'height': {\n      type: Number,\n      default: undefined\n    },\n    'page': {\n      default: 0,\n      type: Number\n    },\n    'spreads': {\n      default: true,\n      type: Boolean\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onOutlineReady': {\n      default: undefined,\n      type: Function\n    },\n    'query': {\n      default: undefined,\n      type: String\n    },\n    'zoom': {\n      default: 1,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      pdfDocument: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      displayedPage: 0,\n      displayedPages: [],\n      displayedPagesNumbers: [],\n      outline: undefined,\n      pageMatchesLength: [],\n      pageMatches: [],\n      matched: [],\n      selectedMatch: {}\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.src) {\n      this.loadDocument(this.src).then(function () {\n        return _this.display(_this.page);\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n  },\n\n  watch: {\n    src: function src() {\n      var _this2 = this;\n\n      if (this.src) {\n        this.loadDocument(this.src).then(function () {\n          return _this2.display(_this2.page);\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }\n    },\n    page: function page(pg) {\n      if (typeof this.page !== 'undefined' && this.page > -1) {\n        this.display(this.page);\n      }\n    },\n    spreads: function spreads(_spreads) {\n      if (typeof this.displayedPage !== 'undefined') {\n        this.display(this.displayedPage);\n      }\n    },\n    displayedPage: function displayedPage() {\n      this.$emit('pageChanged', this.displayedPagesNumbers);\n    },\n    query: function query() {\n      if (this.query === '') {\n        this.clearMatches();\n      }\n    },\n    zoom: function zoom() {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      this.scrollLeftDelta = container.scrollLeft - (container.scrollWidth - bounds.width) / 2;\n      this.scrollTopDelta = container.scrollTop - (container.scrollHeight - bounds.height) / 2;\n    }\n  },\n  methods: {\n    loadDocument: function loadDocument(src) {\n      var _this3 = this;\n\n      console.log('src', src);\n      return pdfjsLib.getDocument(src).then(function (pdfDocument) {\n        var pagesCount = pdfDocument.numPages;\n\n        _this3.numPages = pagesCount;\n\n        _this3.pdfDocument = pdfDocument;\n\n        _this3.$emit('loaded', pdfDocument);\n\n        _this3.outline = pdfDocument.getOutline().then(function (outline) {\n          return _this3.processOutline(outline);\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    display: function display() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.page;\n\n      this.displayedPages = [];\n\n      if (page < 0) {\n        return;\n      }\n\n      if (this.spreads) {\n        if (page % 2 !== 0 || page === 0) {\n          this.displayedPage = page;\n        } else {\n          this.displayedPage = page - 1;\n        }\n\n        if (this.displayedPage > 0) {\n          this.loadPage(this.displayedPage);\n          this.loadPage(this.displayedPage + 1);\n          this.displayedPagesNumbers = [this.displayedPage, this.displayedPage + 1];\n        } else {\n          this.loadPage(this.displayedPage);\n          this.displayedPagesNumbers = [this.displayedPage];\n        }\n      } else {\n        this.displayedPage = page;\n        this.loadPage(this.displayedPage);\n\n        this.displayedPagesNumbers = [this.displayedPage];\n      }\n    },\n    next: function next() {\n      if (this.displayedPage === 0) {\n        this.displayedPage += 1;\n      } else {\n        this.displayedPage += this.spreads ? 2 : 1;\n      }\n      if (this.displayedPage < this.numPages) {\n        this.display(this.displayedPage);\n      } else {\n        this.displayedPage = this.numPages - (this.spreads ? 2 : 1);\n      }\n    },\n    prev: function prev() {\n      if (this.displayedPage > 0) {\n        if (this.displayedPage === 1) {\n          this.displayedPage -= 1;\n        } else {\n          this.displayedPage -= this.spreads ? 2 : 1;\n        }\n        this.display(this.displayedPage);\n      }\n    },\n    loadPage: function loadPage(pageIndex) {\n      var _this4 = this;\n\n      var pdfDocument = this.pdfDocument;\n\n\n      if (!pdfDocument) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      var pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdfDocument.numPages) {\n        pageNumber = pdfDocument.numPages;\n      }\n\n      return pdfDocument.getPage(pageNumber).then(function (page) {\n        return _this4.onPageLoad(page);\n      }).catch(function (page) {\n        return _this4.onPageError(page);\n      });\n    },\n    onPageLoad: function onPageLoad(page) {\n      var _this5 = this;\n\n      if (!this.displayedPagesNumbers.includes(page.pageIndex)) {\n        return;\n      }\n\n      this.displayedPages.push(page);\n\n      this.$nextTick(function () {\n        var pg = _this5.$refs['page_' + page.pageIndex][0];\n        pg.updatedSelectedMatch(_this5.selectedMatch);\n        pg.updateTextLayerMatches(_this5.query, _this5.pageMatches, _this5.pageMatchesLength);\n      });\n    },\n    afterDisplayed: function afterDisplayed() {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      container.scrollLeft = (container.scrollWidth - bounds.width) / 2 + this.scrollLeftDelta;\n      container.scrollTop = (container.scrollHeight - bounds.height) / 2 + this.scrollTopDelta;\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    handleViewport: function handleViewport(viewport) {\n      this.viewportWidth = viewport.width;\n      this.viewportHeight = viewport.height;\n    },\n    processOutline: function processOutline(outline) {\n      this.onOutlineReady && this.onOutlineReady(outline);\n      return outline;\n    },\n    getPageIndex: function getPageIndex(dest) {\n      return this.pdfDocument.getPageIndex(dest);\n    },\n    onMatched: function onMatched(matched, pageMatches, pageMatchesLength, count) {},\n    onFound: function onFound(query, matched, pageMatches, pageMatchesLength, count) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.matched = matched;\n      this.$emit('found', count);\n      if (this.matched && this.matched.length) {\n        this.currentMatchIndex = 0;\n        this.selectedMatch = this.matched[this.currentMatchIndex];\n        this.$emit('match', this.currentMatchIndex);\n\n        if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n          this.display(this.selectedMatch.pageIdx);\n        } else {\n          var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n          pg.updatedSelectedMatch(this.selectedMatch);\n          pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n        }\n      }\n    },\n    onSelected: function onSelected(selected) {\n      var container = this.$refs.container;\n      var bounds = container.getBoundingClientRect();\n      container.scrollLeft = bounds.left + selected.left;\n      container.scrollTop = bounds.top + selected.top;\n    },\n    clearMatches: function clearMatches() {\n      var _this6 = this;\n\n      this.displayedPagesNumbers.forEach(function (pageIndex) {\n        var pg = _this6.$refs['page_' + pageIndex][0];\n        pg.updateTextLayerMatches('', [], null);\n      });\n    },\n    nextMatch: function nextMatch() {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex < this.matched.length - 1) {\n        this.currentMatchIndex += 1;\n      } else {\n        this.currentMatchIndex = 0;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    },\n    prevMatch: function prevMatch() {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex > 0) {\n        this.currentMatchIndex -= 1;\n      } else {\n        this.currentMatchIndex = this.matched.length - 1;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        var pg = this.$refs['page_' + this.selectedMatch.pageIdx][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 54 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TextLayer__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_TextLayer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_ImageLayer__);\n\n\n\n\n\nvar pdfjsLib = __webpack_require__(17);\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'page',\n  components: {\n    'textlayer': __WEBPACK_IMPORTED_MODULE_0__components_TextLayer___default.a,\n    'imagelayer': __WEBPACK_IMPORTED_MODULE_1__components_ImageLayer___default.a\n  },\n  props: {\n    'scale': {\n      default: 1,\n      type: Number\n    },\n    'rotate': {\n      default: undefined,\n      type: Number\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      type: Number\n    },\n    'page': {\n      default: undefined,\n      type: Object\n    },\n    'onViewport': {\n      default: undefined,\n      type: Function\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onSelected': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data: function data() {\n    return {\n      pdf: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      viewportScale: 1,\n      viewport: undefined,\n      textContent: undefined,\n      images: [],\n      pageIndex: undefined\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.page) {\n      this.displayPage(this.page);\n    }\n  },\n\n  watch: {\n    page: function page() {\n      if (this.page) {\n        this.displayPage(this.page);\n      }\n    },\n    scale: function scale() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    width: function width() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    height: function height() {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    pageMatches: function pageMatches() {}\n  },\n  methods: {\n    getPageScale: function getPageScale() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.page;\n      var scale = this.scale,\n          width = this.width,\n          height = this.height;\n\n      var pageScale = 1;\n\n      if (width < height) {\n        pageScale = width / page.getViewport(scale).width;\n      } else {\n        pageScale = height / page.getViewport(scale).height;\n      }\n\n      return scale * pageScale;\n    },\n    displayPage: function displayPage(page) {\n      var _this = this;\n\n      var canvas = this.$refs.canvas;\n\n      var canvasContext = canvas.getContext('2d');\n      var scale = this.scale;\n\n      var scaled = scale !== 1 ? scale : this.getPageScale(page);\n      var viewport = page.getViewport(scaled);\n      var images = this.images;\n      var imageCount = 0;\n      var imageLayer = {\n        beginLayout: function beginLayout() {},\n        endLayout: function endLayout() {},\n        appendImage: function appendImage(i) {\n          i.page = page.pageIndex;\n          i.index = imageCount;\n          images.push(i);\n          imageCount++;\n        }\n      };\n\n      this.pageIndex = page.pageIndex;\n      this.viewport = viewport;\n      this.viewportScale = scale;\n      this.viewportHeight = viewport.height;\n      this.viewportWidth = viewport.width;\n\n      this.onViewport && this.onViewport(viewport);\n\n      this.displaying = true;\n      page.render({ canvasContext: canvasContext, viewport: viewport, imageLayer: imageLayer }).then(function () {\n        _this.$emit('displayed', _this);\n        _this.displaying = false;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    updateTextLayerMatches: function updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.query = query;\n      this.pageMatchesLength = pageMatchesLength;\n      this.pageMatches = pageMatches;\n\n      if (pageMatches && pageMatches.length > this.pageIndex) {\n        this.$refs.textLayer.updateTextLayerMatches(query, pageMatches[this.pageIndex], pageMatchesLength ? pageMatchesLength[this.pageIndex] : null);\n      } else {\n        this.$refs.textLayer.clearTextLayerMatches();\n      }\n    },\n    updatedSelectedMatch: function updatedSelectedMatch(selectedMatch) {\n      this.selectedMatch = selectedMatch;\n      if (this.pageIndex === selectedMatch.pageIdx) {\n        this.$refs.textLayer.selectedMatch(selectedMatch.pageIdx, selectedMatch.matchIdx);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 55 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PDF__ = __webpack_require__(121);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PDF___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_PDF__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Table__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Table___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Table__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Grid__ = __webpack_require__(117);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Grid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Grid__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Outline__ = __webpack_require__(120);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Outline___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Outline__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__ = __webpack_require__(142);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_whatwg_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_whatwg_fetch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_awesome_icons_list_ul__ = __webpack_require__(113);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vue_awesome_icons_search__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vue_awesome_icons_columns__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vue_awesome_icons_file_o__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_awesome_icons_table__ = __webpack_require__(115);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_vue_awesome_icons_th__ = __webpack_require__(116);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'reader',\n  components: {\n    'PDF': __WEBPACK_IMPORTED_MODULE_0__components_PDF___default.a,\n    'grid': __WEBPACK_IMPORTED_MODULE_2__components_Grid___default.a,\n    'tablegrid': __WEBPACK_IMPORTED_MODULE_1__components_Table___default.a,\n    'icon': __WEBPACK_IMPORTED_MODULE_11_vue_awesome_components_Icon___default.a,\n    'outline': __WEBPACK_IMPORTED_MODULE_3__components_Outline___default.a\n  },\n  props: ['manifest-url'],\n  data: function data() {\n    var bounds = this.getBounds();\n\n    return {\n      manifest: {},\n      images: [],\n      imagesById: {},\n      imagesByArtwork: {},\n      imagesByArtist: {},\n      imagesByCollection: {},\n      page: 0,\n      displayedPage: 0,\n      spreads: true,\n      showTable: false,\n      showGrid: false,\n      currentDetail: undefined,\n      width: bounds.width,\n      height: bounds.height,\n      outline: undefined,\n      outlineOpen: false,\n      query: '',\n      matchCount: undefined,\n      currentMatchIndex: undefined,\n      zoomLevel: 1.0\n    };\n  },\n  created: function created() {\n    this.fetchManifest();\n    window.addEventListener('keyup', this.keyListener.bind(this), false);\n    window.addEventListener('resize', this.handleResize.bind(this), false);\n  },\n  beforeDestory: function beforeDestory() {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keyup', this.keyListener);\n  },\n\n  watch: {\n    showTable: function showTable() {\n      var table = this.$refs.table;\n\n      table.triggerLoad();\n    },\n    showGrid: function showGrid() {\n      var grid = this.$refs.grid;\n\n      grid.triggerLoad();\n    }\n  },\n  methods: {\n    fetchManifest: function fetchManifest() {\n      var _this = this;\n\n      return fetch(this.manifestUrl).then(function (response) {\n        return response.json();\n      }).then(function (manifest) {\n        _this.manifest = manifest;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    loaded: function loaded(pdfDocument) {\n      var _this2 = this;\n\n      this.pdfDocument = pdfDocument;\n\n      this.images = this.manifest.images;\n\n      this.images.forEach(function (image) {\n        _this2.imagesById['img_p' + (image.page - 1) + '_' + image.location] = image;\n\n        if (image.artwork_title) {\n          var artworkUri = encodeURI(image.artwork_title);\n          if (!_this2.imagesByArtwork[artworkUri]) {\n            _this2.imagesByArtwork[artworkUri] = [];\n          }\n          _this2.imagesByArtwork[artworkUri].push(image);\n        }\n\n        if (image.artist_name) {\n          var artistUri = encodeURI(image.artist_name);\n          if (!_this2.imagesByArtist[artistUri]) {\n            _this2.imagesByArtist[artistUri] = [];\n          }\n          _this2.imagesByArtist[artistUri].push(image);\n        }\n\n        if (image.collection) {\n          var collectionUri = encodeURI(image.collection);\n          if (!_this2.imagesByCollection[collectionUri]) {\n            _this2.imagesByCollection[collectionUri] = [];\n          }\n          _this2.imagesByCollection[collectionUri].push(image);\n        }\n      });\n    },\n    next: function next() {\n      var pdf = this.$refs.pdf;\n\n      pdf.next();\n    },\n    prev: function prev() {\n      var pdf = this.$refs.pdf;\n\n      pdf.prev();\n    },\n    keyListener: function keyListener(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === 37) {\n        this.prev();\n      } else if (keyCode === 39) {\n        this.next();\n      }\n    },\n    handleResize: function handleResize() {\n      var bounds = this.getBounds();\n      this.width = bounds.width;\n      this.height = bounds.height;\n    },\n    goto: function goto(dest) {\n      var _this3 = this;\n\n      var pdf = this.$refs.pdf;\n\n      this.outlineOpen = false;\n      return pdf.getPageIndex(dest[0]).then(function (pg) {\n        _this3.page = pg;\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onImageSelected: function onImageSelected(image) {\n      this.currentDetail = image;\n    },\n    onPageSelected: function onPageSelected(page) {\n      this.page = page - 1;\n      this.showGrid = false;\n      this.showTable = false;\n      this.currentDetail = undefined;\n    },\n    onImageClicked: function onImageClicked(image) {\n      this.currentDetail = this.imagesById[image.objId];\n    },\n    onFound: function onFound(count) {\n      this.matchCount = count;\n    },\n    onMatch: function onMatch(index) {\n      this.currentMatchIndex = index + 1;\n    },\n    getBounds: function getBounds() {\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      var header = 134;\n      return {\n        width: width - header,\n        height: height - header\n      };\n    },\n    setSpreads: function setSpreads(spreads) {\n      if (this.spreads !== spreads) {\n        this.spreads = spreads;\n      }\n    },\n    onOutlineReady: function onOutlineReady(outline) {\n      this.outline = outline;\n    },\n    onPageChanged: function onPageChanged(pages) {\n      this.displayedPage = pages[pages.length - 1];\n      this.page = -1;\n    },\n    toggleTable: function toggleTable() {\n      this.showTable = !this.showTable;\n      this.showGrid = false;\n    },\n    toggleGrid: function toggleGrid() {\n      this.showGrid = !this.showGrid;\n      this.showTable = false;\n    },\n    nextDetail: function nextDetail() {\n      var index = this.images.indexOf(this.currentDetail);\n      if (index + 1 < this.images.length) {\n        this.currentDetail = this.images[index + 1];\n      }\n    },\n    prevDetail: function prevDetail() {\n      var index = this.images.indexOf(this.currentDetail);\n      if (index - 1 >= 0) {\n        this.currentDetail = this.images[index - 1];\n      }\n    },\n    nextMatch: function nextMatch() {\n      var pdf = this.$refs.pdf;\n\n      pdf.nextMatch();\n    },\n    prevMatch: function prevMatch() {\n      var pdf = this.$refs.pdf;\n\n      pdf.prevMatch();\n    },\n    zoomIn: function zoomIn() {\n      this.zoomLevel = Math.round(this.zoomLevel * 10 + 2) / 10;\n    },\n    zoomOut: function zoomOut() {\n      if (this.zoomLevel > 0.20) {\n        this.zoomLevel = Math.round(this.zoomLevel * 10 - 2) / 10;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 56 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_pdfjs_dist___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__);\n\n\n\n\n\n\nvar FIND_TIMEOUT = 250;\n\nvar CHARACTERS_TO_NORMALIZE = {\n  '\\u2018': '\\'',\n  '\\u2019': '\\'',\n  '\\u201A': '\\'',\n  '\\u201B': '\\'',\n  '\\u201C': '\"',\n  '\\u201D': '\"',\n  '\\u201E': '\"',\n  '\\u201F': '\"',\n  '\\xBC': '1/4',\n  '\\xBD': '1/2',\n  '\\xBE': '3/4' };\n\nvar replace = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(CHARACTERS_TO_NORMALIZE).join('');\nvar normalizationRegex = new RegExp('[' + replace + ']', 'g');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'search',\n  props: {\n    'waitTimeout': {\n      default: 30,\n      type: Number\n    },\n    'pdfDocument': {\n      default: undefined\n    },\n    'query': {\n      default: '',\n      type: String\n    },\n    'phraseSearch': {\n      default: true,\n      type: Boolean\n    },\n    'minQueryLength': {\n      default: 3,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      matches: [],\n      textDivs: [],\n      pageContents: [],\n      pageMatches: [],\n      pageMatchesLength: null,\n      matchCount: 0,\n      pagesCount: 0,\n      pendingFindMatches: {},\n      active: false,\n      pagesToSearch: null,\n      extractTextPromises: [],\n      matched: []\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    if (this.pdfDocument) {\n      this.extractText();\n    }\n  },\n\n  watch: {\n    pdfDocument: function pdfDocument() {\n      if (this.pdfDocument) {\n        this.extractText();\n      }\n    },\n    query: function query() {\n      var _this = this;\n\n      if (this.query === '') {\n        this.reset();\n      }\n\n      clearTimeout(this.findTimeout);\n      this.findTimeout = setTimeout(function () {\n        if (_this.query.length > _this.minQueryLength) {\n          _this.find(_this.query);\n        }\n      }, FIND_TIMEOUT);\n    }\n  },\n  methods: {\n    reset: function reset() {\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n\n      this.$emit('matched', this.matched, this.pageMatchesLength, this.matchCount);\n      this.$emit('found', this.pageMatches, this.pageMatchesLength, this.matchCount);\n    },\n    find: function find(query) {\n      var _this2 = this;\n\n      var numPages = this.pagesCount;\n\n      if (this.prevQuery && this.prevQuery === query) {\n        return;\n      }\n      this.prevQuery = query;\n\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n      this.selected = {\n        pageIdx: -1,\n        matchIdx: -1\n      };\n\n      for (var i = 0; i < numPages; i++) {\n        if (!(i in this.pendingFindMatches)) {\n          this.pendingFindMatches[i] = true;\n          this.extractTextPromises[i].then(function (pageIdx) {\n            delete _this2.pendingFindMatches[pageIdx];\n            _this2.calcFindMatch(pageIdx);\n          });\n        }\n      }\n    },\n    normalize: function normalize(text) {\n      return text.replace(normalizationRegex, function (ch) {\n        return CHARACTERS_TO_NORMALIZE[ch];\n      });\n    },\n    _prepareMatches: function _prepareMatches(matchesWithLength, matches, matchesLength) {\n      function isSubTerm(matchesWithLength, currentIndex) {\n        var currentElem = matchesWithLength[currentIndex];\n        var nextElem = matchesWithLength[currentIndex + 1];\n\n        if (currentIndex < matchesWithLength.length - 1 && currentElem.match === nextElem.match) {\n          currentElem.skipped = true;\n          return true;\n        }\n\n        for (var i = currentIndex - 1; i >= 0; i--) {\n          var prevElem = matchesWithLength[i];\n          if (prevElem.skipped) {\n            continue;\n          }\n          if (prevElem.match + prevElem.matchLength < currentElem.match) {\n            break;\n          }\n          if (prevElem.match + prevElem.matchLength >= currentElem.match + currentElem.matchLength) {\n            currentElem.skipped = true;\n            return true;\n          }\n        }\n        return false;\n      }\n\n      matchesWithLength.sort(function (a, b) {\n        return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n      });\n      for (var i = 0, len = matchesWithLength.length; i < len; i++) {\n        if (isSubTerm(matchesWithLength, i)) {\n          continue;\n        }\n        matches.push(matchesWithLength[i].match);\n        matchesLength.push(matchesWithLength[i].matchLength);\n      }\n    },\n    calcFindPhraseMatch: function calcFindPhraseMatch(query, pageIndex, pageContent) {\n      var matches = [];\n      var queryLen = query.length;\n      var matchIdx = -queryLen;\n      while (true) {\n        matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n        if (matchIdx === -1) {\n          break;\n        }\n        matches.push(matchIdx);\n      }\n      this.pageMatches[pageIndex] = matches;\n    },\n    calcFindWordMatch: function calcFindWordMatch(query, pageIndex, pageContent) {\n      var matchesWithLength = [];\n\n      var queryArray = query.match(/\\S+/g);\n      for (var i = 0, len = queryArray.length; i < len; i++) {\n        var subquery = queryArray[i];\n        var subqueryLen = subquery.length;\n        var matchIdx = -subqueryLen;\n        while (true) {\n          matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n          if (matchIdx === -1) {\n            break;\n          }\n\n          matchesWithLength.push({\n            match: matchIdx,\n            matchLength: subqueryLen,\n            skipped: false\n          });\n        }\n      }\n\n      if (!this.pageMatchesLength) {\n        this.pageMatchesLength = [];\n      }\n      this.pageMatchesLength[pageIndex] = [];\n      this.pageMatches[pageIndex] = [];\n\n      this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex], this.pageMatchesLength[pageIndex]);\n    },\n    calcFindMatch: function calcFindMatch(pageIndex) {\n      var _this3 = this;\n\n      var pageContent = this.normalize(this.pageContents[pageIndex]);\n      var query = this.normalize(this.query);\n      var caseSensitive = this.caseSensitive;\n      var phraseSearch = this.phraseSearch;\n      var queryLen = query.length;\n\n      if (queryLen === 0) {\n        return;\n      }\n\n      if (!caseSensitive) {\n        pageContent = pageContent.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      if (phraseSearch) {\n        this.calcFindPhraseMatch(query, pageIndex, pageContent);\n      } else {\n        this.calcFindWordMatch(query, pageIndex, pageContent);\n      }\n\n      if (pageIndex in this.pageMatches && this.pageMatches[pageIndex].length > 0) {\n        this.matchCount += this.pageMatches[pageIndex].length;\n\n        this.pageMatches[pageIndex].forEach(function (match) {\n          _this3.matched.push({\n            matchIdx: match,\n            pageIdx: pageIndex\n          });\n          _this3.$emit('matched', _this3.query, _this3.matched, _this3.pageMatches[pageIndex], _this3.pageMatchesLength ? _this3.pageMatchesLength[pageIndex] : null, _this3.matchCount);\n        });\n      }\n\n      if (this.pageMatches.length === this.pagesCount) {\n        this.$emit('found', this.query, this.matched, this.pageMatches, this.pageMatchesLength, this.matchCount);\n      }\n    },\n    getPageTextContent: function getPageTextContent(pageIndex) {\n      return this.pdfDocument.getPage(pageIndex + 1).then(function (page) {\n        return page.getTextContent({\n          normalizeWhitespace: true\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    extractText: function extractText() {\n      var _this4 = this;\n\n      if (this.startedTextExtraction) {\n        return;\n      }\n      this.startedTextExtraction = true;\n      this.pageContents.length = 0;\n      this.pagesCount = this.pdfDocument.numPages - 1;\n\n      var promise = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve();\n\n      var _loop = function _loop(i, ii) {\n        var extractTextCapability = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_pdfjs_dist__[\"createPromiseCapability\"])();\n        _this4.extractTextPromises[i] = extractTextCapability.promise;\n\n        promise = promise.then(function () {\n          return _this4.getPageTextContent(i).then(function (textContent) {\n            var textItems = textContent.items;\n            var strBuf = [];\n\n            for (var j = 0, jj = textItems.length; j < jj; j++) {\n              strBuf.push(textItems[j].str);\n            }\n\n            _this4.pageContents[i] = strBuf.join('');\n            extractTextCapability.resolve(i);\n          });\n        });\n      };\n\n      for (var i = 0, ii = this.pagesCount; i < ii; i++) {\n        _loop(i, ii);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 57 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(7);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_lazyload___default.a, {\n  preLoad: 1.3,\n\n  attempt: 1\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'table',\n  components: {},\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data: function data() {\n    var sortOrders = {};\n    this.columns = ['thumbnail', 'page', 'artwork_title', 'artist', 'collection'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1;\n    });\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n\n      gridColumns: []\n    };\n  },\n\n  computed: {\n    filteredData: function filteredData() {\n      var sortKey = this.sortKey;\n      var filterKey = this.filterKey && this.filterKey.toLowerCase();\n      var order = this.sortOrders[sortKey] || 1;\n      var data = this.data;\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1;\n          });\n        });\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey];\n          b = b[sortKey];\n          return (a === b ? 0 : a > b ? 1 : -1) * order;\n        });\n      }\n      return data;\n    }\n  },\n  filters: {\n    capitalize: function capitalize(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    titlecase: function titlecase(_str) {\n      var str;\n      str = _str.replace(/_/g, ' ');\n      str = str.replace(/([^\\W_]+[^\\s-]*) */g, function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n\n      return str;\n    }\n  },\n  methods: {\n    sortBy: function sortBy(key) {\n      this.sortKey = key;\n      this.sortOrders[key] = this.sortOrders[key] * -1;\n    },\n    triggerLoad: function triggerLoad() {\n      __WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  },\n  updated: function updated() {}\n});\n\n/***/ }),\n/* 58 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar pdfjsLib = __webpack_require__(17);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'textlayer',\n  props: {\n    'page': {\n      default: undefined\n    },\n    'viewport': {\n      default: undefined\n    },\n    'renderTimeout': {\n      default: 300,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      matches: [],\n      textDivs: [],\n      selected: {\n        pageIdx: -1,\n        matchIdx: -1\n      },\n      query: ''\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.page) {\n      this.getTextContent(this.page).then(function (textContent) {\n        return _this.onContent(textContent);\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n  },\n  destroyed: function destroyed() {},\n\n  watch: {\n    page: function page() {\n      var _this2 = this;\n\n      if (this.page) {\n        this.getTextContent(this.page).then(function (textContent) {\n          return _this2.onContent(textContent);\n        }).catch(function (err) {\n          return console.error(err);\n        });\n      }\n    },\n    viewport: function viewport() {\n      if (this.textContent) {\n        this.onContent(this.textContent);\n      }\n    }\n  },\n  methods: {\n    getTextContent: function getTextContent(page) {\n      return page.getTextContent({ normalizeWhitespace: true });\n    },\n    onContent: function onContent(textContent) {\n      var _this3 = this;\n\n      var textLayer = this.$refs.textLayer;\n\n\n      this.clearTextLayer();\n\n      this.textContent = textContent;\n\n      this.textDivs = [];\n      var textLayerFrag = document.createDocumentFragment();\n\n      if (this.textLayerRenderTask) {\n        this.textLayerRenderTask.cancel();\n        this.textLayerRenderTask = null;\n      }\n\n      this.textLayerRenderTask = pdfjsLib.renderTextLayer({\n        textContent: textContent,\n        container: textLayerFrag,\n        viewport: this.viewport,\n        textDivs: this.textDivs,\n        timeout: this.renderTimeout\n      });\n\n      this.textLayerRenderTask.promise.then(function () {\n        textLayer.appendChild(textLayerFrag);\n\n        if (_this3.pageMatches) {\n          _this3.matches = _this3.convertMatches(_this3.pageMatches, _this3.pageMatchesLength);\n          _this3.renderMatches(_this3.matches);\n        }\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    },\n    clearTextLayer: function clearTextLayer() {\n      var textLayer = this.$refs.textLayer;\n\n      while (textLayer.firstChild) {\n        textLayer.removeChild(textLayer.firstChild);\n      }\n    },\n    updateTextLayerMatches: function updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.query = query;\n      if (this.textContent) {\n        this.clearMatches();\n        this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n        this.renderMatches(this.matches);\n      }\n    },\n    clearTextLayerMatches: function clearTextLayerMatches() {\n      this.pageMatches = [];\n      this.pageMatchesLength = [];\n      this.query = '';\n      this.clearMatches();\n      this.selected = { pageIdx: -1, matchIdx: -1 };\n      this._sentSelected = false;\n    },\n    selectedMatch: function selectedMatch(pageIdx, matchIdx) {\n      this._sentSelected = false;\n      this.clearMatches();\n      this.selected = { pageIdx: pageIdx, matchIdx: matchIdx };\n      this.renderMatches(this.matches);\n    },\n    renderMatches: function renderMatches(matches) {\n      if (matches.length === 0) {\n        return;\n      }\n\n      var bidiTexts = this.textContent.items;\n      var textDivs = this.textDivs;\n      var prevEnd = null;\n      var pageIdx = this.page.pageIndex;\n      var isSelectedPage = this.selected.pageIdx === pageIdx;\n      var selectedMatchIdx = this.selected.matchIdx || -1;\n      var highlightAll = true;\n      var infinity = {\n        divIdx: -1,\n        offset: undefined\n      };\n\n      function beginText(begin, className) {\n        var divIdx = begin.divIdx;\n        textDivs[divIdx].textContent = '';\n        appendTextToDiv(divIdx, 0, begin.offset, className);\n      }\n\n      function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n        var div = textDivs[divIdx];\n        var content = bidiTexts[divIdx].str.substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n        if (className) {\n          var span = document.createElement('span');\n          span.className = className;\n          span.appendChild(node);\n          div.appendChild(span);\n          return;\n        }\n        div.appendChild(node);\n      }\n\n      var i0 = selectedMatchIdx;\n      var i1 = i0 + 1;\n      if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n      } else if (!isSelectedPage) {\n        return;\n      }\n\n      for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        var isSelected = isSelectedPage && match.matchIdx === selectedMatchIdx;\n        var highlightSuffix = isSelected ? ' selected' : '';\n\n        if (isSelected && !this._sentSelected) {\n          this.$emit('selected', textDivs[begin.divIdx].getBoundingClientRect());\n          this._sentSelected = true;\n        }\n\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n          if (prevEnd !== null) {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n          }\n\n          beginText(begin);\n        } else {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n          appendTextToDiv(begin.divIdx, begin.offset, end.offset, 'highlight' + highlightSuffix);\n        } else {\n          appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, 'highlight begin' + highlightSuffix);\n          for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n            textDivs[n0].className = 'highlight middle' + highlightSuffix;\n          }\n          beginText(end, 'highlight end' + highlightSuffix);\n        }\n        prevEnd = end;\n      }\n\n      if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n      }\n    },\n    convertMatches: function convertMatches(matches, matchesLength) {\n      var i = 0;\n      var iIndex = 0;\n      var bidiTexts = this.textContent.items;\n      var end = bidiTexts.length - 1;\n      var queryLen = this.query ? this.query.length : 0;\n      var ret = [];\n      if (!matches) {\n        return ret;\n      }\n      for (var m = 0, len = matches.length; m < len; m++) {\n        var matchIdx = matches[m];\n\n        while (i !== end && matchIdx >= iIndex + bidiTexts[i].str.length) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        if (i === bidiTexts.length) {\n          console.error('Could not find a matching mapping');\n        }\n\n        var match = {\n          matchIdx: matchIdx,\n          begin: {\n            divIdx: i,\n            offset: matchIdx - iIndex\n          }\n        };\n\n        if (matchesLength) {\n          matchIdx += matchesLength[m];\n        } else {\n          matchIdx += queryLen;\n        }\n\n        while (i !== end && matchIdx > iIndex + bidiTexts[i].str.length) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        match.end = {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        };\n        ret.push(match);\n      }\n\n      return ret;\n    },\n    clearMatches: function clearMatches() {\n      if (!this.textContent) {\n        return;\n      }\n\n      var matches = this.matches;\n      var textDivs = this.textDivs;\n      var bidiTexts = this.textContent.items;\n      var clearedUntilDivIdx = -1;\n\n      for (var i = 0, len = matches.length; i < len; i++) {\n        var match = matches[i];\n        var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n        for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n          var div = textDivs[n];\n          div.textContent = bidiTexts[n].str;\n          div.className = '';\n        }\n        clearedUntilDivIdx = match.end.divIdx + 1;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(100)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(49),\n  /* template */\n  __webpack_require__(128),\n  /* scopeId */\n  \"data-v-0da80b7f\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(107)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(50),\n  /* template */\n  __webpack_require__(135),\n  /* scopeId */\n  \"data-v-633d2fa2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(99)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(51),\n  /* template */\n  __webpack_require__(127),\n  /* scopeId */\n  \"data-v-0b9bd71c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(109)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(52),\n  /* template */\n  __webpack_require__(137),\n  /* scopeId */\n  \"data-v-7afe1999\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(110)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(53),\n  /* template */\n  __webpack_require__(138),\n  /* scopeId */\n  \"data-v-84dcc46e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(101)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(54),\n  /* template */\n  __webpack_require__(129),\n  /* scopeId */\n  \"data-v-2ded1648\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(105)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(55),\n  /* template */\n  __webpack_require__(133),\n  /* scopeId */\n  \"data-v-59fa2e3c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(56),\n  /* template */\n  __webpack_require__(130),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(102)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(57),\n  /* template */\n  __webpack_require__(131),\n  /* scopeId */\n  \"data-v-31beea36\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(104)\n__webpack_require__(103)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(58),\n  /* template */\n  __webpack_require__(132),\n  /* scopeId */\n  \"data-v-448030bb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('ol', _vm._l((_vm.filteredData), function(image) {\n    return _c('li', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onClick', image)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (image.thumbnail),\n        expression: \"image.thumbnail\"\n      }]\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(image.page_label || image.page))])])])\n  }))])\n},staticRenderFns: []}\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"pageWrapper\",\n    class: {\n      loading: _vm.isLoading\n    },\n    style: ({\n      width: (_vm.viewportWidth + \"px\"),\n      height: (_vm.viewportHeight + \"px\")\n    })\n  }, [_c('canvas', {\n    ref: \"canvas\",\n    attrs: {\n      \"width\": (_vm.viewportWidth + \"px\"),\n      \"height\": (_vm.viewportHeight + \"px\")\n    }\n  }), _vm._v(\" \"), _c('textlayer', {\n    ref: \"textLayer\",\n    attrs: {\n      \"page\": _vm.page,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale\n    },\n    on: {\n      \"selected\": _vm.onSelected\n    }\n  }), _vm._v(\" \"), _c('imagelayer', {\n    attrs: {\n      \"images\": _vm.images,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale,\n      \"onImageClicked\": _vm.onImageClicked\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"annotationLayer\"\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": \"search\"\n    }\n  }, [_vm._v(\"\\n    Search \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filterKey),\n      expression: \"filterKey\"\n    }],\n    attrs: {\n      \"name\": \"query\"\n    },\n    domProps: {\n      \"value\": (_vm.filterKey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.filterKey = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('table', [_c('thead', [_c('tr', _vm._l((_vm.columns), function(key) {\n    return _c('th', {\n      class: {\n        active: _vm.sortKey == key\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.sortBy(key)\n        }\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(_vm._f(\"titlecase\")(key)) + \"\\n          \"), _c('span', {\n      staticClass: \"arrow\",\n      class: _vm.sortOrders[key] > 0 ? 'asc' : 'dsc'\n    })])\n  }))]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.filteredData), function(entry) {\n    return _c('tr', [_c('td', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onImageClick', entry)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (entry['thumbnail']),\n        expression: \"entry['thumbnail']\"\n      }]\n    })])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": \"#\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onPageClick', entry.page)\n        }\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['page_label'] || entry['page']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['artwork_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['artwork_title']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['artist_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['artist_name']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['collection_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['collection']) + \"\\n          \")])])])\n  }))])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"textLayer\",\n    staticClass: \"textLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  })\n},staticRenderFns: []}\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"page-wrap\"\n    }\n  }, [_c('header', {\n    attrs: {\n      \"id\": \"menu\"\n    }\n  }, [_c('ul', {\n    attrs: {\n      \"id\": \"nav\"\n    }\n  }, [_c('li', {\n    attrs: {\n      \"id\": \"toc-nav\"\n    }\n  }, [_c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = !_vm.outlineOpen;\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"list-ul\",\n      \"title\": \"Outline\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"search-nav\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    attrs: {\n      \"id\": \"search\",\n      \"name\": \"query\",\n      \"type\": \"search\",\n      \"results\": \"5\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"prevMatch\"\n    },\n    on: {\n      \"click\": _vm.prevMatch\n    }\n  }, [_vm._v(\"‹\")]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('span', {\n    attrs: {\n      \"id\": \"found\"\n    }\n  }, [_vm._v(_vm._s(_vm.currentMatchIndex) + \" of \" + _vm._s(_vm.matchCount))]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"nextMatch\"\n    },\n    on: {\n      \"click\": _vm.nextMatch\n    }\n  }, [_vm._v(\"›\")]) : _vm._e()]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"title-nav\"\n    }\n  }, [_vm._v(_vm._s(_vm.manifest.title) + \": \" + _vm._s(_vm.manifest.subtitle) + \", \" + _vm._s(_vm.manifest.author_as_it_appears))]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"zoom-nav\"\n    }\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomOut\"\n    },\n    on: {\n      \"click\": _vm.zoomOut\n    }\n  }, [_vm._v(\"-\")]), _vm._v(\" \"), (_vm.zoomLevel) ? _c('span', {\n    attrs: {\n      \"id\": \"zoomLevel\"\n    }\n  }, [_vm._v(_vm._s(Math.round(_vm.zoomLevel * 100)) + \"%\")]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"id\": \"zoomIn\"\n    },\n    on: {\n      \"click\": _vm.zoomIn\n    }\n  }, [_vm._v(\"+\")])]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"book-nav\"\n    }\n  }, [_vm._v(\"\\n        Book:\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-single\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(false);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    staticStyle: {\n      \"transform\": \"rotate(180deg) scaleX(-1)\",\n      \"height\": \".95em\"\n    },\n    attrs: {\n      \"name\": \"file-o\",\n      \"title\": \"Single\"\n    }\n  })], 1), _vm._v(\"\\n         |\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-spread\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(true);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"columns\",\n      \"title\": \"Spread\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"artwork-nav\"\n    }\n  }, [_vm._v(\"\\n        Artwork:\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-table\"\n    },\n    on: {\n      \"click\": _vm.toggleTable\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"table\",\n      \"title\": \"Table\"\n    }\n  })], 1), _vm._v(\"\\n         |\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-grid\"\n    },\n    on: {\n      \"click\": _vm.toggleGrid\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"th\",\n      \"title\": \"Grid\"\n    }\n  })], 1)])])]), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('PDF', {\n    ref: \"pdf\",\n    attrs: {\n      \"id\": \"pdf\",\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page,\n      \"width\": this.width,\n      \"height\": this.height,\n      \"spreads\": _vm.spreads,\n      \"onImageClicked\": this.onImageClicked,\n      \"onOutlineReady\": this.onOutlineReady,\n      \"query\": _vm.query,\n      \"zoom\": _vm.zoomLevel\n    },\n    on: {\n      \"loaded\": _vm.loaded,\n      \"pageChanged\": this.onPageChanged,\n      \"found\": this.onFound,\n      \"match\": this.onMatch\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": this.prev\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": this.next\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showGrid || _vm.showTable),\n      expression: \"showGrid || showTable\"\n    }],\n    attrs: {\n      \"id\": \"images\"\n    }\n  }, [_c('grid', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showGrid),\n      expression: \"showGrid\"\n    }],\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"grid\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onClick\": this.onImageSelected\n    }\n  }), _vm._v(\" \"), _c('tablegrid', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTable),\n      expression: \"showTable\"\n    }],\n    ref: \"table\",\n    attrs: {\n      \"id\": \"table\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onImageClick\": this.onImageSelected,\n      \"onPageClick\": this.onPageSelected\n    }\n  })], 1)], 1), _vm._v(\" \"), (_vm.currentDetail) ? _c('section', {\n    attrs: {\n      \"id\": \"detail\"\n    }\n  }, [_c('div', {\n    staticClass: \"image_detail\"\n  }, [(!_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.asset\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.downsampled\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.collection_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.collection))])])]), _vm._v(\" \"), (_vm.currentDetail.artwork_title) ? _c('div', {\n    staticClass: \"image_info\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.currentDetail.artwork_title))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artwork_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artwork_uri))])]), _vm._v(\" \"), (this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    })])]) : _vm._e()\n  }))]) : _vm._e(), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.currentDetail.artist_name))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artist_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artist_uri))])]), _vm._v(\" \"), (this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage && (_vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)] && _vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].indexOf(relatedImage) === -1)) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    })])]) : _vm._e()\n  }))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_view\",\n    on: {\n      \"click\": function($event) {\n        _vm.onPageSelected(_vm.currentDetail.page);\n      }\n    }\n  }, [_vm._v(\"View in Book\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": function($event) {\n        _vm.currentDetail = undefined\n      }\n    }\n  }, [_vm._v(\"Close\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"prevDetail\"\n    },\n    on: {\n      \"click\": this.prevDetail\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"nextDetail\"\n    },\n    on: {\n      \"click\": this.nextDetail\n    }\n  }, [_vm._v(\"›\")])]) : _vm._e(), _vm._v(\" \"), _c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.outlineOpen),\n      expression: \"outlineOpen\"\n    }],\n    attrs: {\n      \"id\": \"outline\"\n    }\n  }, [_c('h2', [_vm._v(\"Outline\")]), _vm._v(\" \"), _c('outline', {\n    attrs: {\n      \"data\": _vm.outline,\n      \"pdf\": _vm.$refs.pdf,\n      \"page\": _vm.displayedPage\n    },\n    on: {\n      \"onClick\": this.goto\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = false\n      }\n    }\n  }, [_vm._v(\"Close\")])], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"imageLayer\",\n    staticClass: \"imageLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  }, _vm._l((_vm.images), function(image) {\n    return _c('div', {\n      staticClass: \"imageLayerItem\",\n      style: ({\n        width: ((image.width) + \"px\"),\n        height: ((image.height) + \"px\"),\n        top: ((image.top-image.height) + \"px\"),\n        left: ((image.left) + \"px\")\n      }),\n      on: {\n        \"click\": function($event) {\n          _vm.handleClick(image)\n        }\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    class: _vm.clazz,\n    style: (_vm.style),\n    attrs: {\n      \"version\": \"1.1\",\n      \"role\": _vm.label ? 'img' : 'presentation',\n      \"aria-label\": _vm.label,\n      \"x\": _vm.x,\n      \"y\": _vm.y,\n      \"width\": _vm.width,\n      \"height\": _vm.height,\n      \"viewBox\": _vm.box\n    }\n  }, [_vm._t(\"default\", [(_vm.icon && _vm.icon.paths) ? _vm._l((_vm.icon.paths), function(path) {\n    return _c('path', _vm._b({}, 'path', path))\n  }) : _vm._e(), _vm._v(\" \"), (_vm.icon && _vm.icon.polygons) ? _vm._l((_vm.icon.polygons), function(polygon) {\n    return _c('polygon', _vm._b({}, 'polygon', polygon))\n  }) : _vm._e(), _vm._v(\"\\b\\n    \"), (_vm.icon && _vm.icon.raw) ? [_c('g', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.icon.raw)\n    }\n  })] : _vm._e()])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.pageList), function(item) {\n    return _c('li', [_c('a', {\n      staticClass: \"outline_link\",\n      class: {\n        active: item === _vm.activeItem\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleLink(item)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(item.title || '') + \"\\n      \"), (item.items.length) ? _c('outline', {\n      attrs: {\n        \"data\": item.items\n      },\n      on: {\n        \"onClick\": _vm.handleLink\n      }\n    }) : _vm._e()], 1)])\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: 'container',\n    staticClass: \"pageContainer\",\n    class: {\n      loading: _vm.isLoading, centered: (!_vm.spreads || _vm.zoom <= 1)\n    },\n    style: ({\n      width: (_vm.width + \"px\"),\n      height: ((_vm.height ? _vm.height : _vm.viewportHeight) + \"px\")\n    })\n  }, [_vm._l((_vm.displayedPages), function(page) {\n    return _c('div', {\n      key: page.pageIndex,\n      staticClass: \"page\"\n    }, [_c('page', {\n      ref: 'page_' + page.pageIndex,\n      refInFor: true,\n      attrs: {\n        \"page\": page,\n        \"width\": _vm.spreads ? _vm.width / 2 : _vm.width,\n        \"height\": _vm.height,\n        \"scale\": _vm.zoom,\n        \"onViewport\": _vm.handleViewport,\n        \"onImageClicked\": _vm.onImageClicked,\n        \"onSelected\": _vm.onSelected\n      },\n      on: {\n        \"displayed\": _vm.afterDisplayed\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('search', {\n    attrs: {\n      \"pdfDocument\": _vm.pdfDocument,\n      \"query\": _vm.query\n    },\n    on: {\n      \"matched\": this.onMatched,\n      \"found\": this.onFound\n    }\n  })], 2)\n},staticRenderFns: []}\n\n/***/ })\n],[46]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e24ff3bad61014b70f8d.js","\n/* styles */\nrequire(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6888a9df\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./Icon.vue\")\n\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./Icon.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6888a9df\\\"}!../../vue-loader/lib/selector?type=template&index=0!./Icon.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-awesome/components/Icon.vue\n// module id = 5\n// module chunks = 2","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Main',\n      component: Main\n    },\n    {\n      path: '/books/:book/editions/:edition',\n      name: 'Manifest',\n      component: Main\n    },\n    {\n      path: '/books/:book/editions/:edition/images/:image',\n      name: 'ImageLink',\n      component: Main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-626c8dc1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-626c8dc1\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 44\n// module chunks = 2","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <svg version=\"1.1\" :class=\"clazz\" :role=\"label ? 'img' : 'presentation'\" :aria-label=\"label\" :x=\"x\" :y=\"y\" :width=\"width\" :height=\"height\" :viewBox=\"box\" :style=\"style\">\n    <slot>\n      <template v-if=\"icon && icon.paths\">\n        <path v-for=\"path in icon.paths\" v-bind=\"path\"/>\n      </template>\n      <template v-if=\"icon && icon.polygons\">\n        <polygon v-for=\"polygon in icon.polygons\" v-bind=\"polygon\"/>\n      </template>\b\n      <template v-if=\"icon && icon.raw\"><g v-html=\"icon.raw\"></g></template>\n    </slot>\n  </svg>\n</template>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\nimport Vue from 'vue'\n\nlet icons = {}\n\nexport default {\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator (val) {\n        if (val) {\n          if (!(val in icons)) {\n            Vue.util.warn(`Invalid prop: prop \"icon\" is referring to an unregistered icon \"${val}\".` +\n              `\\nPlesase make sure you have imported this icon before using it.`, this)\n            return false\n          }\n          return true\n        }\n        return null\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    flip: {\n      validator (val) {\n        return val === 'horizontal' || val === 'vertical'\n      }\n    },\n    label: String\n  },\n  data () {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    }\n  },\n  computed: {\n    normalizedScale () {\n      let scale = this.scale\n      scale = typeof scale === 'undefined' ? 1 : Number(scale)\n      if (isNaN(scale) || scale <= 0) {\n        Vue.util.warn(`Invalid prop: prop \"scale\" should be a number over 0.`, this)\n        return this.outerScale\n      }\n      return scale * this.outerScale\n    },\n    clazz () {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse\n      }\n    },\n    icon () {\n      if (this.name) {\n        return icons[this.name]\n      }\n      return null\n    },\n    box () {\n      if (this.icon) {\n        return `0 0 ${this.icon.width} ${this.icon.height}`\n      }\n      return `0 0 ${this.width} ${this.height}`\n    },\n    ratio () {\n      if (!this.icon) {\n        return 1\n      }\n      let { width, height } = this.icon\n      return Math.max(width, height) / 16\n    },\n    width () {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0\n    },\n    height () {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0\n    },\n    style () {\n      if (this.normalizedScale === 1) {\n        return false\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      }\n    }\n  },\n  mounted () {\n    if (this.icon) {\n      return\n    }\n    this.$children.forEach(child => {\n      child.outerScale = this.normalizedScale\n    })\n    let width = 0\n    let height = 0\n    this.$children.forEach(child => {\n      width = Math.max(width, child.width)\n      height = Math.max(height, child.height)\n    })\n    this.childrenWidth = width\n    this.childrenHeight = height\n    this.$children.forEach(child => {\n      child.x = (width - child.width) / 2\n      child.y = (height - child.height) / 2\n    })\n  },\n  register (data) {\n    for (let name in data) {\n      let icon = data[name]\n\n      if (!icon.paths) {\n        icon.paths = []\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d })\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = []\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points })\n      }\n\n      icons[name] = icon\n    }\n  },\n  icons\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Icon.vue?8a3472bc","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\nbody {\n  margin: 0;\n  padding: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?06535e7f","<template>\n  <div>\n    <ol>\n      <li v-for=\"image in filteredData\">\n        <a class=\"img_link\" @click=\"$emit('onClick', image)\">\n          <img v-lazy=\"image.thumbnail\" />\n          <span>{{ image.page_label || image.page }}</span>\n        </a>\n      </li>\n    </ol>\n  </div>\n</template>\n\n<script>\nimport VueLazyload from 'vue-lazyload'\nimport Vue from 'vue'\n\nVue.use(VueLazyload);\n\nexport default {\n  name: 'grid',\n  components: {\n\n  },\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data () {\n    var sortOrders = {}\n    this.columns = ['thumbnail'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1\n    })\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n      // searchQuery: '',\n      gridColumns: []\n    }\n  },\n  computed: {\n    filteredData: function () {\n      var sortKey = this.sortKey\n      var filterKey = this.filterKey && this.filterKey.toLowerCase()\n      var order = this.sortOrders[sortKey] || 1\n      var data = this.data\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return Object.keys(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1\n          })\n        })\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey]\n          b = b[sortKey]\n          return (a === b ? 0 : a > b ? 1 : -1) * order\n        })\n      }\n      return data\n    }\n  },\n  methods: {\n    sortBy: function (key) {\n      this.sortKey = key\n      this.sortOrders[key] = this.sortOrders[key] * -1\n    },\n    triggerLoad: function () {\n      Vue.nextTick(this.$Lazyload.lazyLoadHandler)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.arrow {\n  display: inline-block;\n  vertical-align: middle;\n  width: 0;\n  height: 0;\n  margin-left: 5px;\n  opacity: 0.66;\n}\n\n.arrow.asc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid #fff;\n}\n\n.arrow.dsc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid #fff;\n}\n\n.img_link {\n  cursor: pointer;\n  display: inline-block;\n  margin: 8px;\n}\n\n.img_link:hover {\n  opacity: 0.8;\n}\n\n.img_link:active {\n  opacity: 0.5;\n}\n\n.img_link img {\n  max-width: 100px;\n  max-height: 100px;\n  display: block;\n}\n\n.img_link span {\n  display: block;\n  text-align: center;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Grid.vue?3814e13a","<template>\n  <div ref=\"imageLayer\"\n        :style=\"{ width: `${viewport ? viewport.width : 0}px`, height: `${viewport ? viewport.height : 0}px` }\"\n        class=\"imageLayer\">\n    <div v-for=\"image in images\" class=\"imageLayerItem\"\n         :style=\"{ width: `${image.width}px`, height: `${image.height}px`, top: `${image.top-image.height}px`, left: `${image.left}px`}\"\n         @click=\"handleClick(image)\">\n\n    </div>\n  </div>\n</template>\n\n\n<script>\n// const pdfjsLib = require('pdfjs-dist');\n// pdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'imagelayer',\n  props: {\n    'images': {\n      default: [],\n      type: Array\n    },\n    'viewport': {\n      default: undefined,\n      type: Object\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    }\n  },\n  data () {\n    return {\n\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.images) {\n      // console.log('images', this.images);\n    }\n  },\n  watch: {\n    images () {\n      if (this.images) {\n        // console.log('images', this.images);\n      }\n    }\n  },\n  methods: {\n    handleClick (image) {\n      if (this.onImageClicked) {\n        this.onImageClicked(image);\n      }\n      this.$emit('imageClicked', image);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.imageLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  pointer-events: none;\n}\n.imageLayerItem {\n  position: absolute;\n  pointer-events: all;\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ImageLayer.vue?47601ea0","<template>\n  <Reader :manifest-url=\"url\" />\n</template>\n\n<script>\nimport Reader from '@/components/Reader'\n\nexport default {\n  name: 'main',\n  components: {\n    'Reader': Reader\n  },\n  data () {\n    console.log(this.$route.params.book, this.$route.params.edition);\n    return {\n      url: `https://s3.amazonaws.com/pubs-fchasen/books/${this.$route.params.book || 711}/editions/${this.$route.params.edition || 884}/manifest.json`\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Main.vue?1a806edb","<template>\n  <ul>\n    <li v-for=\"item in pageList\">\n      <a class=\"outline_link\" :class=\"{ active: item === activeItem }\" @click=\"handleLink(item)\">\n        {{ item.title || '' }}\n        <outline v-if=\"item.items.length\" :data=\"item.items\" @onClick=\"handleLink\"/>\n      </a>\n    </li>\n  </ul>\n</template>\n\n<script>\n\nexport default {\n  name: 'outline',\n  components: {\n\n  },\n  props: {\n    'data': {\n      type: Array\n    },\n    'page': {\n      type: Number,\n      default: undefined\n    },\n    'pdf': {\n      type: Object,\n      default: undefined\n    }\n  },\n  data () {\n    return {\n      pageList: [],\n      activeItem: undefined\n    };\n  },\n  mounted () {\n    if (this.data) {\n      this.processData();\n    }\n  },\n  methods: {\n    processData () {\n      this.pageList = [];\n      this.data.forEach((item, i) => {\n        let li = Object.assign({}, item);\n        this.pageList.push(li);\n        this.pdf.getPageIndex(item.dest[0]).then((pg) => {\n          li.page = pg;\n\n          if (i === this.data.length - 1) {\n            this.checkActive();\n          }\n        });\n      });\n    },\n    handleLink (item) {\n      this.$emit('onClick', item.dest);\n    },\n    checkActive () {\n      for (let item of this.pageList) {\n        if (item.page > this.page) {\n          break;\n        } else {\n          this.activeItem = item;\n        }\n      }\n    }\n  },\n  watch: {\n    data () {\n      this.processData();\n    },\n    page () {\n      this.checkActive();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\nul {\n  border-top: 1px solid #ccc;\n  padding: 40px;\n}\n\nli {\n  margin: 12px;\n}\n\nli a {\n  cursor: pointer;\n  color: #eee;\n}\n\nli a:active, li a.active {\n  color: #fff;\n  text-decoration: underline;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Outline.vue?2cff5442","<template>\n  <div :ref=\"'container'\" class=\"pageContainer\" :class=\"{ loading: isLoading, centered: (!spreads || zoom <= 1) }\" :style=\"{ width: `${width}px`, height: `${height ? height : viewportHeight }px` }\" >\n    <div class=\"page\" v-for=\"page in displayedPages\" :key=\"page.pageIndex\">\n      <page\n        :ref=\"'page_'+page.pageIndex\"\n        :page=\"page\"\n        :width=\"spreads ? width / 2 : width\"\n        :height=\"height\"\n        :scale=\"zoom\"\n        :onViewport=\"handleViewport\"\n        :onImageClicked=\"onImageClicked\"\n        :onSelected=\"onSelected\"\n        @displayed=\"afterDisplayed\"\n      />\n    </div>\n    <search :pdfDocument=\"pdfDocument\" :query=\"query\" @matched=\"this.onMatched\" @found=\"this.onFound\"/>\n  </div>\n</template>\n\n<script>\nimport Page from '@/components/Page'\nimport Search from '@/components/Search'\n\nconst pdfjsLib = require('pdfjs-dist');\n// require('pdfjs-dist/lib/shared/compatibility.js');\n\npdfjsLib.PDFJS.workerSrc = 'static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'pdf',\n  components: {\n    'Page': Page,\n    'Search': Search\n  },\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number,\n      default: undefined\n    },\n    'height': {\n      type: Number,\n      default: undefined\n    },\n    'page': {\n      default: 0,\n      type: Number\n    },\n    'spreads': {\n      default: true,\n      type: Boolean\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onOutlineReady': {\n      default: undefined,\n      type: Function\n    },\n    'query': {\n      default: undefined,\n      type: String\n    },\n    'zoom': {\n      default: 1,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      pdfDocument: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      displayedPage: 0,\n      displayedPages: [],\n      displayedPagesNumbers: [],\n      outline: undefined,\n      pageMatchesLength: [],\n      pageMatches: [],\n      matched: [],\n      selectedMatch: {}\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.src) {\n      this.loadDocument(this.src)\n        .then(() => this.display(this.page))\n        .catch((err) => console.error(err));\n    }\n  },\n  watch: {\n    src () {\n      if (this.src) {\n        this.loadDocument(this.src)\n          .then(() => this.display(this.page))\n          .catch((err) => console.error(err));\n      }\n    },\n    page (pg) {\n      if (typeof this.page !== 'undefined' && this.page > -1) {\n        this.display(this.page);\n      }\n    },\n    spreads (spreads) {\n      if (typeof this.displayedPage !== 'undefined') {\n        this.display(this.displayedPage);\n      }\n    },\n    displayedPage () {\n      this.$emit('pageChanged', this.displayedPagesNumbers);\n    },\n    query () {\n      if (this.query === '') {\n        // this.findController.executeCommand('find', {query: this.query});\n        this.clearMatches();\n      }\n    },\n    zoom () {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      this.scrollLeftDelta = (container.scrollLeft - ((container.scrollWidth - bounds.width) / 2));\n      this.scrollTopDelta = (container.scrollTop - ((container.scrollHeight - bounds.height) / 2));\n    }\n  },\n  methods: {\n    loadDocument (src) {\n      console.log('src', src);\n      return pdfjsLib.getDocument(src)\n        .then((pdfDocument) => {\n          // Document loaded, retrieving the page.\n          var pagesCount = pdfDocument.numPages;\n          // var noCover = settings.cover === false;\n          this.numPages = pagesCount;\n\n          this.pdfDocument = pdfDocument;\n\n          this.$emit('loaded', pdfDocument);\n\n          this.outline = pdfDocument.getOutline().then((outline) => {\n            return this.processOutline(outline);\n          });\n        })\n        .catch((err) => console.error(err));\n    },\n    display (page = this.page) {\n      this.displayedPages = []; // clear\n\n      if (page < 0) {\n        return;\n      }\n\n      if (this.spreads) {\n        if (page % 2 !== 0 || page === 0) {\n          this.displayedPage = page;\n        } else {\n          this.displayedPage = page - 1;\n        }\n\n        if (this.displayedPage > 0) {\n          this.loadPage(this.displayedPage) // left\n          this.loadPage(this.displayedPage + 1)  // right\n          this.displayedPagesNumbers = [this.displayedPage, this.displayedPage + 1];\n        } else {\n          this.loadPage(this.displayedPage) // cover\n          this.displayedPagesNumbers = [this.displayedPage];\n        }\n      } else {\n        this.displayedPage = page;\n        this.loadPage(this.displayedPage);\n\n        this.displayedPagesNumbers = [this.displayedPage];\n      }\n    },\n    next () {\n      if (this.displayedPage === 0) {\n        this.displayedPage += 1;\n      } else {\n        this.displayedPage += this.spreads ? 2 : 1;\n      }\n      if (this.displayedPage < this.numPages) {\n        this.display(this.displayedPage);\n      } else {\n        this.displayedPage = this.numPages - (this.spreads ? 2 : 1);\n      }\n    },\n    prev () {\n      if (this.displayedPage > 0) {\n        if (this.displayedPage === 1) {\n          this.displayedPage -= 1;\n        } else {\n          this.displayedPage -= this.spreads ? 2 : 1;\n        }\n        this.display(this.displayedPage);\n      }\n    },\n    loadPage (pageIndex) {\n      const { pdfDocument } = this;\n\n      if (!pdfDocument) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      let pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdfDocument.numPages) {\n        pageNumber = pdfDocument.numPages;\n      }\n\n      return pdfDocument.getPage(pageNumber)\n        .then((page) => this.onPageLoad(page))\n        .catch((page) => this.onPageError(page));\n    },\n    onPageLoad (page) {\n      if (!this.displayedPagesNumbers.includes(page.pageIndex)) {\n        return;\n      }\n\n      this.displayedPages.push(page);\n\n      this.$nextTick(() => {\n        let pg = this.$refs[`page_${page.pageIndex}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n        pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n      });\n    },\n    afterDisplayed () {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      container.scrollLeft = (container.scrollWidth - bounds.width) / 2 + this.scrollLeftDelta;\n      container.scrollTop = (container.scrollHeight - bounds.height) / 2 + this.scrollTopDelta;\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    handleViewport (viewport) {\n      this.viewportWidth = viewport.width;\n      this.viewportHeight = viewport.height;\n    },\n    processOutline (outline) {\n      this.onOutlineReady && this.onOutlineReady(outline);\n      return outline;\n    },\n    getPageIndex (dest) {\n      return this.pdfDocument.getPageIndex(dest);\n    },\n    onMatched (matched, pageMatches, pageMatchesLength, count) {\n      // per page\n    },\n    onFound (query, matched, pageMatches, pageMatchesLength, count) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.matched = matched;\n      this.$emit('found', count);\n      if (this.matched && this.matched.length) {\n        this.currentMatchIndex = 0;\n        this.selectedMatch = this.matched[this.currentMatchIndex];\n        this.$emit('match', this.currentMatchIndex);\n\n        if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n          this.display(this.selectedMatch.pageIdx);\n        } else {\n          let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n          pg.updatedSelectedMatch(this.selectedMatch);\n          pg.updateTextLayerMatches(this.query, this.pageMatches, this.pageMatchesLength);\n        }\n      }\n    },\n    onSelected (selected) {\n      let container = this.$refs.container;\n      let bounds = container.getBoundingClientRect();\n      container.scrollLeft = bounds.left + selected.left;\n      container.scrollTop = bounds.top + selected.top;\n    },\n    clearMatches () {\n      this.displayedPagesNumbers.forEach((pageIndex) => {\n        let pg = this.$refs[`page_${pageIndex}`][0];\n        pg.updateTextLayerMatches('', [], null);\n      });\n    },\n    nextMatch () {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex < this.matched.length - 1) {\n        this.currentMatchIndex += 1;\n      } else {\n        this.currentMatchIndex = 0;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    },\n    prevMatch () {\n      if (!this.matched || this.matched.length === 0) {\n        return;\n      }\n\n      if (this.currentMatchIndex > 0) {\n        this.currentMatchIndex -= 1;\n      } else {\n        this.currentMatchIndex = this.matched.length - 1;\n      }\n\n      this.selectedMatch = this.matched[this.currentMatchIndex];\n      this.$emit('match', this.currentMatchIndex);\n\n      if (!this.displayedPagesNumbers.includes(this.selectedMatch.pageIdx)) {\n        this.display(this.selectedMatch.pageIdx);\n      } else {\n        let pg = this.$refs[`page_${this.selectedMatch.pageIdx}`][0];\n        pg.updatedSelectedMatch(this.selectedMatch);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading {\n  /*background: #eee url('../assets/loading-icon.gif') center no-repeat;*/\n}\n\n.pageContainer {\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow: auto;\n}\n\n.pageContainer.centered {\n  justify-content: center;\n  align-items: center;\n}\n\n.page {\n  flex: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PDF.vue?d12169b8","<template>\n  <div class=\"pageWrapper\" :class=\"{ loading: isLoading }\" :style=\"{ width: `${viewportWidth}px`, height: `${viewportHeight}px` }\">\n    <canvas ref=\"canvas\" :width=\"`${viewportWidth}px`\" :height=\"`${viewportHeight}px`\"/>\n    <textlayer :page=\"page\" :viewport=\"viewport\" :scale=\"scale\" @selected=\"onSelected\" ref=\"textLayer\"></textlayer>\n    <imagelayer :images=\"images\" :viewport=\"viewport\" :scale=\"scale\" :onImageClicked=\"onImageClicked\"></imagelayer>\n    <div ref=\"annotationLayer\"></div>\n  </div>\n</template>\n\n<script>\nimport TextLayer from '@/components/TextLayer'\nimport ImageLayer from '@/components/ImageLayer'\n\nconst pdfjsLib = require('pdfjs-dist');\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'page',\n  components: {\n    'textlayer': TextLayer,\n    'imagelayer': ImageLayer\n  },\n  props: {\n    'scale': {\n      default: 1,\n      type: Number\n    },\n    'rotate': {\n      default: undefined,\n      type: Number\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      type: Number\n    },\n    'page': {\n      default: undefined,\n      type: Object\n    },\n    'onViewport': {\n      default: undefined,\n      type: Function\n    },\n    'onImageClicked': {\n      default: undefined,\n      type: Function\n    },\n    'onSelected': {\n      default: undefined,\n      type: Function\n    }\n    // 'pageMatchesLength': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'pageMatches': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'selectedMatch': {\n    //   default: undefined,\n    //   type: Object\n    // },\n    // 'query': {\n    //   default: undefined,\n    //   type: String\n    // }\n  },\n  data () {\n    return {\n      pdf: undefined,\n      isLoading: true,\n      viewportWidth: 0,\n      viewportHeight: 0,\n      viewportScale: 1,\n      viewport: undefined,\n      textContent: undefined,\n      images: [],\n      pageIndex: undefined\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.page) {\n      this.displayPage(this.page);\n    }\n\n    // if (this.pageMatches && this.pageMatchesLength) {\n    //   // For some reason changes to the array isn't picked up, so sent as an object.\n    //   const {pageMatches} = this.pageMatches;\n    //   const {pageMatchesLength} = this.pageMatchesLength;\n    //\n    //   if (this.pageIndex in pageMatches) {\n    //     this.$refs.textLayer.updateTextLayerMatches(this.query, pageMatchesLength ? pageMatchesLength[this.pageIndex] : null, pageMatches[this.pageIndex]);\n    //   } else {\n    //     this.$refs.textLayer.clearTextLayerMatches();\n    //   }\n    // }\n    //\n    // if (this.pageIndex === this.selectedMatch.pageIdx) {\n    //   this.$refs.textLayer.selectedMatch(this.selectedMatch.pageIdx, this.selectedMatch.matchIdx);\n    // }\n  },\n  watch: {\n    page () {\n      if (this.page) {\n        this.displayPage(this.page);\n      }\n    },\n    scale () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    width () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    height () {\n      if (this.displaying) {\n        return;\n      }\n      if (typeof this.scale !== 'undefined') {\n        this.displayPage(this.page);\n      }\n    },\n    pageMatches () {\n      // if (this.pageMatches && this.pageMatchesLength) {\n      //   // For some reason changes to the array isn't picked up, so sent as an object.\n      //   const {pageMatches} = this.pageMatches;\n      //   const {pageMatchesLength} = this.pageMatchesLength;\n      //\n      //   if (this.pageIndex in pageMatches) {\n      //     this.$refs.textLayer.updateTextLayerMatches(this.query, pageMatchesLength ? pageMatchesLength[this.pageIndex] : null, pageMatches[this.pageIndex]);\n      //   } else {\n      //     this.$refs.textLayer.clearTextLayerMatches();\n      //   }\n      // }\n    }\n    // selectedMatch () {\n    //   if (this.pageIndex === this.selectedMatch.pageIdx) {\n    //     this.$refs.textLayer.selectedMatch(this.selectedMatch.pageIdx, this.selectedMatch.matchIdx);\n    //   }\n    // }\n  },\n  methods: {\n    getPageScale (page = this.page) {\n      const { scale, width, height } = this;\n\n      // Be default, we'll render page at 100% * scale width.\n      let pageScale = 1;\n\n      // If width is defined, calculate the scale of the page so it could be of desired width.\n      if (width < height) {\n        pageScale = width / page.getViewport(scale).width;\n      } else {\n        pageScale = height / page.getViewport(scale).height;\n      }\n\n      // console.log('pageScale', pageScale, width, height);\n\n      return scale * pageScale;\n    },\n    displayPage (page) {\n      // const scale = this.getPageScale(page);\n      const { canvas } = this.$refs;\n      const canvasContext = canvas.getContext('2d');\n      const { scale } = this;\n      const scaled = scale !== 1 ? scale : this.getPageScale(page);\n      const viewport = page.getViewport(scaled);\n      let images = this.images;\n      let imageCount = 0;\n      const imageLayer = {\n        beginLayout () { },\n        endLayout () { },\n        appendImage (i) {\n          i.page = page.pageIndex;\n          i.index = imageCount;\n          images.push(i);\n          imageCount++;\n        }\n      };\n\n      this.pageIndex = page.pageIndex;\n      this.viewport = viewport;\n      this.viewportScale = scale;\n      this.viewportHeight = viewport.height;\n      this.viewportWidth = viewport.width;\n\n      this.onViewport && this.onViewport(viewport);\n\n      this.displaying = true;\n      page.render({ canvasContext, viewport, imageLayer })\n        .then(() => {\n          this.$emit('displayed', this);\n          this.displaying = false;\n        })\n        .catch((err) => console.error(err));\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    updateTextLayerMatches (query, pageMatches, pageMatchesLength) {\n      this.query = query;\n      this.pageMatchesLength = pageMatchesLength;\n      this.pageMatches = pageMatches;\n\n      if (pageMatches && pageMatches.length > this.pageIndex) {\n        this.$refs.textLayer.updateTextLayerMatches(query, pageMatches[this.pageIndex], pageMatchesLength ? pageMatchesLength[this.pageIndex] : null);\n      } else {\n        this.$refs.textLayer.clearTextLayerMatches();\n      }\n    },\n    updatedSelectedMatch (selectedMatch) {\n      this.selectedMatch = selectedMatch;\n      if (this.pageIndex === selectedMatch.pageIdx) {\n        this.$refs.textLayer.selectedMatch(selectedMatch.pageIdx, selectedMatch.matchIdx);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading {\n  /*background: #eee url('../assets/loading-icon.gif') center no-repeat;*/\n}\ncanvas {\n  /*background-color: #eee;*/\n}\n\n.pageWrapper {\n  direction: ltr;\n  position: relative;\n  overflow: visible;\n  margin: 0 auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Page.vue?0c8f858d","<template>\n  <div id=\"page-wrap\">\n    <header id=\"menu\">\n      <ul id=\"nav\">\n        <li id=\"toc-nav\">\n          <a @click=\"outlineOpen = !outlineOpen; showGrid = false; showTable = false;\"><icon name=\"list-ul\" title=\"Outline\"></icon></a>\n        </li>\n        <li id=\"search-nav\">\n          <input id=\"search\" name=\"query\" v-model=\"query\" type=\"search\" results=\"5\">\n          <a id=\"prevMatch\" @click=\"prevMatch\" v-if=\"matchCount\">‹</a>\n          <span id=\"found\" v-if=\"matchCount\">{{currentMatchIndex}} of {{matchCount}}</span>\n          <a id=\"nextMatch\" @click=\"nextMatch\" v-if=\"matchCount\">›</a>\n          <!-- <icon name=\"search\" title=\"Search\"></icon> -->\n        </li>\n        <li id=\"title-nav\">{{manifest.title}}: {{manifest.subtitle}}, {{manifest.author_as_it_appears}}</li>\n        <li id=\"zoom-nav\">\n          <a id=\"zoomOut\" @click=\"zoomOut\">-</a>\n          <span id=\"zoomLevel\" v-if=\"zoomLevel\">{{Math.round(zoomLevel * 100)}}%</span>\n          <a id=\"zoomIn\" @click=\"zoomIn\">+</a>\n        </li>\n        <li id=\"book-nav\">\n          Book:\n          <a id=\"artwork-nav-single\" @click=\"setSpreads(false); showGrid = false; showTable = false;\"><icon name=\"file-o\" title=\"Single\" style=\"transform: rotate(180deg) scaleX(-1); height: .95em\"></icon></a>\n           |\n          <a id=\"artwork-nav-spread\" @click=\"setSpreads(true); showGrid = false; showTable = false;\"><icon name=\"columns\" title=\"Spread\"></icon></a>\n        </li>\n        <li id=\"artwork-nav\">\n          Artwork:\n          <a id=\"artwork-nav-table\" @click=\"toggleTable\"><icon name=\"table\" title=\"Table\"></icon></a>\n           |\n          <a id=\"artwork-nav-grid\" @click=\"toggleGrid\"><icon name=\"th\" title=\"Grid\"></icon></a>\n        </li>\n      </ul>\n    </header>\n    <section id=\"main\">\n      <PDF id=\"pdf\" ref=\"pdf\"\n          :src=\"this.manifest.pdf\"\n          :page=\"page\"\n          @loaded=\"loaded\"\n          :width=\"this.width\"\n          :height=\"this.height\"\n          :spreads=\"spreads\"\n          :onImageClicked=\"this.onImageClicked\"\n          :onOutlineReady=\"this.onOutlineReady\"\n          @pageChanged=\"this.onPageChanged\"\n          @found=\"this.onFound\"\n          @match=\"this.onMatch\"\n          :query=\"query\"\n          :zoom=\"zoomLevel\"\n        />\n      <div id=\"prev\" class=\"arrow\" @click=\"this.prev\">‹</div>\n      <div id=\"next\" class=\"arrow\" @click=\"this.next\">›</div>\n      <div id=\"images\" v-show=\"showGrid || showTable\">\n        <grid id=\"grid\" ref=\"grid\" v-show=\"showGrid\" :data=\"images\" @onClick=\"this.onImageSelected\" />\n        <tablegrid id=\"table\" ref=\"table\" v-show=\"showTable\" :data=\"images\" @onImageClick=\"this.onImageSelected\" @onPageClick=\"this.onPageSelected\" />\n      </div>\n    </section>\n    <section id=\"detail\" v-if=\"currentDetail\">\n      <div class=\"image_detail\">\n        <img :src=\"currentDetail.asset\" v-if=\"!currentDetail.copyright\" />\n        <img :src=\"currentDetail.downsampled\" v-if=\"currentDetail.copyright\" />\n        <p><a :href=\"currentDetail.collection_uri\">{{currentDetail.collection}}</a></p>\n      </div>\n      <div class=\"image_info\" v-if=\"currentDetail.artwork_title\">\n        <h1>{{currentDetail.artwork_title}}</h1>\n\n        <h4><a :href=\"currentDetail.artwork_uri\">{{currentDetail.artwork_uri}}</a></h4>\n        <aside v-if=\"this.imagesByArtwork[encodeURI(currentDetail.artwork_title)].length > 1\">\n          <h5>Also in this book</h5>\n          <ul class=\"related_images\">\n            <li v-for=\"relatedImage in this.imagesByArtwork[encodeURI(currentDetail.artwork_title)]\" v-if=\"currentDetail != relatedImage\">\n              <a class=\"related_img_link\" @click=\"currentDetail = relatedImage\">\n                <img :src=\"relatedImage.thumbnail\" />\n              </a>\n            </li>\n          </ul>\n        </aside>\n\n        <h2>{{currentDetail.artist_name}}</h2>\n        <h4><a :href=\"currentDetail.artist_uri\">{{currentDetail.artist_uri}}</a></h4>\n        <aside v-if=\"this.imagesByArtist[encodeURI(currentDetail.artist_name)].length > 1\">\n          <h5>Also in this book</h5>\n          <ul class=\"related_images\">\n            <li v-for=\"relatedImage in this.imagesByArtist[encodeURI(currentDetail.artist_name)]\"\n                v-if=\"currentDetail != relatedImage && (imagesByArtwork[encodeURI(currentDetail.artwork_title)] && imagesByArtwork[encodeURI(currentDetail.artwork_title)].indexOf(relatedImage) === -1)\">\n              <a class=\"related_img_link\" @click=\"currentDetail = relatedImage\">\n                <img :src=\"relatedImage.thumbnail\" />\n              </a>\n            </li>\n          </ul>\n        </aside>\n\n      </div>\n      <a class=\"detail_view\" @click=\"onPageSelected(currentDetail.page);\">View in Book</a>\n      <a class=\"detail_close\" @click=\"currentDetail = undefined\">Close</a>\n      <div id=\"prevDetail\" class=\"detail_arrow\" @click=\"this.prevDetail\">‹</div>\n      <div id=\"nextDetail\" class=\"detail_arrow\" @click=\"this.nextDetail\">›</div>\n    </section>\n    <section id=\"outline\" v-show=\"outlineOpen\">\n      <h2>Outline</h2>\n      <outline :data=\"outline\" :pdf=\"$refs.pdf\" :page=\"displayedPage\" @onClick=\"this.goto\"/>\n      <a class=\"detail_close\" @click=\"outlineOpen = false\">Close</a>\n    </section>\n  </div>\n</template>\n\n<script>\nimport PDF from '@/components/PDF'\nimport Table from '@/components/Table'\nimport Grid from '@/components/Grid'\nimport Outline from '@/components/Outline'\nimport 'whatwg-fetch'\n\n// Icons\nimport 'vue-awesome/icons/list-ul'\nimport 'vue-awesome/icons/search'\nimport 'vue-awesome/icons/columns'\nimport 'vue-awesome/icons/file-o'\nimport 'vue-awesome/icons/table'\nimport 'vue-awesome/icons/th'\nimport Icon from 'vue-awesome/components/Icon'\n\nexport default {\n  name: 'reader',\n  components: {\n    'PDF': PDF,\n    'grid': Grid,\n    'tablegrid': Table,\n    'icon': Icon,\n    'outline': Outline\n  },\n  props: ['manifest-url'],\n  data () {\n    let bounds = this.getBounds();\n\n    return {\n      manifest: {},\n      images: [],\n      imagesById: {},\n      imagesByArtwork: {},\n      imagesByArtist: {},\n      imagesByCollection: {},\n      page: 0,\n      displayedPage: 0,\n      spreads: true,\n      showTable: false,\n      showGrid: false,\n      currentDetail: undefined,\n      width: bounds.width,\n      height: bounds.height,\n      outline: undefined,\n      outlineOpen: false,\n      query: '',\n      matchCount: undefined,\n      currentMatchIndex: undefined,\n      zoomLevel: 1.0\n    }\n  },\n  created () {\n    this.fetchManifest();\n    window.addEventListener('keyup', this.keyListener.bind(this), false);\n    window.addEventListener('resize', this.handleResize.bind(this), false);\n  },\n  beforeDestory () {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keyup', this.keyListener);\n  },\n  watch: {\n    showTable () {\n      const { table } = this.$refs;\n      table.triggerLoad();\n    },\n    showGrid () {\n      const { grid } = this.$refs;\n      grid.triggerLoad();\n    }\n  },\n  methods: {\n    fetchManifest () {\n      return fetch(this.manifestUrl)\n        .then((response) => {\n          return response.json()\n        })\n        .then((manifest) => {\n          this.manifest = manifest;\n        })\n        .catch((err) => console.error(err));\n    },\n    loaded (pdfDocument) {\n      this.pdfDocument = pdfDocument;\n      // Wait for PDF to load\n      this.images = this.manifest.images;\n\n      this.images.forEach((image) => {\n        this.imagesById[`img_p${image.page - 1}_${image.location}`] = image;\n\n        if (image.artwork_title) {\n          let artworkUri = encodeURI(image.artwork_title);\n          if (!this.imagesByArtwork[artworkUri]) {\n            this.imagesByArtwork[artworkUri] = [];\n          }\n          this.imagesByArtwork[artworkUri].push(image);\n        }\n\n        if (image.artist_name) {\n          let artistUri = encodeURI(image.artist_name);\n          if (!this.imagesByArtist[artistUri]) {\n            this.imagesByArtist[artistUri] = [];\n          }\n          this.imagesByArtist[artistUri].push(image);\n        }\n\n        if (image.collection) {\n          let collectionUri = encodeURI(image.collection);\n          if (!this.imagesByCollection[collectionUri]) {\n            this.imagesByCollection[collectionUri] = [];\n          }\n          this.imagesByCollection[collectionUri].push(image);\n        }\n      });\n    },\n    next () {\n      const { pdf } = this.$refs;\n      pdf.next();\n    },\n    prev () {\n      const { pdf } = this.$refs;\n      pdf.prev();\n    },\n    keyListener (e) {\n      const { keyCode } = e;\n      if (keyCode === 37) {\n        this.prev();\n      } else if (keyCode === 39) {\n        this.next();\n      }\n    },\n    handleResize () {\n      let bounds = this.getBounds();\n      this.width = bounds.width;\n      this.height = bounds.height;\n    },\n    goto (dest) {\n      const { pdf } = this.$refs;\n      this.outlineOpen = false;\n      return pdf.getPageIndex(dest[0]).then((pg) => {\n        this.page = pg;\n      })\n      .catch((err) => console.error(err));\n    },\n    onImageSelected (image) {\n      // this.page = (image.page - 1);\n      this.currentDetail = image;\n    },\n    onPageSelected (page) {\n      this.page = (page - 1);\n      this.showGrid = false;\n      this.showTable = false;\n      this.currentDetail = undefined;\n    },\n    onImageClicked (image) {\n      this.currentDetail = this.imagesById[image.objId];\n    },\n    onFound (count) {\n      this.matchCount = count;\n    },\n    onMatch (index) {\n      this.currentMatchIndex = index + 1;\n    },\n    getBounds () {\n      let width = window.innerWidth;\n      let height = window.innerHeight;\n      let header = 134;\n      return {\n        width: width - header,\n        height: height - header\n      };\n    },\n    setSpreads (spreads) {\n      if (this.spreads !== spreads) {\n        this.spreads = spreads;\n      }\n    },\n    onOutlineReady (outline) {\n      this.outline = outline;\n    },\n    onPageChanged (pages) {\n      this.displayedPage = pages[pages.length - 1];\n      this.page = -1; // reset\n    },\n    toggleTable () {\n      this.showTable = !this.showTable;\n      this.showGrid = false;\n    },\n    toggleGrid () {\n      this.showGrid = !this.showGrid;\n      this.showTable = false;\n    },\n    nextDetail () {\n      const index = this.images.indexOf(this.currentDetail);\n      if (index + 1 < this.images.length) {\n        this.currentDetail = this.images[index + 1];\n      }\n    },\n    prevDetail () {\n      const index = this.images.indexOf(this.currentDetail);\n      if (index - 1 >= 0) {\n        this.currentDetail = this.images[index - 1];\n      }\n    },\n    nextMatch () {\n      const { pdf } = this.$refs;\n      pdf.nextMatch();\n    },\n    prevMatch () {\n      const { pdf } = this.$refs;\n      pdf.prevMatch();\n    },\n    zoomIn () {\n      // Handle https://en.wikipedia.org/wiki/IEEE_floating_point\n      this.zoomLevel = Math.round(this.zoomLevel * 10 + 2) / 10;\n    },\n    zoomOut () {\n      if (this.zoomLevel > 0.20) {\n        this.zoomLevel = Math.round(this.zoomLevel * 10 - 2) / 10;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\nh1, h2, h3 {\n  font-weight: normal;\n  display: inline;\n  font-size: 16px;\n}\n\na {\n  color: #42b983;\n}\n\n#prev {\n  left: 40px;\n}\n\n#next {\n  right: 40px;\n}\n\n.arrow {\n  position: absolute;\n  top: 50vh;\n  margin-top: -32px;\n  font-size: 64px;\n  color: #E2E2E2;\n  font-family: arial, sans-serif;\n  font-weight: bold;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  /*display: none;*/\n}\n\n.arrow:hover {\n  color: #777;\n}\n\n.arrow:active {\n  color: #000;\n}\n\n#page-wrap {\n  background: #D3D3D3;\n}\n\n#page-wrap > header {\n  padding: 15px;\n  -webkit-transition: opacity 1s;\n  transition: opacity 0.8s;\n  opacity: 0.3;\n  height: 24px;\n  overflow: hidden;\n}\n\n#page-wrap > header:hover {\n  opacity: 1;\n}\n\n#main {\n  position: relative;\n  width: calc(100vw - 80px);\n  min-height: calc(100vh - 54px);\n  margin: 0;\n  padding: 0 40px;\n  background: #D3D3D3;\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n}\n\n#pdf {\n  margin: 40px auto;\n}\n\n#images {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background: #D3D3D3;\n}\n\n#grid {\n  margin: 0 auto;\n}\n\n#table {\n  margin: 0 auto;\n}\n\n#nav {\n  display: flex;\n  flex-direction: row;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n#nav li {\n  margin: 0 6px;\n  color: #696969;\n}\n\n#nav li a {\n  cursor: pointer;\n  color: #696969;\n  display: inline-block;\n}\n\n#nav li a:active {\n  color: #151515;\n}\n\n#nav li a:active .fa-icon {\n  margin-bottom: -4px;\n}\n\n#title-nav {\n  flex-grow: 100;\n}\n\n#detail {\n  position: absolute;\n  top: 60px;\n  left: 20px;\n  width: calc(100vw - 120px);\n  height: calc(100vh - 160px);\n  padding: 40px;\n  background: #333333;\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n}\n\n.image_detail img {\n\n  max-width: 50vw;\n  max-height: calc(100vh - 152px);\n}\n\n.image_info {\n  color: #eee;\n  margin-left: 40px;\n  min-width: 40vw;\n}\n\n.image_info h1 {\n  font-size: 34px;\n  font-weight: bold;\n}\n\n.image_info h2 {\n  font-size: 24px;\n}\n\n.image_info h3 {\n  font-size: 24px;\n}\n\n.image_info h4 {\n  margin: 0 0 40px 0;\n}\n\n.detail_close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n}\n\n.detail_view {\n  position: absolute;\n  top: 0;\n  right: 50px;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n}\n\n.fa-icon {\n  width: auto;\n  height: 1em;\n  margin-bottom: -3px;\n}\n\n#outline {\n  position: absolute;\n  top: 60px;\n  left: 20px;\n  width: calc(100vw - 120px);\n  height: calc(100vh - 160px);\n  padding: 40px;\n  background: #333333;\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  overflow: auto;\n}\n\n#outline h2 {\n  display: block;\n  color: #fff;\n}\n\n#outline ul {\n  list-style: none;\n}\n\n#outline a.outline_link {\n  color: #eee;\n}\n\n.related_images {\n  list-style: none;\n  padding: 0;\n}\n\n.related_images li {\n  display: inline;\n  margin-right: 12px;\n}\n\n.related_images li a {\n  cursor: pointer;\n}\n\n.detail_arrow {\n  position: absolute;\n  top: 50%;\n  margin-top: -32px;\n  font-size: 64px;\n  color: #E2E2E2;\n  font-family: arial, sans-serif;\n  font-weight: bold;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n#prevDetail {\n  left: 8px;\n}\n\n#nextDetail {\n  right: 8px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Reader.vue?4e5f1874","<template>\n</template>\n\n<script>\nimport { createPromiseCapability } from 'pdfjs-dist';\n\nconst FIND_TIMEOUT = 250; // ms\n\nconst CHARACTERS_TO_NORMALIZE = {\n  '\\u2018': '\\'', // Left single quotation mark\n  '\\u2019': '\\'', // Right single quotation mark\n  '\\u201A': '\\'', // Single low-9 quotation mark\n  '\\u201B': '\\'', // Single high-reversed-9 quotation mark\n  '\\u201C': '\"', // Left double quotation mark\n  '\\u201D': '\"', // Right double quotation mark\n  '\\u201E': '\"', // Double low-9 quotation mark\n  '\\u201F': '\"', // Double high-reversed-9 quotation mark\n  '\\u00BC': '1/4', // Vulgar fraction one quarter\n  '\\u00BD': '1/2', // Vulgar fraction one half\n  '\\u00BE': '3/4', // Vulgar fraction three quarters\n};\n\n// Compile the regular expression for text normalization once.\nconst replace = Object.keys(CHARACTERS_TO_NORMALIZE).join('');\nconst normalizationRegex = new RegExp('[' + replace + ']', 'g');\n\nexport default {\n  name: 'search',\n  props: {\n    'waitTimeout': {\n      default: 30,\n      type: Number\n    },\n    'pdfDocument': {\n      default: undefined\n    },\n    'query': {\n      default: '',\n      type: String\n    },\n    'phraseSearch': {\n      default: true,\n      type: Boolean\n    },\n    'minQueryLength': {\n      default: 3,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      matches: [],\n      textDivs: [],\n      pageContents: [],\n      pageMatches: [],\n      pageMatchesLength: null,\n      matchCount: 0,\n      pagesCount: 0,\n      pendingFindMatches: {},\n      active: false,\n      pagesToSearch: null,\n      extractTextPromises: [],\n      matched: []\n    }\n  },\n  updated () {\n\n  },\n  mounted () {\n    if (this.pdfDocument) {\n      this.extractText();\n    }\n  },\n  watch: {\n    pdfDocument () {\n      if (this.pdfDocument) {\n        this.extractText();\n      }\n    },\n    query () {\n      if (this.query === '') {\n        this.reset();\n      }\n\n      clearTimeout(this.findTimeout);\n      this.findTimeout = setTimeout(() => {\n        if (this.query.length > this.minQueryLength) {\n          this.find(this.query);\n        }\n      }, FIND_TIMEOUT);\n    }\n  },\n  methods: {\n    reset () {\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n\n      this.$emit('matched', this.matched, this.pageMatchesLength, this.matchCount);\n      this.$emit('found', this.pageMatches, this.pageMatchesLength, this.matchCount);\n    },\n\n    find(query) {\n      let numPages = this.pagesCount;\n\n      if (this.prevQuery && this.prevQuery === query) {\n        return; // unchanged\n      }\n      this.prevQuery = query;\n\n      // Reset\n      this.matched = [];\n      this.pageMatches = [];\n      this.pageMatchesLength = null;\n      this.matchCount = 0;\n      this.selected = {\n        pageIdx: -1,\n        matchIdx: -1\n      };\n\n      for (let i = 0; i < numPages; i++) {\n        // Wipe out any previously highlighted matches.\n        // this.updatePage(i);\n\n        // Start finding the matches as soon as the text is extracted.\n        if (!(i in this.pendingFindMatches)) {\n          this.pendingFindMatches[i] = true;\n          this.extractTextPromises[i].then((pageIdx) => {\n            delete this.pendingFindMatches[pageIdx];\n            this.calcFindMatch(pageIdx);\n          });\n        }\n      }\n    },\n\n    normalize(text) {\n      return text.replace(normalizationRegex, function (ch) {\n        return CHARACTERS_TO_NORMALIZE[ch];\n      });\n    },\n\n    /**\n     * Helper for multi-term search that fills the `matchesWithLength` array\n     * and handles cases where one search term includes another search term (for\n     * example, \"tamed tame\" or \"this is\"). It looks for intersecting terms in\n     * the `matches` and keeps elements with a longer match length.\n     */\n    _prepareMatches (matchesWithLength, matches, matchesLength) {\n      function isSubTerm(matchesWithLength, currentIndex) {\n        let currentElem = matchesWithLength[currentIndex];\n        let nextElem = matchesWithLength[currentIndex + 1];\n\n        // Check for cases like \"TAMEd TAME\".\n        if (currentIndex < matchesWithLength.length - 1 &&\n            currentElem.match === nextElem.match) {\n          currentElem.skipped = true;\n          return true;\n        }\n\n        // Check for cases like \"thIS IS\".\n        for (let i = currentIndex - 1; i >= 0; i--) {\n          let prevElem = matchesWithLength[i];\n          if (prevElem.skipped) {\n            continue;\n          }\n          if (prevElem.match + prevElem.matchLength < currentElem.match) {\n            break;\n          }\n          if (prevElem.match + prevElem.matchLength >=\n              currentElem.match + currentElem.matchLength) {\n            currentElem.skipped = true;\n            return true;\n          }\n        }\n        return false;\n      }\n\n      // Sort the array of `{ match: <match>, matchLength: <matchLength> }`\n      // objects on increasing index first and on the length otherwise.\n      matchesWithLength.sort(function(a, b) {\n        return a.match === b.match ? a.matchLength - b.matchLength : a.match - b.match;\n      });\n      for (let i = 0, len = matchesWithLength.length; i < len; i++) {\n        if (isSubTerm(matchesWithLength, i)) {\n          continue;\n        }\n        matches.push(matchesWithLength[i].match);\n        matchesLength.push(matchesWithLength[i].matchLength);\n      }\n    },\n\n    calcFindPhraseMatch (query, pageIndex, pageContent) {\n      let matches = [];\n      let queryLen = query.length;\n      let matchIdx = -queryLen;\n      while (true) {\n        matchIdx = pageContent.indexOf(query, matchIdx + queryLen);\n        if (matchIdx === -1) {\n          break;\n        }\n        matches.push(matchIdx);\n      }\n      this.pageMatches[pageIndex] = matches;\n    },\n\n    calcFindWordMatch (query, pageIndex, pageContent) {\n      let matchesWithLength = [];\n      // Divide the query into pieces and search for text in each piece.\n      let queryArray = query.match(/\\S+/g);\n      for (let i = 0, len = queryArray.length; i < len; i++) {\n        let subquery = queryArray[i];\n        let subqueryLen = subquery.length;\n        let matchIdx = -subqueryLen;\n        while (true) {\n          matchIdx = pageContent.indexOf(subquery, matchIdx + subqueryLen);\n          if (matchIdx === -1) {\n            break;\n          }\n          // Other searches do not, so we store the length.\n          matchesWithLength.push({\n            match: matchIdx,\n            matchLength: subqueryLen,\n            skipped: false,\n          });\n        }\n      }\n\n      // Prepare arrays for storing the matches.\n      if (!this.pageMatchesLength) {\n        this.pageMatchesLength = [];\n      }\n      this.pageMatchesLength[pageIndex] = [];\n      this.pageMatches[pageIndex] = [];\n\n      // Sort `matchesWithLength`, remove intersecting terms and put the result\n      // into the two arrays.\n      this._prepareMatches(matchesWithLength, this.pageMatches[pageIndex],\n        this.pageMatchesLength[pageIndex]);\n    },\n\n    calcFindMatch (pageIndex) {\n      let pageContent = this.normalize(this.pageContents[pageIndex]);\n      let query = this.normalize(this.query);\n      let caseSensitive = this.caseSensitive;\n      let phraseSearch = this.phraseSearch;\n      let queryLen = query.length;\n\n      if (queryLen === 0) {\n        // Do nothing: the matches should be wiped out already.\n        return;\n      }\n\n      if (!caseSensitive) {\n        pageContent = pageContent.toLowerCase();\n        query = query.toLowerCase();\n      }\n\n      if (phraseSearch) {\n        this.calcFindPhraseMatch(query, pageIndex, pageContent);\n      } else {\n        this.calcFindWordMatch(query, pageIndex, pageContent);\n      }\n\n      // this.updatePage(pageIndex);\n      // this.updateMatches();\n\n      // Update the match count.\n      if (pageIndex in this.pageMatches && this.pageMatches[pageIndex].length > 0) {\n        this.matchCount += this.pageMatches[pageIndex].length;\n\n        this.pageMatches[pageIndex].forEach((match) => {\n          this.matched.push({\n            matchIdx: match,\n            pageIdx: pageIndex\n          });\n          this.$emit('matched', this.query, this.matched, this.pageMatches[pageIndex], this.pageMatchesLength ? this.pageMatchesLength[pageIndex] : null, this.matchCount);\n        });\n      }\n\n      if (this.pageMatches.length === this.pagesCount) {\n        this.$emit('found', this.query, this.matched, this.pageMatches, this.pageMatchesLength, this.matchCount);\n      }\n    },\n\n    getPageTextContent (pageIndex) {\n      return this.pdfDocument.getPage(pageIndex + 1).then(function (page) {\n        return page.getTextContent({\n          normalizeWhitespace: true,\n        });\n      })\n      .catch((err) => console.error(err));\n    },\n\n    extractText () {\n      if (this.startedTextExtraction) {\n        return;\n      }\n      this.startedTextExtraction = true;\n      this.pageContents.length = 0;\n      this.pagesCount = this.pdfDocument.numPages - 1;\n\n      let promise = Promise.resolve();\n      for (let i = 0, ii = this.pagesCount; i < ii; i++) {\n        let extractTextCapability = createPromiseCapability();\n        this.extractTextPromises[i] = extractTextCapability.promise;\n\n        promise = promise.then(() => {\n          return this.getPageTextContent(i).then((textContent) => {\n            let textItems = textContent.items;\n            let strBuf = [];\n\n            for (let j = 0, jj = textItems.length; j < jj; j++) {\n              strBuf.push(textItems[j].str);\n            }\n            // Store the pageContent as a string.\n            this.pageContents[i] = strBuf.join('');\n            extractTextCapability.resolve(i);\n          });\n        });\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Search.vue?2afad216","<template>\n  <div>\n    <form id=\"search\">\n      Search <input name=\"query\" v-model=\"filterKey\">\n    </form>\n    <table>\n      <thead>\n        <tr>\n          <th v-for=\"key in columns\"\n            @click=\"sortBy(key)\"\n            :class=\"{ active: sortKey == key }\">\n            {{ key | titlecase }}\n            <span class=\"arrow\" :class=\"sortOrders[key] > 0 ? 'asc' : 'dsc'\">\n            </span>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"entry in filteredData\">\n          <td>\n            <a class=\"img_link\" @click=\"$emit('onImageClick', entry)\">\n              <img v-lazy=\"entry['thumbnail']\" />\n            </a>\n          </td>\n          <td>\n            <a href=\"#\" @click=\"$emit('onPageClick', entry.page)\">\n              {{ entry['page_label'] || entry['page'] }}\n            </a>\n          </td>\n          <td>\n            <a :href=\"entry['artwork_uri']\" target=\"_blank\" >\n              {{ entry['artwork_title'] }}\n            </a>\n          </td>\n          <td>\n            <a :href=\"entry['artist_uri']\" target=\"_blank\" >\n              {{ entry['artist_name'] }}\n            </a>\n          </td>\n          <td>\n            <a :href=\"entry['collection_uri']\" target=\"_blank\" >\n              {{ entry['collection'] }}\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport VueLazyload from 'vue-lazyload'\nimport Vue from 'vue'\n\nVue.use(VueLazyload, {\n  preLoad: 1.3,\n  // error: 'dist/error.png',\n  // loading: 'dist/loading.gif',\n  attempt: 1\n})\n\nexport default {\n  name: 'table',\n  components: {\n\n  },\n  props: {\n    'data': {\n      type: Array\n    }\n  },\n  data () {\n    var sortOrders = {}\n    this.columns = ['thumbnail', 'page', 'artwork_title', 'artist', 'collection'];\n    this.columns.forEach(function (key) {\n      sortOrders[key] = 1\n    })\n    return {\n      sortKey: '',\n      sortOrders: sortOrders,\n      filterKey: '',\n      // searchQuery: '',\n      gridColumns: []\n    }\n  },\n  computed: {\n    filteredData: function () {\n      var sortKey = this.sortKey\n      var filterKey = this.filterKey && this.filterKey.toLowerCase()\n      var order = this.sortOrders[sortKey] || 1\n      var data = this.data\n      if (filterKey && data) {\n        data = data.filter(function (row) {\n          return Object.keys(row).some(function (key) {\n            return String(row[key]).toLowerCase().indexOf(filterKey) > -1\n          })\n        })\n      }\n      if (sortKey) {\n        data = data.slice().sort(function (a, b) {\n          a = a[sortKey]\n          b = b[sortKey]\n          return (a === b ? 0 : a > b ? 1 : -1) * order\n        })\n      }\n      return data\n    }\n  },\n  filters: {\n    capitalize: function (str) {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    titlecase: function (_str) {\n      var str;\n      str = _str.replace(/_/g, ' ');\n      str = str.replace(/([^\\W_]+[^\\s-]*) */g, (txt) => {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n\n      return str;\n    }\n  },\n  methods: {\n    sortBy: function (key) {\n      this.sortKey = key\n      this.sortOrders[key] = this.sortOrders[key] * -1\n    },\n    triggerLoad: function () {\n      Vue.nextTick(this.$Lazyload.lazyLoadHandler);\n    }\n  },\n  updated () {\n\n  }\n}\n</script>\n\n<style scoped>\n\ntable {\n  border: 2px solid #cecece;\n  border-radius: 3px;\n  background-color: #fff;\n  width: 80vw;\n  margin: 24px auto;\n}\n\nth {\n  background-color: #cecece;\n  color: #000;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ntd {\n  background-color: #f9f9f9;\n}\n\nth, td {\n  /*min-width: 220px;*/\n  padding: 10px 20px;\n}\n\nth.active {\n  color: #fff;\n}\n\nth.active .arrow {\n  opacity: 1;\n}\n\n.arrow {\n  display: inline-block;\n  vertical-align: middle;\n  width: 0;\n  height: 0;\n  margin-left: 5px;\n  opacity: 0.66;\n}\n\n.arrow.asc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid #fff;\n}\n\n.arrow.dsc {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid #fff;\n}\n\n.img_link {\n  cursor: pointer;\n}\n\n.img_link:hover {\n  opacity: 0.8;\n}\n\n.img_link:active {\n  opacity: 0.5;\n}\n\n.img_link img {\n  max-width: 100px;\n  max-height: 100px;\n}\n\n#search {\n  text-align: center;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Table.vue?1fc027aa","<template>\n  <div ref=\"textLayer\" :style=\"{ width: `${viewport ? viewport.width : 0}px`, height: `${viewport ? viewport.height : 0}px` }\" class=\"textLayer\"></div>\n</template>\n\n\n<script>\nconst pdfjsLib = require('pdfjs-dist');\n// pdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'textlayer',\n  props: {\n    'page': {\n      default: undefined\n    },\n    'viewport': {\n      default: undefined\n    },\n    'renderTimeout': {\n      default: 300,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      matches: [],\n      textDivs: [],\n      selected: {\n        pageIdx: -1,\n        matchIdx: -1\n      },\n      query: ''\n    }\n  },\n  updated () {\n\n  },\n  mounted () {\n    if (this.page) {\n      this.getTextContent(this.page)\n        .then((textContent) => this.onContent(textContent))\n        .catch((err) => console.error(err));\n    }\n  },\n  destroyed () {\n\n  },\n  watch: {\n    page () {\n      if (this.page) {\n        this.getTextContent(this.page)\n          .then((textContent) => this.onContent(textContent))\n          .catch((err) => console.error(err));\n      }\n    },\n    viewport () {\n      if (this.textContent) {\n        this.onContent(this.textContent);\n      }\n    }\n  },\n  methods: {\n    getTextContent (page) {\n      return page.getTextContent({ normalizeWhitespace: true });\n    },\n    onContent (textContent) {\n      const { textLayer } = this.$refs;\n\n      this.clearTextLayer();\n\n      this.textContent = textContent;\n\n      this.textDivs = [];\n      let textLayerFrag = document.createDocumentFragment();\n\n      if (this.textLayerRenderTask) {\n        this.textLayerRenderTask.cancel();\n        this.textLayerRenderTask = null;\n      }\n\n      this.textLayerRenderTask = pdfjsLib.renderTextLayer({\n        textContent: textContent,\n        container: textLayerFrag,\n        viewport: this.viewport,\n        textDivs: this.textDivs,\n        timeout: this.renderTimeout\n      });\n\n      this.textLayerRenderTask.promise.then(() => {\n        textLayer.appendChild(textLayerFrag);\n\n        if (this.pageMatches) {\n          this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n          this.renderMatches(this.matches);\n        }\n      })\n      .catch((err) => console.error(err));\n    },\n    onPageError (page) {\n      console.error(page);\n    },\n    clearTextLayer () {\n      const { textLayer } = this.$refs;\n      while (textLayer.firstChild) {\n        textLayer.removeChild(textLayer.firstChild);\n      }\n    },\n    updateTextLayerMatches(query, pageMatches, pageMatchesLength) {\n      this.pageMatches = pageMatches;\n      this.pageMatchesLength = pageMatchesLength;\n      this.query = query;\n      if (this.textContent) {\n        this.clearMatches();\n        this.matches = this.convertMatches(this.pageMatches, this.pageMatchesLength);\n        this.renderMatches(this.matches);\n      }\n    },\n    clearTextLayerMatches() {\n      this.pageMatches = [];\n      this.pageMatchesLength = [];\n      this.query = '';\n      this.clearMatches();\n      this.selected = {pageIdx: -1, matchIdx: -1};\n      this._sentSelected = false;\n    },\n    selectedMatch(pageIdx, matchIdx) {\n      this._sentSelected = false;\n      this.clearMatches();\n      this.selected = {pageIdx, matchIdx};\n      this.renderMatches(this.matches);\n    },\n    renderMatches(matches) {\n      // Early exit if there is nothing to render.\n      if (matches.length === 0) {\n        return;\n      }\n\n      var bidiTexts = this.textContent.items;\n      var textDivs = this.textDivs;\n      var prevEnd = null;\n      var pageIdx = this.page.pageIndex;\n      var isSelectedPage = this.selected.pageIdx === pageIdx;\n      var selectedMatchIdx = this.selected.matchIdx || -1;\n      var highlightAll = true;\n      var infinity = {\n        divIdx: -1,\n        offset: undefined,\n      };\n\n      function beginText(begin, className) {\n        var divIdx = begin.divIdx;\n        textDivs[divIdx].textContent = '';\n        appendTextToDiv(divIdx, 0, begin.offset, className);\n      }\n\n      function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n        var div = textDivs[divIdx];\n        var content = bidiTexts[divIdx].str.substring(fromOffset, toOffset);\n        var node = document.createTextNode(content);\n        if (className) {\n          var span = document.createElement('span');\n          span.className = className;\n          span.appendChild(node);\n          div.appendChild(span);\n          return;\n        }\n        div.appendChild(node);\n      }\n\n      var i0 = selectedMatchIdx;\n      var i1 = i0 + 1;\n      if (highlightAll) {\n        i0 = 0;\n        i1 = matches.length;\n      } else if (!isSelectedPage) {\n        // Not highlighting all and this isn't the selected page, so do nothing.\n        return;\n      }\n\n      for (var i = i0; i < i1; i++) {\n        var match = matches[i];\n        var begin = match.begin;\n        var end = match.end;\n        var isSelected = (isSelectedPage && match.matchIdx === selectedMatchIdx);\n        var highlightSuffix = (isSelected ? ' selected' : '');\n\n        if (isSelected && !this._sentSelected) {\n          this.$emit('selected', textDivs[begin.divIdx].getBoundingClientRect());\n          this._sentSelected = true;\n        }\n\n        // Match inside new div.\n        if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n          // If there was a previous div, then add the text at the end.\n          if (prevEnd !== null) {\n            appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n          }\n          // Clear the divs and set the content until the starting point.\n          beginText(begin);\n        } else {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n        }\n\n        if (begin.divIdx === end.divIdx) {\n          appendTextToDiv(begin.divIdx, begin.offset, end.offset,\n                          'highlight' + highlightSuffix);\n        } else {\n          appendTextToDiv(begin.divIdx, begin.offset, infinity.offset,\n                          'highlight begin' + highlightSuffix);\n          for (var n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n            textDivs[n0].className = 'highlight middle' + highlightSuffix;\n          }\n          beginText(end, 'highlight end' + highlightSuffix);\n        }\n        prevEnd = end;\n      }\n\n      if (prevEnd) {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n      }\n    },\n    convertMatches (matches, matchesLength) {\n      var i = 0;\n      var iIndex = 0;\n      var bidiTexts = this.textContent.items;\n      var end = bidiTexts.length - 1;\n      var queryLen = this.query ? this.query.length : 0;\n      var ret = [];\n      if (!matches) {\n        return ret;\n      }\n      for (var m = 0, len = matches.length; m < len; m++) {\n        // Calculate the start position.\n        var matchIdx = matches[m];\n\n        // Loop over the divIdxs.\n        while (i !== end && matchIdx >= (iIndex + bidiTexts[i].str.length)) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        if (i === bidiTexts.length) {\n          console.error('Could not find a matching mapping');\n        }\n\n        var match = {\n          matchIdx: matchIdx,\n          begin: {\n            divIdx: i,\n            offset: matchIdx - iIndex\n          },\n        };\n\n        // Calculate the end position.\n        if (matchesLength) { // multiterm search\n          matchIdx += matchesLength[m];\n        } else { // phrase search\n          matchIdx += queryLen;\n        }\n\n        // Somewhat the same array as above, but use > instead of >= to get\n        // the end position right.\n        while (i !== end && matchIdx > (iIndex + bidiTexts[i].str.length)) {\n          iIndex += bidiTexts[i].str.length;\n          i++;\n        }\n\n        match.end = {\n          divIdx: i,\n          offset: matchIdx - iIndex,\n        };\n        ret.push(match);\n      }\n\n      return ret;\n    },\n    clearMatches () {\n      if (!this.textContent) {\n        return;\n      }\n      // Clear all matches.\n      var matches = this.matches;\n      var textDivs = this.textDivs;\n      var bidiTexts = this.textContent.items;\n      var clearedUntilDivIdx = -1;\n\n      // Clear all current matches.\n      for (var i = 0, len = matches.length; i < len; i++) {\n        var match = matches[i];\n        var begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n        for (var n = begin, end = match.end.divIdx; n <= end; n++) {\n          var div = textDivs[n];\n          div.textContent = bidiTexts[n].str;\n          div.className = '';\n        }\n        clearedUntilDivIdx = match.end.divIdx + 1;\n      }\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n.textLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n}\n</style>\n\n<style>\n.textLayer > div {\n    color: transparent;\n    position: absolute;\n    white-space: pre;\n    cursor: text;\n    -webkit-transform-origin: 0% 0%;\n    -moz-transform-origin: 0% 0%;\n    -o-transform-origin: 0% 0%;\n    -ms-transform-origin: 0% 0%;\n    transform-origin: 0% 0%;\n}\n\n.textLayer .highlight {\n    margin: -1px;\n    padding: 1px;\n    background-color: rgb(180, 0, 170);\n    border-radius: 4px;\n}\n\n.textLayer .highlight.selected {\n    background-color: rgb(0, 100, 0);\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// TextLayer.vue?1e73404a","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0da80b7f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Grid.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Grid.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0da80b7f\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Grid.vue\"),\n  /* scopeId */\n  \"data-v-0da80b7f\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Grid.vue\n// module id = 117\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-633d2fa2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageLayer.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageLayer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-633d2fa2\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageLayer.vue\"),\n  /* scopeId */\n  \"data-v-633d2fa2\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageLayer.vue\n// module id = 118\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0b9bd71c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b9bd71c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"),\n  /* scopeId */\n  \"data-v-0b9bd71c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = 119\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7afe1999\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Outline.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Outline.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7afe1999\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Outline.vue\"),\n  /* scopeId */\n  \"data-v-7afe1999\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Outline.vue\n// module id = 120\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-84dcc46e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PDF.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PDF.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84dcc46e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PDF.vue\"),\n  /* scopeId */\n  \"data-v-84dcc46e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PDF.vue\n// module id = 121\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-2ded1648\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Page.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Page.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ded1648\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Page.vue\"),\n  /* scopeId */\n  \"data-v-2ded1648\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Page.vue\n// module id = 122\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-59fa2e3c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Reader.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Reader.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59fa2e3c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Reader.vue\"),\n  /* scopeId */\n  \"data-v-59fa2e3c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Reader.vue\n// module id = 123\n// module chunks = 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ee440a1\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search.vue\n// module id = 124\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-31beea36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Table.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Table.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31beea36\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Table.vue\"),\n  /* scopeId */\n  \"data-v-31beea36\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Table.vue\n// module id = 125\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-448030bb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextLayer.vue\")\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-448030bb\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./TextLayer.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextLayer.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-448030bb\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextLayer.vue\"),\n  /* scopeId */\n  \"data-v-448030bb\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextLayer.vue\n// module id = 126\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b9bd71c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = 127\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('ol', _vm._l((_vm.filteredData), function(image) {\n    return _c('li', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onClick', image)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (image.thumbnail),\n        expression: \"image.thumbnail\"\n      }]\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(image.page_label || image.page))])])])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0da80b7f\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Grid.vue\n// module id = 128\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"pageWrapper\",\n    class: {\n      loading: _vm.isLoading\n    },\n    style: ({\n      width: (_vm.viewportWidth + \"px\"),\n      height: (_vm.viewportHeight + \"px\")\n    })\n  }, [_c('canvas', {\n    ref: \"canvas\",\n    attrs: {\n      \"width\": (_vm.viewportWidth + \"px\"),\n      \"height\": (_vm.viewportHeight + \"px\")\n    }\n  }), _vm._v(\" \"), _c('textlayer', {\n    ref: \"textLayer\",\n    attrs: {\n      \"page\": _vm.page,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale\n    },\n    on: {\n      \"selected\": _vm.onSelected\n    }\n  }), _vm._v(\" \"), _c('imagelayer', {\n    attrs: {\n      \"images\": _vm.images,\n      \"viewport\": _vm.viewport,\n      \"scale\": _vm.scale,\n      \"onImageClicked\": _vm.onImageClicked\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"annotationLayer\"\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ded1648\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Page.vue\n// module id = 129\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c(\"div\")\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ee440a1\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search.vue\n// module id = 130\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('form', {\n    attrs: {\n      \"id\": \"search\"\n    }\n  }, [_vm._v(\"\\n    Search \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filterKey),\n      expression: \"filterKey\"\n    }],\n    attrs: {\n      \"name\": \"query\"\n    },\n    domProps: {\n      \"value\": (_vm.filterKey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.filterKey = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('table', [_c('thead', [_c('tr', _vm._l((_vm.columns), function(key) {\n    return _c('th', {\n      class: {\n        active: _vm.sortKey == key\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.sortBy(key)\n        }\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(_vm._f(\"titlecase\")(key)) + \"\\n          \"), _c('span', {\n      staticClass: \"arrow\",\n      class: _vm.sortOrders[key] > 0 ? 'asc' : 'dsc'\n    })])\n  }))]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.filteredData), function(entry) {\n    return _c('tr', [_c('td', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onImageClick', entry)\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (entry['thumbnail']),\n        expression: \"entry['thumbnail']\"\n      }]\n    })])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": \"#\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.$emit('onPageClick', entry.page)\n        }\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['page_label'] || entry['page']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['artwork_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['artwork_title']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['artist_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['artist_name']) + \"\\n          \")])]), _vm._v(\" \"), _c('td', [_c('a', {\n      attrs: {\n        \"href\": entry['collection_uri'],\n        \"target\": \"_blank\"\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(entry['collection']) + \"\\n          \")])])])\n  }))])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-31beea36\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Table.vue\n// module id = 131\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"textLayer\",\n    staticClass: \"textLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-448030bb\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextLayer.vue\n// module id = 132\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"page-wrap\"\n    }\n  }, [_c('header', {\n    attrs: {\n      \"id\": \"menu\"\n    }\n  }, [_c('ul', {\n    attrs: {\n      \"id\": \"nav\"\n    }\n  }, [_c('li', {\n    attrs: {\n      \"id\": \"toc-nav\"\n    }\n  }, [_c('a', {\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = !_vm.outlineOpen;\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"list-ul\",\n      \"title\": \"Outline\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"search-nav\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    attrs: {\n      \"id\": \"search\",\n      \"name\": \"query\",\n      \"type\": \"search\",\n      \"results\": \"5\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.query = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"prevMatch\"\n    },\n    on: {\n      \"click\": _vm.prevMatch\n    }\n  }, [_vm._v(\"‹\")]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('span', {\n    attrs: {\n      \"id\": \"found\"\n    }\n  }, [_vm._v(_vm._s(_vm.currentMatchIndex) + \" of \" + _vm._s(_vm.matchCount))]) : _vm._e(), _vm._v(\" \"), (_vm.matchCount) ? _c('a', {\n    attrs: {\n      \"id\": \"nextMatch\"\n    },\n    on: {\n      \"click\": _vm.nextMatch\n    }\n  }, [_vm._v(\"›\")]) : _vm._e()]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"title-nav\"\n    }\n  }, [_vm._v(_vm._s(_vm.manifest.title) + \": \" + _vm._s(_vm.manifest.subtitle) + \", \" + _vm._s(_vm.manifest.author_as_it_appears))]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"zoom-nav\"\n    }\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"zoomOut\"\n    },\n    on: {\n      \"click\": _vm.zoomOut\n    }\n  }, [_vm._v(\"-\")]), _vm._v(\" \"), (_vm.zoomLevel) ? _c('span', {\n    attrs: {\n      \"id\": \"zoomLevel\"\n    }\n  }, [_vm._v(_vm._s(Math.round(_vm.zoomLevel * 100)) + \"%\")]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"id\": \"zoomIn\"\n    },\n    on: {\n      \"click\": _vm.zoomIn\n    }\n  }, [_vm._v(\"+\")])]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"book-nav\"\n    }\n  }, [_vm._v(\"\\n        Book:\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-single\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(false);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    staticStyle: {\n      \"transform\": \"rotate(180deg) scaleX(-1)\",\n      \"height\": \".95em\"\n    },\n    attrs: {\n      \"name\": \"file-o\",\n      \"title\": \"Single\"\n    }\n  })], 1), _vm._v(\"\\n         |\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-spread\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.setSpreads(true);\n        _vm.showGrid = false;\n        _vm.showTable = false;\n      }\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"columns\",\n      \"title\": \"Spread\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('li', {\n    attrs: {\n      \"id\": \"artwork-nav\"\n    }\n  }, [_vm._v(\"\\n        Artwork:\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-table\"\n    },\n    on: {\n      \"click\": _vm.toggleTable\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"table\",\n      \"title\": \"Table\"\n    }\n  })], 1), _vm._v(\"\\n         |\\n        \"), _c('a', {\n    attrs: {\n      \"id\": \"artwork-nav-grid\"\n    },\n    on: {\n      \"click\": _vm.toggleGrid\n    }\n  }, [_c('icon', {\n    attrs: {\n      \"name\": \"th\",\n      \"title\": \"Grid\"\n    }\n  })], 1)])])]), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('PDF', {\n    ref: \"pdf\",\n    attrs: {\n      \"id\": \"pdf\",\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page,\n      \"width\": this.width,\n      \"height\": this.height,\n      \"spreads\": _vm.spreads,\n      \"onImageClicked\": this.onImageClicked,\n      \"onOutlineReady\": this.onOutlineReady,\n      \"query\": _vm.query,\n      \"zoom\": _vm.zoomLevel\n    },\n    on: {\n      \"loaded\": _vm.loaded,\n      \"pageChanged\": this.onPageChanged,\n      \"found\": this.onFound,\n      \"match\": this.onMatch\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": this.prev\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": this.next\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showGrid || _vm.showTable),\n      expression: \"showGrid || showTable\"\n    }],\n    attrs: {\n      \"id\": \"images\"\n    }\n  }, [_c('grid', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showGrid),\n      expression: \"showGrid\"\n    }],\n    ref: \"grid\",\n    attrs: {\n      \"id\": \"grid\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onClick\": this.onImageSelected\n    }\n  }), _vm._v(\" \"), _c('tablegrid', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showTable),\n      expression: \"showTable\"\n    }],\n    ref: \"table\",\n    attrs: {\n      \"id\": \"table\",\n      \"data\": _vm.images\n    },\n    on: {\n      \"onImageClick\": this.onImageSelected,\n      \"onPageClick\": this.onPageSelected\n    }\n  })], 1)], 1), _vm._v(\" \"), (_vm.currentDetail) ? _c('section', {\n    attrs: {\n      \"id\": \"detail\"\n    }\n  }, [_c('div', {\n    staticClass: \"image_detail\"\n  }, [(!_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.asset\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.currentDetail.copyright) ? _c('img', {\n    attrs: {\n      \"src\": _vm.currentDetail.downsampled\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.collection_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.collection))])])]), _vm._v(\" \"), (_vm.currentDetail.artwork_title) ? _c('div', {\n    staticClass: \"image_info\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.currentDetail.artwork_title))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artwork_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artwork_uri))])]), _vm._v(\" \"), (this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    })])]) : _vm._e()\n  }))]) : _vm._e(), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.currentDetail.artist_name))]), _vm._v(\" \"), _c('h4', [_c('a', {\n    attrs: {\n      \"href\": _vm.currentDetail.artist_uri\n    }\n  }, [_vm._v(_vm._s(_vm.currentDetail.artist_uri))])]), _vm._v(\" \"), (this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)].length > 1) ? _c('aside', [_c('h5', [_vm._v(\"Also in this book\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"related_images\"\n  }, _vm._l((this.imagesByArtist[encodeURI(_vm.currentDetail.artist_name)]), function(relatedImage) {\n    return (_vm.currentDetail != relatedImage && (_vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)] && _vm.imagesByArtwork[encodeURI(_vm.currentDetail.artwork_title)].indexOf(relatedImage) === -1)) ? _c('li', [_c('a', {\n      staticClass: \"related_img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.currentDetail = relatedImage\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": relatedImage.thumbnail\n      }\n    })])]) : _vm._e()\n  }))]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_view\",\n    on: {\n      \"click\": function($event) {\n        _vm.onPageSelected(_vm.currentDetail.page);\n      }\n    }\n  }, [_vm._v(\"View in Book\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": function($event) {\n        _vm.currentDetail = undefined\n      }\n    }\n  }, [_vm._v(\"Close\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"prevDetail\"\n    },\n    on: {\n      \"click\": this.prevDetail\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail_arrow\",\n    attrs: {\n      \"id\": \"nextDetail\"\n    },\n    on: {\n      \"click\": this.nextDetail\n    }\n  }, [_vm._v(\"›\")])]) : _vm._e(), _vm._v(\" \"), _c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.outlineOpen),\n      expression: \"outlineOpen\"\n    }],\n    attrs: {\n      \"id\": \"outline\"\n    }\n  }, [_c('h2', [_vm._v(\"Outline\")]), _vm._v(\" \"), _c('outline', {\n    attrs: {\n      \"data\": _vm.outline,\n      \"pdf\": _vm.$refs.pdf,\n      \"page\": _vm.displayedPage\n    },\n    on: {\n      \"onClick\": this.goto\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"detail_close\",\n    on: {\n      \"click\": function($event) {\n        _vm.outlineOpen = false\n      }\n    }\n  }, [_vm._v(\"Close\")])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-59fa2e3c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Reader.vue\n// module id = 133\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-626c8dc1\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 134\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"imageLayer\",\n    staticClass: \"imageLayer\",\n    style: ({\n      width: ((_vm.viewport ? _vm.viewport.width : 0) + \"px\"),\n      height: ((_vm.viewport ? _vm.viewport.height : 0) + \"px\")\n    })\n  }, _vm._l((_vm.images), function(image) {\n    return _c('div', {\n      staticClass: \"imageLayerItem\",\n      style: ({\n        width: ((image.width) + \"px\"),\n        height: ((image.height) + \"px\"),\n        top: ((image.top-image.height) + \"px\"),\n        left: ((image.left) + \"px\")\n      }),\n      on: {\n        \"click\": function($event) {\n          _vm.handleClick(image)\n        }\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-633d2fa2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageLayer.vue\n// module id = 135\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    class: _vm.clazz,\n    style: (_vm.style),\n    attrs: {\n      \"version\": \"1.1\",\n      \"role\": _vm.label ? 'img' : 'presentation',\n      \"aria-label\": _vm.label,\n      \"x\": _vm.x,\n      \"y\": _vm.y,\n      \"width\": _vm.width,\n      \"height\": _vm.height,\n      \"viewBox\": _vm.box\n    }\n  }, [_vm._t(\"default\", [(_vm.icon && _vm.icon.paths) ? _vm._l((_vm.icon.paths), function(path) {\n    return _c('path', _vm._b({}, 'path', path))\n  }) : _vm._e(), _vm._v(\" \"), (_vm.icon && _vm.icon.polygons) ? _vm._l((_vm.icon.polygons), function(polygon) {\n    return _c('polygon', _vm._b({}, 'polygon', polygon))\n  }) : _vm._e(), _vm._v(\"\\b\\n    \"), (_vm.icon && _vm.icon.raw) ? [_c('g', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.icon.raw)\n    }\n  })] : _vm._e()])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6888a9df\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-awesome/components/Icon.vue\n// module id = 136\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.pageList), function(item) {\n    return _c('li', [_c('a', {\n      staticClass: \"outline_link\",\n      class: {\n        active: item === _vm.activeItem\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.handleLink(item)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(item.title || '') + \"\\n      \"), (item.items.length) ? _c('outline', {\n      attrs: {\n        \"data\": item.items\n      },\n      on: {\n        \"onClick\": _vm.handleLink\n      }\n    }) : _vm._e()], 1)])\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7afe1999\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Outline.vue\n// module id = 137\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: 'container',\n    staticClass: \"pageContainer\",\n    class: {\n      loading: _vm.isLoading, centered: (!_vm.spreads || _vm.zoom <= 1)\n    },\n    style: ({\n      width: (_vm.width + \"px\"),\n      height: ((_vm.height ? _vm.height : _vm.viewportHeight) + \"px\")\n    })\n  }, [_vm._l((_vm.displayedPages), function(page) {\n    return _c('div', {\n      key: page.pageIndex,\n      staticClass: \"page\"\n    }, [_c('page', {\n      ref: 'page_' + page.pageIndex,\n      refInFor: true,\n      attrs: {\n        \"page\": page,\n        \"width\": _vm.spreads ? _vm.width / 2 : _vm.width,\n        \"height\": _vm.height,\n        \"scale\": _vm.zoom,\n        \"onViewport\": _vm.handleViewport,\n        \"onImageClicked\": _vm.onImageClicked,\n        \"onSelected\": _vm.onSelected\n      },\n      on: {\n        \"displayed\": _vm.afterDisplayed\n      }\n    })], 1)\n  }), _vm._v(\" \"), _c('search', {\n    attrs: {\n      \"pdfDocument\": _vm.pdfDocument,\n      \"query\": _vm.query\n    },\n    on: {\n      \"matched\": this.onMatched,\n      \"found\": this.onFound\n    }\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-84dcc46e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PDF.vue\n// module id = 138\n// module chunks = 2"],"sourceRoot":""}