webpackJsonp([1],[,,function(t,e,n){"use strict";var a=n(1),i=n(22),r=n(15),o=n.n(r);a.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"Main",component:o.a},{path:"/book/:book/edition/:edition",name:"Manifest",component:o.a},{path:"/book/:book/edition/:edition/image/:image",name:"ImageLink",component:o.a}]})},function(t,e,n){n(12);var a=n(0)(n(6),n(20),null,null);t.exports=a.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=n(3),r=n.n(i),o=n(2);a.a.config.productionTip=!1,new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:r.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a);e.default={name:"main",components:{Reader:i.a},data:function(){return{url:"https://s3.amazonaws.com/pubs-fchasen/books/"+(this.$route.params.book||371)+"/editions/"+(this.$route.params.edition||500)+"/manifest.json"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(14);a.PDFJS.workerSrc="/static/libs/pdfjs-dist/build/pdf.worker.js",e.default={name:"pdf",props:{src:{type:String},width:{type:Number},height:{default:1,type:Number},page:{default:0,type:Number}},data:function(){return{pdf:void 0,numPages:0,scale:1,rotate:void 0,isLoading:!0}},updated:function(){},mounted:function(){var t=this;this.src&&this.loadDocument(this.src).then(function(){return t.loadPage(t.page)})},watch:{src:function(){var t=this;this.src&&this.loadDocument(this.src).then(function(){return t.loadPage(t.page)})},page:function(t){this.page&&this.loadPage(this.page)}},methods:{loadDocument:function(t){var e=this;return console.log("src",t),a.getDocument(t).then(function(t){var n=t.numPages;e.numPages=n,e.pdf=t,e.isLoading=!1})},getPageScale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page,e=this.scale,n=this.width,a=1;return n&&(a=n/t.getViewport(e).width),e*a},loadPage:function(t){var e=this,n=this.pdf;if(!n)throw new Error("Unexpected call to getPage() before the document has been loaded.");var a=t+1;return!t||a<1?a=1:a>=n.numPages&&(a=n.numPages),n.getPage(a).then(function(t){return e.onPageLoad(t)}).catch(function(t){return e.onPageError(t)})},onPageLoad:function(t){var e=this.$refs.canvas,n=e.getContext("2d"),a=this.scale,i=this.rotate,r=t.getViewport(a,i);e.height=r.height,e.width=r.width,t.render({canvasContext:n,viewport:r})},onPageError:function(t){console.error(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),i=n.n(a);e.default={name:"reader",components:{PDF:i.a},props:["manifest-url"],data:function(){return{manifest:{},page:0}},created:function(){this.fetchManifest()},methods:{fetchManifest:function(){var t=this;return fetch(this.manifestUrl).then(function(t){return t.json()}).then(function(e){console.log(e),t.manifest=e})},next:function(){this.page+=1},prev:function(){this.page>1&&(this.page-=1)}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){n(10);var a=n(0)(n(7),n(18),"data-v-0b9bd71c",null);t.exports=a.exports},function(t,e,n){n(13);var a=n(0)(n(8),n(21),"data-v-84dcc46e",null);t.exports=a.exports},function(t,e,n){n(11);var a=n(0)(n(9),n(19),"data-v-59fa2e3c",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("Reader",{attrs:{"manifest-url":t.url}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"page-wrap"}},[n("PDF",{attrs:{src:this.manifest.pdf,page:t.page}}),t._v(" "),n("div",{staticClass:"arrow",attrs:{id:"prev"},on:{click:function(e){t.page-=1}}},[t._v("‹")]),t._v(" "),n("div",{staticClass:"arrow",attrs:{id:"next"},on:{click:function(e){t.page+=1}}},[t._v("›")]),t._v(" "),n("header",[n("h1",[t._v(t._s(t.manifest.title)+": ")]),t._v(" "),n("h2",[t._v(t._s(t.manifest.subtitle)+", ")]),t._v(" "),n("h3",[t._v(t._s(t.manifest.author_as_it_appears))])]),t._v(" "),n("div",{attrs:{id:"images"}},[n("ol",t._l(t.manifest.images,function(e){return n("li",[n("a",{staticClass:"img_link",on:{click:function(n){t.page=e.page-1}}},[n("img",{attrs:{src:e.thumbnail}})])])}))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{loading:t.isLoading},attrs:{id:"pageContainer"}},[n("canvas",{ref:"canvas"})])},staticRenderFns:[]}}],[5]);
//# sourceMappingURL=app.535fb59773c64d9fdfd9.js.map