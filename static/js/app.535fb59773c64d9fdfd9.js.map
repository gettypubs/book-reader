{"version":3,"sources":["webpack:///static/js/app.535fb59773c64d9fdfd9.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///Main.vue","webpack:///PDF.vue","webpack:///Reader.vue","webpack:///./src/components/Main.vue?9d89","webpack:///./src/components/PDF.vue","webpack:///./src/components/Reader.vue?d3aa","webpack:///./src/components/Main.vue?cfa6","webpack:///./src/components/Reader.vue?36f2","webpack:///./src/App.vue?5b81","webpack:///./src/components/PDF.vue?59e4"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Main__","__WEBPACK_IMPORTED_MODULE_2__components_Main___default","n","use","routes","path","name","component","a","exports","Component","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","__WEBPACK_IMPORTED_MODULE_0__components_Reader__","__WEBPACK_IMPORTED_MODULE_0__components_Reader___default","Reader","data","url","this","$route","params","book","edition","pdfjsLib","PDFJS","workerSrc","props","src","type","String","width","Number","height","default","page","pdf","undefined","numPages","scale","rotate","isLoading","updated","mounted","_this","loadDocument","then","loadPage","watch","_this2","pg","methods","_this3","console","log","getDocument","pdfDocument","pagesCount","getPageScale","arguments","length","pageScale","getViewport","pageIndex","_this4","Error","pageNumber","getPage","onPageLoad","catch","onPageError","canvas","$refs","canvasContext","getContext","viewport","render","error","__WEBPACK_IMPORTED_MODULE_0__components_PDF__","__WEBPACK_IMPORTED_MODULE_0__components_PDF___default","PDF","manifest","created","fetchManifest","fetch","manifestUrl","response","json","next","prev","_vm","_h","$createElement","_self","_c","attrs","manifest-url","staticRenderFns","id","_v","staticClass","on","click","$event","_s","title","subtitle","author_as_it_appears","_l","image","thumbnail","class","loading","ref"],"mappings":"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","file":"static/js/app.535fb59773c64d9fdfd9.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Main___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Main__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Main',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/book/:book/edition/:edition',\n    name: 'Manifest',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }, {\n    path: '/book/:book/edition/:edition/image/:image',\n    name: 'ImageLink',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Main___default.a\n  }]\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(12)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(6),\n  /* template */\n  __webpack_require__(20),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 4 */,\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(2);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Reader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Reader__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'main',\n  components: {\n    'Reader': __WEBPACK_IMPORTED_MODULE_0__components_Reader___default.a\n  },\n  data: function data() {\n    return {\n      url: 'https://s3.amazonaws.com/pubs-fchasen/books/' + (this.$route.params.book || 371) + '/editions/' + (this.$route.params.edition || 500) + '/manifest.json'\n    };\n  }\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar pdfjsLib = __webpack_require__(14);\n\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'pdf',\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      default: 1,\n      type: Number\n    },\n    'page': {\n      default: 0,\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      pdf: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true\n    };\n  },\n  updated: function updated() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.src) {\n      this.loadDocument(this.src).then(function () {\n        return _this.loadPage(_this.page);\n      });\n    }\n  },\n\n  watch: {\n    src: function src() {\n      var _this2 = this;\n\n      if (this.src) {\n        this.loadDocument(this.src).then(function () {\n          return _this2.loadPage(_this2.page);\n        });\n      }\n    },\n    page: function page(pg) {\n      if (this.page) {\n        this.loadPage(this.page);\n      }\n    }\n  },\n  methods: {\n    loadDocument: function loadDocument(src) {\n      var _this3 = this;\n\n      console.log('src', src);\n      return pdfjsLib.getDocument(src).then(function (pdfDocument) {\n        var pagesCount = pdfDocument.numPages;\n\n        _this3.numPages = pagesCount;\n\n        _this3.pdf = pdfDocument;\n\n        _this3.isLoading = false;\n      });\n    },\n    getPageScale: function getPageScale() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.page;\n      var scale = this.scale,\n          width = this.width;\n\n      var pageScale = 1;\n\n      if (width) {\n        pageScale = width / page.getViewport(scale).width;\n      }\n\n      return scale * pageScale;\n    },\n    loadPage: function loadPage(pageIndex) {\n      var _this4 = this;\n\n      var pdf = this.pdf;\n\n\n      if (!pdf) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      var pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdf.numPages) {\n        pageNumber = pdf.numPages;\n      }\n\n      return pdf.getPage(pageNumber).then(function (page) {\n        return _this4.onPageLoad(page);\n      }).catch(function (page) {\n        return _this4.onPageError(page);\n      });\n    },\n    onPageLoad: function onPageLoad(page) {\n      var canvas = this.$refs.canvas;\n\n      var canvasContext = canvas.getContext('2d');\n      var scale = this.scale,\n          rotate = this.rotate;\n\n      var viewport = page.getViewport(scale, rotate);\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      page.render({ canvasContext: canvasContext, viewport: viewport });\n    },\n    onPageError: function onPageError(page) {\n      console.error(page);\n    }\n  }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PDF__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PDF___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_PDF__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'reader',\n  components: {\n    'PDF': __WEBPACK_IMPORTED_MODULE_0__components_PDF___default.a\n  },\n  props: ['manifest-url'],\n  data: function data() {\n    return {\n      manifest: {},\n      page: 0\n    };\n  },\n  created: function created() {\n    this.fetchManifest();\n  },\n\n  methods: {\n    fetchManifest: function fetchManifest() {\n      var _this = this;\n\n      return fetch(this.manifestUrl).then(function (response) {\n        return response.json();\n      }).then(function (manifest) {\n        console.log(manifest);\n        _this.manifest = manifest;\n      });\n    },\n    next: function next() {\n      this.page += 1;\n    },\n    prev: function prev() {\n      if (this.page > 1) {\n        this.page -= 1;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(10)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(7),\n  /* template */\n  __webpack_require__(18),\n  /* scopeId */\n  \"data-v-0b9bd71c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(13)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(8),\n  /* template */\n  __webpack_require__(21),\n  /* scopeId */\n  \"data-v-84dcc46e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(11)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(9),\n  /* template */\n  __webpack_require__(19),\n  /* scopeId */\n  \"data-v-59fa2e3c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"page-wrap\"\n    }\n  }, [_c('PDF', {\n    attrs: {\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.page -= 1\n      }\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.page += 1\n      }\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('header', [_c('h1', [_vm._v(_vm._s(_vm.manifest.title) + \": \")]), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.manifest.subtitle) + \", \")]), _vm._v(\" \"), _c('h3', [_vm._v(_vm._s(_vm.manifest.author_as_it_appears))])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"images\"\n    }\n  }, [_c('ol', _vm._l((_vm.manifest.images), function(image) {\n    return _c('li', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.page = (image.page - 1)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": image.thumbnail\n      }\n    })])])\n  }))])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: {\n      loading: _vm.isLoading\n    },\n    attrs: {\n      \"id\": \"pageContainer\"\n    }\n  }, [_c('canvas', {\n    ref: \"canvas\"\n  })])\n},staticRenderFns: []}\n\n/***/ })\n],[5]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.535fb59773c64d9fdfd9.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Main',\n      component: Main\n    },\n    {\n      path: '/book/:book/edition/:edition',\n      name: 'Manifest',\n      component: Main\n    },\n    {\n      path: '/book/:book/edition/:edition/image/:image',\n      name: 'ImageLink',\n      component: Main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-626c8dc1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-626c8dc1\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 3\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6c22c58f","<template>\n  <Reader :manifest-url=\"url\" />\n</template>\n\n<script>\nimport Reader from '@/components/Reader'\n\nexport default {\n  name: 'main',\n  components: {\n    'Reader': Reader\n  },\n  data () {\n    return {\n      url: `https://s3.amazonaws.com/pubs-fchasen/books/${this.$route.params.book || 371}/editions/${this.$route.params.edition || 500}/manifest.json`\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Main.vue?154908a8","<template>\n  <div id=\"pageContainer\" :class=\"{ loading: isLoading }\">\n    <!-- <div id=\"pageContainerLeft\" class=\"pdfViewer\"></div>\n    <div id=\"pageContainerRight\" class=\"pdfViewer\"></div> -->\n    <canvas ref=\"canvas\" />\n  </div>\n</template>\n\n<!-- <script src=\"libs/pdfjs-dist/build/pdf.js\"></script> -->\n<!-- <script src=\"/static/libs/pdfjs-dist/build/pdf.worker.js\"></script> -->\n<script src=\"/static/libs/pdfjs-dist/web/pdf_viewer.js\"></script>\n<script>\nconst pdfjsLib = require('pdfjs-dist');\n// /* global PDFJS */\n\n// const pdfViewer = require('../../static/libs/pdfjs-dist/web/pdf_viewer.js');\n// console.log(pdfViewer);\npdfjsLib.PDFJS.workerSrc = '/static/libs/pdfjs-dist/build/pdf.worker.js';\n\nexport default {\n  name: 'pdf',\n  props: {\n    'src': {\n      type: String\n    },\n    'width': {\n      type: Number\n    },\n    'height': {\n      default: 1,\n      type: Number\n    },\n    'page': {\n      default: 0,\n      type: Number\n    }\n  },\n  data () {\n    return {\n      pdf: undefined,\n      numPages: 0,\n      scale: 1,\n      rotate: undefined,\n      isLoading: true\n    }\n  },\n  updated () {\n  },\n  mounted () {\n    if (this.src) {\n      this.loadDocument(this.src)\n        .then(() => this.loadPage(this.page))\n    }\n  },\n  watch: {\n    src () {\n      if (this.src) {\n        this.loadDocument(this.src)\n          .then(() => this.loadPage(this.page))\n      }\n    },\n    page (pg) {\n      if (this.page) {\n        this.loadPage(this.page);\n      }\n    }\n  },\n  methods: {\n    loadDocument (src) {\n      console.log('src', src);\n      return pdfjsLib.getDocument(src)\n        .then((pdfDocument) => {\n          // Document loaded, retrieving the page.\n          var pagesCount = pdfDocument.numPages;\n          // var noCover = settings.cover === false;\n          this.numPages = pagesCount;\n\n          this.pdf = pdfDocument;\n\n          this.isLoading = false;\n          // return pdfDocument.getPage(1);\n        })\n        // .then((firstPage) => {\n        // // var viewport = firstPage.getViewport(SCALE);\n        //   var CSS_UNITS = 96.0 / 72.0;\n        //\n        //   var widthScale = (window.innerWidth / 2) / firstPage.getViewport(CSS_UNITS).width;\n        //   var heightScale = (window.innerHeight) / firstPage.getViewport(CSS_UNITS).height;\n        //   var scale = (widthScale > heightScale ? heightScale : widthScale);\n        //\n        //   var viewport = firstPage.getViewport(scale);\n        //\n        // })\n    },\n    getPageScale (page = this.page) {\n      const { scale, width } = this;\n\n      // Be default, we'll render page at 100% * scale width.\n      let pageScale = 1;\n\n      // If width is defined, calculate the scale of the page so it could be of desired width.\n      if (width) {\n        pageScale = width / page.getViewport(scale).width;\n      }\n\n      return scale * pageScale;\n    },\n    loadPage (pageIndex) {\n      const { pdf } = this;\n\n      if (!pdf) {\n        throw new Error('Unexpected call to getPage() before the document has been loaded.');\n      }\n\n      let pageNumber = pageIndex + 1;\n\n      if (!pageIndex || pageNumber < 1) {\n        pageNumber = 1;\n      } else if (pageNumber >= pdf.numPages) {\n        pageNumber = pdf.numPages;\n      }\n\n      return pdf.getPage(pageNumber)\n        .then((page) => this.onPageLoad(page))\n        .catch((page) => this.onPageError(page));\n    },\n    onPageLoad (page) {\n      // const scale = this.getPageScale(page);\n      const { canvas } = this.$refs;\n      const canvasContext = canvas.getContext('2d');\n      const { scale, rotate } = this;\n      const viewport = page.getViewport(scale, rotate);\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      page.render({ canvasContext, viewport });\n    },\n    onPageError (page) {\n      console.error(page);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading {\n  /*background: #eee url('../assets/loading-icon.gif') center no-repeat;*/\n}\ncanvas {\n  /*background-color: #eee;*/\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PDF.vue?61f303f4","<template>\n  <div id=\"page-wrap\">\n\n    <PDF :src=\"this.manifest.pdf\" :page=\"page\"/>\n    <div id=\"prev\" class=\"arrow\" @click=\"page -= 1\">‹</div>\n    <div id=\"next\" class=\"arrow\" @click=\"page += 1\">›</div>\n    <header>\n      <h1>{{manifest.title}}: </h1>\n      <h2>{{manifest.subtitle}}, </h2>\n      <h3>{{manifest.author_as_it_appears}}</h3>\n    </header>\n    <div id=\"images\">\n      <ol>\n        <li v-for=\"image in manifest.images\">\n          <a class=\"img_link\" @click=\"page = (image.page - 1)\">\n            <img :src=\"image.thumbnail\" />\n          </a>\n        </li>\n      </ol>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PDF from '@/components/PDF'\n\nexport default {\n  name: 'reader',\n  components: {\n    'PDF': PDF\n  },\n  props: ['manifest-url'],\n  data () {\n    return {\n      manifest: {},\n      page: 0\n    }\n  },\n  created () {\n    this.fetchManifest()\n  },\n  methods: {\n    fetchManifest () {\n      return fetch(this.manifestUrl)\n        .then((response) => {\n          return response.json()\n        })\n        .then((manifest) => {\n          console.log(manifest)\n          this.manifest = manifest;\n        })\n    },\n    next () {\n      // TODO: don't go over total pages\n      this.page += 1;\n    },\n    prev () {\n      if (this.page > 1) {\n        this.page -= 1;\n      }\n    }\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nheader {\n\n}\n\nh1, h2, h3 {\n  font-weight: normal;\n  display: inline;\n  font-size: 16px;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n#prev {\n  left: 40px;\n}\n\n#next {\n  right: 40px;\n}\n\n.arrow {\n  position: absolute;\n  top: 50vh;\n  margin-top: -32px;\n  font-size: 64px;\n  color: #E2E2E2;\n  font-family: arial, sans-serif;\n  font-weight: bold;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  /*display: none;*/\n}\n\n.arrow:hover {\n  color: #777;\n}\n\n.arrow:active {\n  color: #000;\n}\n\n.img_link {\n  cursor: pointer;\n}\n\n.img_link:hover {\n  opacity: 0.8;\n}\n\n.img_link:active {\n  opacity: 0.5;\n}\n\n.img_link img {\n  max-width: 100px;\n  max-height: 100px;\n}\n\nheader {\n  margin: 24px;\n}\n\n#images {\n  margin: 40px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Reader.vue?9d4f798e","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0b9bd71c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b9bd71c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"),\n  /* scopeId */\n  \"data-v-0b9bd71c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = 15\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-84dcc46e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PDF.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PDF.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84dcc46e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PDF.vue\"),\n  /* scopeId */\n  \"data-v-84dcc46e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PDF.vue\n// module id = 16\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-59fa2e3c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Reader.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Reader.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59fa2e3c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Reader.vue\"),\n  /* scopeId */\n  \"data-v-59fa2e3c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Reader.vue\n// module id = 17\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Reader', {\n    attrs: {\n      \"manifest-url\": _vm.url\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b9bd71c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = 18\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"page-wrap\"\n    }\n  }, [_c('PDF', {\n    attrs: {\n      \"src\": this.manifest.pdf,\n      \"page\": _vm.page\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"prev\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.page -= 1\n      }\n    }\n  }, [_vm._v(\"‹\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow\",\n    attrs: {\n      \"id\": \"next\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.page += 1\n      }\n    }\n  }, [_vm._v(\"›\")]), _vm._v(\" \"), _c('header', [_c('h1', [_vm._v(_vm._s(_vm.manifest.title) + \": \")]), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.manifest.subtitle) + \", \")]), _vm._v(\" \"), _c('h3', [_vm._v(_vm._s(_vm.manifest.author_as_it_appears))])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"images\"\n    }\n  }, [_c('ol', _vm._l((_vm.manifest.images), function(image) {\n    return _c('li', [_c('a', {\n      staticClass: \"img_link\",\n      on: {\n        \"click\": function($event) {\n          _vm.page = (image.page - 1)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": image.thumbnail\n      }\n    })])])\n  }))])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-59fa2e3c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Reader.vue\n// module id = 19\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-626c8dc1\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 20\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: {\n      loading: _vm.isLoading\n    },\n    attrs: {\n      \"id\": \"pageContainer\"\n    }\n  }, [_c('canvas', {\n    ref: \"canvas\"\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-84dcc46e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PDF.vue\n// module id = 21\n// module chunks = 1"],"sourceRoot":""}